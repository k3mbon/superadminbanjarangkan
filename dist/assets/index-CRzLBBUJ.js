var jD=Object.defineProperty;var UD=(t,e,n)=>e in t?jD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var fe=(t,e,n)=>(UD(t,typeof e!="symbol"?e+"":e,n),n);function VD(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Qn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Rk={exports:{}},ip={},Ok={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wc=Symbol.for("react.element"),$D=Symbol.for("react.portal"),BD=Symbol.for("react.fragment"),qD=Symbol.for("react.strict_mode"),HD=Symbol.for("react.profiler"),WD=Symbol.for("react.provider"),zD=Symbol.for("react.context"),YD=Symbol.for("react.forward_ref"),KD=Symbol.for("react.suspense"),GD=Symbol.for("react.memo"),QD=Symbol.for("react.lazy"),Dw=Symbol.iterator;function XD(t){return t===null||typeof t!="object"?null:(t=Dw&&t[Dw]||t["@@iterator"],typeof t=="function"?t:null)}var Pk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Nk=Object.assign,xk={};function Tl(t,e,n){this.props=t,this.context=e,this.refs=xk,this.updater=n||Pk}Tl.prototype.isReactComponent={};Tl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Tl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Dk(){}Dk.prototype=Tl.prototype;function p_(t,e,n){this.props=t,this.context=e,this.refs=xk,this.updater=n||Pk}var m_=p_.prototype=new Dk;m_.constructor=p_;Nk(m_,Tl.prototype);m_.isPureReactComponent=!0;var Mw=Array.isArray,Mk=Object.prototype.hasOwnProperty,g_={current:null},Lk={key:!0,ref:!0,__self:!0,__source:!0};function Fk(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Mk.call(e,r)&&!Lk.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Wc,type:t,key:o,ref:s,props:i,_owner:g_.current}}function JD(t,e){return{$$typeof:Wc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function y_(t){return typeof t=="object"&&t!==null&&t.$$typeof===Wc}function ZD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Lw=/\/+/g;function Fm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ZD(""+t.key):e.toString(36)}function lf(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Wc:case $D:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Fm(s,0):r,Mw(i)?(n="",t!=null&&(n=t.replace(Lw,"$&/")+"/"),lf(i,e,n,"",function(u){return u})):i!=null&&(y_(i)&&(i=JD(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Lw,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Mw(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Fm(o,a);s+=lf(o,e,n,l,i)}else if(l=XD(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Fm(o,a++),s+=lf(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Sh(t,e,n){if(t==null)return t;var r=[],i=0;return lf(t,r,"","",function(o){return e.call(n,o,i++)}),r}function e2(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Dn={current:null},uf={transition:null},t2={ReactCurrentDispatcher:Dn,ReactCurrentBatchConfig:uf,ReactCurrentOwner:g_};De.Children={map:Sh,forEach:function(t,e,n){Sh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Sh(t,function(){e++}),e},toArray:function(t){return Sh(t,function(e){return e})||[]},only:function(t){if(!y_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};De.Component=Tl;De.Fragment=BD;De.Profiler=HD;De.PureComponent=p_;De.StrictMode=qD;De.Suspense=KD;De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t2;De.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Nk({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=g_.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Mk.call(e,l)&&!Lk.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Wc,type:t.type,key:i,ref:o,props:r,_owner:s}};De.createContext=function(t){return t={$$typeof:zD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:WD,_context:t},t.Consumer=t};De.createElement=Fk;De.createFactory=function(t){var e=Fk.bind(null,t);return e.type=t,e};De.createRef=function(){return{current:null}};De.forwardRef=function(t){return{$$typeof:YD,render:t}};De.isValidElement=y_;De.lazy=function(t){return{$$typeof:QD,_payload:{_status:-1,_result:t},_init:e2}};De.memo=function(t,e){return{$$typeof:GD,type:t,compare:e===void 0?null:e}};De.startTransition=function(t){var e=uf.transition;uf.transition={};try{t()}finally{uf.transition=e}};De.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};De.useCallback=function(t,e){return Dn.current.useCallback(t,e)};De.useContext=function(t){return Dn.current.useContext(t)};De.useDebugValue=function(){};De.useDeferredValue=function(t){return Dn.current.useDeferredValue(t)};De.useEffect=function(t,e){return Dn.current.useEffect(t,e)};De.useId=function(){return Dn.current.useId()};De.useImperativeHandle=function(t,e,n){return Dn.current.useImperativeHandle(t,e,n)};De.useInsertionEffect=function(t,e){return Dn.current.useInsertionEffect(t,e)};De.useLayoutEffect=function(t,e){return Dn.current.useLayoutEffect(t,e)};De.useMemo=function(t,e){return Dn.current.useMemo(t,e)};De.useReducer=function(t,e,n){return Dn.current.useReducer(t,e,n)};De.useRef=function(t){return Dn.current.useRef(t)};De.useState=function(t){return Dn.current.useState(t)};De.useSyncExternalStore=function(t,e,n){return Dn.current.useSyncExternalStore(t,e,n)};De.useTransition=function(){return Dn.current.useTransition()};De.version="18.2.0";Ok.exports=De;var q=Ok.exports;const G=Hc(q),v_=VD({__proto__:null,default:G},[q]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n2=q,r2=Symbol.for("react.element"),i2=Symbol.for("react.fragment"),o2=Object.prototype.hasOwnProperty,s2=n2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a2={key:!0,ref:!0,__self:!0,__source:!0};function jk(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)o2.call(e,r)&&!a2.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:r2,type:t,key:o,ref:s,props:i,_owner:s2.current}}ip.Fragment=i2;ip.jsx=jk;ip.jsxs=jk;Rk.exports=ip;var N=Rk.exports,oy={},Uk={exports:{}},lr={},Vk={exports:{}},$k={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(K,U){var M=K.length;K.push(U);e:for(;0<M;){var A=M-1>>>1,D=K[A];if(0<i(D,U))K[A]=U,K[M]=D,M=A;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var U=K[0],M=K.pop();if(M!==U){K[0]=M;e:for(var A=0,D=K.length,F=D>>>1;A<F;){var Y=2*(A+1)-1,W=K[Y],x=Y+1,$=K[x];if(0>i(W,M))x<D&&0>i($,W)?(K[A]=$,K[x]=M,A=x):(K[A]=W,K[Y]=M,A=Y);else if(x<D&&0>i($,M))K[A]=$,K[x]=M,A=x;else break e}}return U}function i(K,U){var M=K.sortIndex-U.sortIndex;return M!==0?M:K.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],h=1,c=null,f=3,d=!1,g=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(K){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=K)r(u),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(u)}}function v(K){if(y=!1,_(K),!g)if(n(l)!==null)g=!0,H(E);else{var U=n(u);U!==null&&B(v,U.startTime-K)}}function E(K,U){g=!1,y&&(y=!1,m(b),b=-1),d=!0;var M=f;try{for(_(U),c=n(l);c!==null&&(!(c.expirationTime>U)||K&&!k());){var A=c.callback;if(typeof A=="function"){c.callback=null,f=c.priorityLevel;var D=A(c.expirationTime<=U);U=t.unstable_now(),typeof D=="function"?c.callback=D:c===n(l)&&r(l),_(U)}else r(l);c=n(l)}if(c!==null)var F=!0;else{var Y=n(u);Y!==null&&B(v,Y.startTime-U),F=!1}return F}finally{c=null,f=M,d=!1}}var I=!1,T=null,b=-1,O=5,S=-1;function k(){return!(t.unstable_now()-S<O)}function C(){if(T!==null){var K=t.unstable_now();S=K;var U=!0;try{U=T(!0,K)}finally{U?R():(I=!1,T=null)}}else I=!1}var R;if(typeof p=="function")R=function(){p(C)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,j=P.port2;P.port1.onmessage=C,R=function(){j.postMessage(null)}}else R=function(){w(C,0)};function H(K){T=K,I||(I=!0,R())}function B(K,U){b=w(function(){K(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){g||d||(g=!0,H(E))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(K){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var M=f;f=U;try{return K()}finally{f=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,U){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var M=f;f=K;try{return U()}finally{f=M}},t.unstable_scheduleCallback=function(K,U,M){var A=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?A+M:A):M=A,K){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=M+D,K={id:h++,callback:U,priorityLevel:K,startTime:M,expirationTime:D,sortIndex:-1},M>A?(K.sortIndex=M,e(u,K),n(l)===null&&K===n(u)&&(y?(m(b),b=-1):y=!0,B(v,M-A))):(K.sortIndex=D,e(l,K),g||d||(g=!0,H(E))),K},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(K){var U=f;return function(){var M=f;f=U;try{return K.apply(this,arguments)}finally{f=M}}}})($k);Vk.exports=$k;var l2=Vk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bk=q,ir=l2;function ie(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qk=new Set,Xu={};function qs(t,e){Qa(t,e),Qa(t+"Capture",e)}function Qa(t,e){for(Xu[t]=e,t=0;t<e.length;t++)qk.add(e[t])}var Ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sy=Object.prototype.hasOwnProperty,u2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fw={},jw={};function c2(t){return sy.call(jw,t)?!0:sy.call(Fw,t)?!1:u2.test(t)?jw[t]=!0:(Fw[t]=!0,!1)}function h2(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function f2(t,e,n,r){if(e===null||typeof e>"u"||h2(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Mn(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var ln={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ln[t]=new Mn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ln[e]=new Mn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ln[t]=new Mn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ln[t]=new Mn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ln[t]=new Mn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ln[t]=new Mn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ln[t]=new Mn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ln[t]=new Mn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ln[t]=new Mn(t,5,!1,t.toLowerCase(),null,!1,!1)});var __=/[\-:]([a-z])/g;function w_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(__,w_);ln[e]=new Mn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(__,w_);ln[e]=new Mn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(__,w_);ln[e]=new Mn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ln[t]=new Mn(t,1,!1,t.toLowerCase(),null,!1,!1)});ln.xlinkHref=new Mn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ln[t]=new Mn(t,1,!1,t.toLowerCase(),null,!0,!0)});function E_(t,e,n,r){var i=ln.hasOwnProperty(e)?ln[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(f2(e,n,i,r)&&(n=null),r||i===null?c2(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var qi=Bk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,kh=Symbol.for("react.element"),ya=Symbol.for("react.portal"),va=Symbol.for("react.fragment"),T_=Symbol.for("react.strict_mode"),ay=Symbol.for("react.profiler"),Hk=Symbol.for("react.provider"),Wk=Symbol.for("react.context"),b_=Symbol.for("react.forward_ref"),ly=Symbol.for("react.suspense"),uy=Symbol.for("react.suspense_list"),S_=Symbol.for("react.memo"),Qi=Symbol.for("react.lazy"),zk=Symbol.for("react.offscreen"),Uw=Symbol.iterator;function Kl(t){return t===null||typeof t!="object"?null:(t=Uw&&t[Uw]||t["@@iterator"],typeof t=="function"?t:null)}var wt=Object.assign,jm;function vu(t){if(jm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);jm=e&&e[1]||""}return`
`+jm+t}var Um=!1;function Vm(t,e){if(!t||Um)return"";Um=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Um=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?vu(t):""}function d2(t){switch(t.tag){case 5:return vu(t.type);case 16:return vu("Lazy");case 13:return vu("Suspense");case 19:return vu("SuspenseList");case 0:case 2:case 15:return t=Vm(t.type,!1),t;case 11:return t=Vm(t.type.render,!1),t;case 1:return t=Vm(t.type,!0),t;default:return""}}function cy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case va:return"Fragment";case ya:return"Portal";case ay:return"Profiler";case T_:return"StrictMode";case ly:return"Suspense";case uy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Wk:return(t.displayName||"Context")+".Consumer";case Hk:return(t._context.displayName||"Context")+".Provider";case b_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case S_:return e=t.displayName||null,e!==null?e:cy(t.type)||"Memo";case Qi:e=t._payload,t=t._init;try{return cy(t(e))}catch{}}return null}function p2(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cy(e);case 8:return e===T_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ro(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yk(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function m2(t){var e=Yk(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ih(t){t._valueTracker||(t._valueTracker=m2(t))}function Kk(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Yk(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Df(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function hy(t,e){var n=e.checked;return wt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Vw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ro(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Gk(t,e){e=e.checked,e!=null&&E_(t,"checked",e,!1)}function fy(t,e){Gk(t,e);var n=Ro(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?dy(t,e.type,n):e.hasOwnProperty("defaultValue")&&dy(t,e.type,Ro(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function $w(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function dy(t,e,n){(e!=="number"||Df(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var _u=Array.isArray;function Ma(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ro(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function py(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ie(91));return wt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Bw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ie(92));if(_u(n)){if(1<n.length)throw Error(ie(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ro(n)}}function Qk(t,e){var n=Ro(e.value),r=Ro(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function qw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Xk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function my(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Xk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ch,Jk=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ch=Ch||document.createElement("div"),Ch.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ch.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ju(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ou={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},g2=["Webkit","ms","Moz","O"];Object.keys(Ou).forEach(function(t){g2.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ou[e]=Ou[t]})});function Zk(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ou.hasOwnProperty(t)&&Ou[t]?(""+e).trim():e+"px"}function eI(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Zk(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var y2=wt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gy(t,e){if(e){if(y2[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ie(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ie(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ie(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ie(62))}}function yy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vy=null;function k_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _y=null,La=null,Fa=null;function Hw(t){if(t=Kc(t)){if(typeof _y!="function")throw Error(ie(280));var e=t.stateNode;e&&(e=up(e),_y(t.stateNode,t.type,e))}}function tI(t){La?Fa?Fa.push(t):Fa=[t]:La=t}function nI(){if(La){var t=La,e=Fa;if(Fa=La=null,Hw(t),e)for(t=0;t<e.length;t++)Hw(e[t])}}function rI(t,e){return t(e)}function iI(){}var $m=!1;function oI(t,e,n){if($m)return t(e,n);$m=!0;try{return rI(t,e,n)}finally{$m=!1,(La!==null||Fa!==null)&&(iI(),nI())}}function Zu(t,e){var n=t.stateNode;if(n===null)return null;var r=up(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ie(231,e,typeof n));return n}var wy=!1;if(Ni)try{var Gl={};Object.defineProperty(Gl,"passive",{get:function(){wy=!0}}),window.addEventListener("test",Gl,Gl),window.removeEventListener("test",Gl,Gl)}catch{wy=!1}function v2(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var Pu=!1,Mf=null,Lf=!1,Ey=null,_2={onError:function(t){Pu=!0,Mf=t}};function w2(t,e,n,r,i,o,s,a,l){Pu=!1,Mf=null,v2.apply(_2,arguments)}function E2(t,e,n,r,i,o,s,a,l){if(w2.apply(this,arguments),Pu){if(Pu){var u=Mf;Pu=!1,Mf=null}else throw Error(ie(198));Lf||(Lf=!0,Ey=u)}}function Hs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function sI(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ww(t){if(Hs(t)!==t)throw Error(ie(188))}function T2(t){var e=t.alternate;if(!e){if(e=Hs(t),e===null)throw Error(ie(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ww(i),t;if(o===r)return Ww(i),e;o=o.sibling}throw Error(ie(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(ie(189))}}if(n.alternate!==r)throw Error(ie(190))}if(n.tag!==3)throw Error(ie(188));return n.stateNode.current===n?t:e}function aI(t){return t=T2(t),t!==null?lI(t):null}function lI(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=lI(t);if(e!==null)return e;t=t.sibling}return null}var uI=ir.unstable_scheduleCallback,zw=ir.unstable_cancelCallback,b2=ir.unstable_shouldYield,S2=ir.unstable_requestPaint,It=ir.unstable_now,k2=ir.unstable_getCurrentPriorityLevel,I_=ir.unstable_ImmediatePriority,cI=ir.unstable_UserBlockingPriority,Ff=ir.unstable_NormalPriority,I2=ir.unstable_LowPriority,hI=ir.unstable_IdlePriority,op=null,ti=null;function C2(t){if(ti&&typeof ti.onCommitFiberRoot=="function")try{ti.onCommitFiberRoot(op,t,void 0,(t.current.flags&128)===128)}catch{}}var xr=Math.clz32?Math.clz32:O2,A2=Math.log,R2=Math.LN2;function O2(t){return t>>>=0,t===0?32:31-(A2(t)/R2|0)|0}var Ah=64,Rh=4194304;function wu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function jf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=wu(a):(o&=s,o!==0&&(r=wu(o)))}else s=n&~i,s!==0?r=wu(s):o!==0&&(r=wu(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-xr(e),i=1<<n,r|=t[n],e&=~i;return r}function P2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function N2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-xr(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=P2(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Ty(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function fI(){var t=Ah;return Ah<<=1,!(Ah&4194240)&&(Ah=64),t}function Bm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function zc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xr(e),t[e]=n}function x2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-xr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function C_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-xr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ke=0;function dI(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var pI,A_,mI,gI,yI,by=!1,Oh=[],fo=null,po=null,mo=null,ec=new Map,tc=new Map,eo=[],D2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yw(t,e){switch(t){case"focusin":case"focusout":fo=null;break;case"dragenter":case"dragleave":po=null;break;case"mouseover":case"mouseout":mo=null;break;case"pointerover":case"pointerout":ec.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":tc.delete(e.pointerId)}}function Ql(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Kc(e),e!==null&&A_(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function M2(t,e,n,r,i){switch(e){case"focusin":return fo=Ql(fo,t,e,n,r,i),!0;case"dragenter":return po=Ql(po,t,e,n,r,i),!0;case"mouseover":return mo=Ql(mo,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return ec.set(o,Ql(ec.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,tc.set(o,Ql(tc.get(o)||null,t,e,n,r,i)),!0}return!1}function vI(t){var e=os(t.target);if(e!==null){var n=Hs(e);if(n!==null){if(e=n.tag,e===13){if(e=sI(n),e!==null){t.blockedOn=e,yI(t.priority,function(){mI(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function cf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Sy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);vy=r,n.target.dispatchEvent(r),vy=null}else return e=Kc(n),e!==null&&A_(e),t.blockedOn=n,!1;e.shift()}return!0}function Kw(t,e,n){cf(t)&&n.delete(e)}function L2(){by=!1,fo!==null&&cf(fo)&&(fo=null),po!==null&&cf(po)&&(po=null),mo!==null&&cf(mo)&&(mo=null),ec.forEach(Kw),tc.forEach(Kw)}function Xl(t,e){t.blockedOn===e&&(t.blockedOn=null,by||(by=!0,ir.unstable_scheduleCallback(ir.unstable_NormalPriority,L2)))}function nc(t){function e(i){return Xl(i,t)}if(0<Oh.length){Xl(Oh[0],t);for(var n=1;n<Oh.length;n++){var r=Oh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(fo!==null&&Xl(fo,t),po!==null&&Xl(po,t),mo!==null&&Xl(mo,t),ec.forEach(e),tc.forEach(e),n=0;n<eo.length;n++)r=eo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<eo.length&&(n=eo[0],n.blockedOn===null);)vI(n),n.blockedOn===null&&eo.shift()}var ja=qi.ReactCurrentBatchConfig,Uf=!0;function F2(t,e,n,r){var i=Ke,o=ja.transition;ja.transition=null;try{Ke=1,R_(t,e,n,r)}finally{Ke=i,ja.transition=o}}function j2(t,e,n,r){var i=Ke,o=ja.transition;ja.transition=null;try{Ke=4,R_(t,e,n,r)}finally{Ke=i,ja.transition=o}}function R_(t,e,n,r){if(Uf){var i=Sy(t,e,n,r);if(i===null)Jm(t,e,r,Vf,n),Yw(t,r);else if(M2(i,t,e,n,r))r.stopPropagation();else if(Yw(t,r),e&4&&-1<D2.indexOf(t)){for(;i!==null;){var o=Kc(i);if(o!==null&&pI(o),o=Sy(t,e,n,r),o===null&&Jm(t,e,r,Vf,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Jm(t,e,r,null,n)}}var Vf=null;function Sy(t,e,n,r){if(Vf=null,t=k_(r),t=os(t),t!==null)if(e=Hs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=sI(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Vf=t,null}function _I(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(k2()){case I_:return 1;case cI:return 4;case Ff:case I2:return 16;case hI:return 536870912;default:return 16}default:return 16}}var ao=null,O_=null,hf=null;function wI(){if(hf)return hf;var t,e=O_,n=e.length,r,i="value"in ao?ao.value:ao.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return hf=i.slice(t,1<r?1-r:void 0)}function ff(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ph(){return!0}function Gw(){return!1}function ur(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ph:Gw,this.isPropagationStopped=Gw,this}return wt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ph)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ph)},persist:function(){},isPersistent:Ph}),e}var bl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},P_=ur(bl),Yc=wt({},bl,{view:0,detail:0}),U2=ur(Yc),qm,Hm,Jl,sp=wt({},Yc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:N_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Jl&&(Jl&&t.type==="mousemove"?(qm=t.screenX-Jl.screenX,Hm=t.screenY-Jl.screenY):Hm=qm=0,Jl=t),qm)},movementY:function(t){return"movementY"in t?t.movementY:Hm}}),Qw=ur(sp),V2=wt({},sp,{dataTransfer:0}),$2=ur(V2),B2=wt({},Yc,{relatedTarget:0}),Wm=ur(B2),q2=wt({},bl,{animationName:0,elapsedTime:0,pseudoElement:0}),H2=ur(q2),W2=wt({},bl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),z2=ur(W2),Y2=wt({},bl,{data:0}),Xw=ur(Y2),K2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},G2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Q2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function X2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Q2[t])?!!e[t]:!1}function N_(){return X2}var J2=wt({},Yc,{key:function(t){if(t.key){var e=K2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ff(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?G2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:N_,charCode:function(t){return t.type==="keypress"?ff(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ff(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Z2=ur(J2),eM=wt({},sp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jw=ur(eM),tM=wt({},Yc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:N_}),nM=ur(tM),rM=wt({},bl,{propertyName:0,elapsedTime:0,pseudoElement:0}),iM=ur(rM),oM=wt({},sp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),sM=ur(oM),aM=[9,13,27,32],x_=Ni&&"CompositionEvent"in window,Nu=null;Ni&&"documentMode"in document&&(Nu=document.documentMode);var lM=Ni&&"TextEvent"in window&&!Nu,EI=Ni&&(!x_||Nu&&8<Nu&&11>=Nu),Zw=" ",eE=!1;function TI(t,e){switch(t){case"keyup":return aM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _a=!1;function uM(t,e){switch(t){case"compositionend":return bI(e);case"keypress":return e.which!==32?null:(eE=!0,Zw);case"textInput":return t=e.data,t===Zw&&eE?null:t;default:return null}}function cM(t,e){if(_a)return t==="compositionend"||!x_&&TI(t,e)?(t=wI(),hf=O_=ao=null,_a=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return EI&&e.locale!=="ko"?null:e.data;default:return null}}var hM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!hM[t.type]:e==="textarea"}function SI(t,e,n,r){tI(r),e=$f(e,"onChange"),0<e.length&&(n=new P_("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var xu=null,rc=null;function fM(t){MI(t,0)}function ap(t){var e=Ta(t);if(Kk(e))return t}function dM(t,e){if(t==="change")return e}var kI=!1;if(Ni){var zm;if(Ni){var Ym="oninput"in document;if(!Ym){var nE=document.createElement("div");nE.setAttribute("oninput","return;"),Ym=typeof nE.oninput=="function"}zm=Ym}else zm=!1;kI=zm&&(!document.documentMode||9<document.documentMode)}function rE(){xu&&(xu.detachEvent("onpropertychange",II),rc=xu=null)}function II(t){if(t.propertyName==="value"&&ap(rc)){var e=[];SI(e,rc,t,k_(t)),oI(fM,e)}}function pM(t,e,n){t==="focusin"?(rE(),xu=e,rc=n,xu.attachEvent("onpropertychange",II)):t==="focusout"&&rE()}function mM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ap(rc)}function gM(t,e){if(t==="click")return ap(e)}function yM(t,e){if(t==="input"||t==="change")return ap(e)}function vM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Lr=typeof Object.is=="function"?Object.is:vM;function ic(t,e){if(Lr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!sy.call(e,i)||!Lr(t[i],e[i]))return!1}return!0}function iE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function oE(t,e){var n=iE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=iE(n)}}function CI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?CI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function AI(){for(var t=window,e=Df();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Df(t.document)}return e}function D_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function _M(t){var e=AI(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&CI(n.ownerDocument.documentElement,n)){if(r!==null&&D_(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=oE(n,o);var s=oE(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var wM=Ni&&"documentMode"in document&&11>=document.documentMode,wa=null,ky=null,Du=null,Iy=!1;function sE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Iy||wa==null||wa!==Df(r)||(r=wa,"selectionStart"in r&&D_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Du&&ic(Du,r)||(Du=r,r=$f(ky,"onSelect"),0<r.length&&(e=new P_("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=wa)))}function Nh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ea={animationend:Nh("Animation","AnimationEnd"),animationiteration:Nh("Animation","AnimationIteration"),animationstart:Nh("Animation","AnimationStart"),transitionend:Nh("Transition","TransitionEnd")},Km={},RI={};Ni&&(RI=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function lp(t){if(Km[t])return Km[t];if(!Ea[t])return t;var e=Ea[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in RI)return Km[t]=e[n];return t}var OI=lp("animationend"),PI=lp("animationiteration"),NI=lp("animationstart"),xI=lp("transitionend"),DI=new Map,aE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Uo(t,e){DI.set(t,e),qs(e,[t])}for(var Gm=0;Gm<aE.length;Gm++){var Qm=aE[Gm],EM=Qm.toLowerCase(),TM=Qm[0].toUpperCase()+Qm.slice(1);Uo(EM,"on"+TM)}Uo(OI,"onAnimationEnd");Uo(PI,"onAnimationIteration");Uo(NI,"onAnimationStart");Uo("dblclick","onDoubleClick");Uo("focusin","onFocus");Uo("focusout","onBlur");Uo(xI,"onTransitionEnd");Qa("onMouseEnter",["mouseout","mouseover"]);Qa("onMouseLeave",["mouseout","mouseover"]);Qa("onPointerEnter",["pointerout","pointerover"]);Qa("onPointerLeave",["pointerout","pointerover"]);qs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qs("onBeforeInput",["compositionend","keypress","textInput","paste"]);qs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Eu));function lE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,E2(r,e,void 0,t),t.currentTarget=null}function MI(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;lE(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;lE(i,a,u),o=l}}}if(Lf)throw t=Ey,Lf=!1,Ey=null,t}function it(t,e){var n=e[Py];n===void 0&&(n=e[Py]=new Set);var r=t+"__bubble";n.has(r)||(LI(e,t,2,!1),n.add(r))}function Xm(t,e,n){var r=0;e&&(r|=4),LI(n,t,r,e)}var xh="_reactListening"+Math.random().toString(36).slice(2);function oc(t){if(!t[xh]){t[xh]=!0,qk.forEach(function(n){n!=="selectionchange"&&(bM.has(n)||Xm(n,!1,t),Xm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[xh]||(e[xh]=!0,Xm("selectionchange",!1,e))}}function LI(t,e,n,r){switch(_I(e)){case 1:var i=F2;break;case 4:i=j2;break;default:i=R_}n=i.bind(null,e,n,t),i=void 0,!wy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Jm(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=os(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}oI(function(){var u=o,h=k_(n),c=[];e:{var f=DI.get(t);if(f!==void 0){var d=P_,g=t;switch(t){case"keypress":if(ff(n)===0)break e;case"keydown":case"keyup":d=Z2;break;case"focusin":g="focus",d=Wm;break;case"focusout":g="blur",d=Wm;break;case"beforeblur":case"afterblur":d=Wm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=Qw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=$2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=nM;break;case OI:case PI:case NI:d=H2;break;case xI:d=iM;break;case"scroll":d=U2;break;case"wheel":d=sM;break;case"copy":case"cut":case"paste":d=z2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=Jw}var y=(e&4)!==0,w=!y&&t==="scroll",m=y?f!==null?f+"Capture":null:f;y=[];for(var p=u,_;p!==null;){_=p;var v=_.stateNode;if(_.tag===5&&v!==null&&(_=v,m!==null&&(v=Zu(p,m),v!=null&&y.push(sc(p,v,_)))),w)break;p=p.return}0<y.length&&(f=new d(f,g,null,n,h),c.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",f&&n!==vy&&(g=n.relatedTarget||n.fromElement)&&(os(g)||g[xi]))break e;if((d||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,d?(g=n.relatedTarget||n.toElement,d=u,g=g?os(g):null,g!==null&&(w=Hs(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(d=null,g=u),d!==g)){if(y=Qw,v="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(y=Jw,v="onPointerLeave",m="onPointerEnter",p="pointer"),w=d==null?f:Ta(d),_=g==null?f:Ta(g),f=new y(v,p+"leave",d,n,h),f.target=w,f.relatedTarget=_,v=null,os(h)===u&&(y=new y(m,p+"enter",g,n,h),y.target=_,y.relatedTarget=w,v=y),w=v,d&&g)t:{for(y=d,m=g,p=0,_=y;_;_=la(_))p++;for(_=0,v=m;v;v=la(v))_++;for(;0<p-_;)y=la(y),p--;for(;0<_-p;)m=la(m),_--;for(;p--;){if(y===m||m!==null&&y===m.alternate)break t;y=la(y),m=la(m)}y=null}else y=null;d!==null&&uE(c,f,d,y,!1),g!==null&&w!==null&&uE(c,w,g,y,!0)}}e:{if(f=u?Ta(u):window,d=f.nodeName&&f.nodeName.toLowerCase(),d==="select"||d==="input"&&f.type==="file")var E=dM;else if(tE(f))if(kI)E=yM;else{E=mM;var I=pM}else(d=f.nodeName)&&d.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=gM);if(E&&(E=E(t,u))){SI(c,E,n,h);break e}I&&I(t,f,u),t==="focusout"&&(I=f._wrapperState)&&I.controlled&&f.type==="number"&&dy(f,"number",f.value)}switch(I=u?Ta(u):window,t){case"focusin":(tE(I)||I.contentEditable==="true")&&(wa=I,ky=u,Du=null);break;case"focusout":Du=ky=wa=null;break;case"mousedown":Iy=!0;break;case"contextmenu":case"mouseup":case"dragend":Iy=!1,sE(c,n,h);break;case"selectionchange":if(wM)break;case"keydown":case"keyup":sE(c,n,h)}var T;if(x_)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else _a?TI(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(EI&&n.locale!=="ko"&&(_a||b!=="onCompositionStart"?b==="onCompositionEnd"&&_a&&(T=wI()):(ao=h,O_="value"in ao?ao.value:ao.textContent,_a=!0)),I=$f(u,b),0<I.length&&(b=new Xw(b,t,null,n,h),c.push({event:b,listeners:I}),T?b.data=T:(T=bI(n),T!==null&&(b.data=T)))),(T=lM?uM(t,n):cM(t,n))&&(u=$f(u,"onBeforeInput"),0<u.length&&(h=new Xw("onBeforeInput","beforeinput",null,n,h),c.push({event:h,listeners:u}),h.data=T))}MI(c,e)})}function sc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function $f(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Zu(t,n),o!=null&&r.unshift(sc(t,o,i)),o=Zu(t,e),o!=null&&r.push(sc(t,o,i))),t=t.return}return r}function la(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function uE(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Zu(n,o),l!=null&&s.unshift(sc(n,l,a))):i||(l=Zu(n,o),l!=null&&s.push(sc(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var SM=/\r\n?/g,kM=/\u0000|\uFFFD/g;function cE(t){return(typeof t=="string"?t:""+t).replace(SM,`
`).replace(kM,"")}function Dh(t,e,n){if(e=cE(e),cE(t)!==e&&n)throw Error(ie(425))}function Bf(){}var Cy=null,Ay=null;function Ry(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Oy=typeof setTimeout=="function"?setTimeout:void 0,IM=typeof clearTimeout=="function"?clearTimeout:void 0,hE=typeof Promise=="function"?Promise:void 0,CM=typeof queueMicrotask=="function"?queueMicrotask:typeof hE<"u"?function(t){return hE.resolve(null).then(t).catch(AM)}:Oy;function AM(t){setTimeout(function(){throw t})}function Zm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),nc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);nc(e)}function go(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function fE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Sl=Math.random().toString(36).slice(2),zr="__reactFiber$"+Sl,ac="__reactProps$"+Sl,xi="__reactContainer$"+Sl,Py="__reactEvents$"+Sl,RM="__reactListeners$"+Sl,OM="__reactHandles$"+Sl;function os(t){var e=t[zr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[xi]||n[zr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=fE(t);t!==null;){if(n=t[zr])return n;t=fE(t)}return e}t=n,n=t.parentNode}return null}function Kc(t){return t=t[zr]||t[xi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ta(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ie(33))}function up(t){return t[ac]||null}var Ny=[],ba=-1;function Vo(t){return{current:t}}function ct(t){0>ba||(t.current=Ny[ba],Ny[ba]=null,ba--)}function tt(t,e){ba++,Ny[ba]=t.current,t.current=e}var Oo={},Sn=Vo(Oo),qn=Vo(!1),Ts=Oo;function Xa(t,e){var n=t.type.contextTypes;if(!n)return Oo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Hn(t){return t=t.childContextTypes,t!=null}function qf(){ct(qn),ct(Sn)}function dE(t,e,n){if(Sn.current!==Oo)throw Error(ie(168));tt(Sn,e),tt(qn,n)}function FI(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ie(108,p2(t)||"Unknown",i));return wt({},n,r)}function Hf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Oo,Ts=Sn.current,tt(Sn,t),tt(qn,qn.current),!0}function pE(t,e,n){var r=t.stateNode;if(!r)throw Error(ie(169));n?(t=FI(t,e,Ts),r.__reactInternalMemoizedMergedChildContext=t,ct(qn),ct(Sn),tt(Sn,t)):ct(qn),tt(qn,n)}var _i=null,cp=!1,eg=!1;function jI(t){_i===null?_i=[t]:_i.push(t)}function PM(t){cp=!0,jI(t)}function $o(){if(!eg&&_i!==null){eg=!0;var t=0,e=Ke;try{var n=_i;for(Ke=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}_i=null,cp=!1}catch(i){throw _i!==null&&(_i=_i.slice(t+1)),uI(I_,$o),i}finally{Ke=e,eg=!1}}return null}var Sa=[],ka=0,Wf=null,zf=0,cr=[],hr=0,bs=null,bi=1,Si="";function Xo(t,e){Sa[ka++]=zf,Sa[ka++]=Wf,Wf=t,zf=e}function UI(t,e,n){cr[hr++]=bi,cr[hr++]=Si,cr[hr++]=bs,bs=t;var r=bi;t=Si;var i=32-xr(r)-1;r&=~(1<<i),n+=1;var o=32-xr(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,bi=1<<32-xr(e)+i|n<<i|r,Si=o+t}else bi=1<<o|n<<i|r,Si=t}function M_(t){t.return!==null&&(Xo(t,1),UI(t,1,0))}function L_(t){for(;t===Wf;)Wf=Sa[--ka],Sa[ka]=null,zf=Sa[--ka],Sa[ka]=null;for(;t===bs;)bs=cr[--hr],cr[hr]=null,Si=cr[--hr],cr[hr]=null,bi=cr[--hr],cr[hr]=null}var tr=null,Xn=null,dt=!1,Ar=null;function VI(t,e){var n=dr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function mE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,tr=t,Xn=go(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,tr=t,Xn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=bs!==null?{id:bi,overflow:Si}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=dr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,tr=t,Xn=null,!0):!1;default:return!1}}function xy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Dy(t){if(dt){var e=Xn;if(e){var n=e;if(!mE(t,e)){if(xy(t))throw Error(ie(418));e=go(n.nextSibling);var r=tr;e&&mE(t,e)?VI(r,n):(t.flags=t.flags&-4097|2,dt=!1,tr=t)}}else{if(xy(t))throw Error(ie(418));t.flags=t.flags&-4097|2,dt=!1,tr=t}}}function gE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tr=t}function Mh(t){if(t!==tr)return!1;if(!dt)return gE(t),dt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ry(t.type,t.memoizedProps)),e&&(e=Xn)){if(xy(t))throw $I(),Error(ie(418));for(;e;)VI(t,e),e=go(e.nextSibling)}if(gE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ie(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Xn=go(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Xn=null}}else Xn=tr?go(t.stateNode.nextSibling):null;return!0}function $I(){for(var t=Xn;t;)t=go(t.nextSibling)}function Ja(){Xn=tr=null,dt=!1}function F_(t){Ar===null?Ar=[t]:Ar.push(t)}var NM=qi.ReactCurrentBatchConfig;function Ir(t,e){if(t&&t.defaultProps){e=wt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Yf=Vo(null),Kf=null,Ia=null,j_=null;function U_(){j_=Ia=Kf=null}function V_(t){var e=Yf.current;ct(Yf),t._currentValue=e}function My(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ua(t,e){Kf=t,j_=Ia=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&($n=!0),t.firstContext=null)}function _r(t){var e=t._currentValue;if(j_!==t)if(t={context:t,memoizedValue:e,next:null},Ia===null){if(Kf===null)throw Error(ie(308));Ia=t,Kf.dependencies={lanes:0,firstContext:t}}else Ia=Ia.next=t;return e}var ss=null;function $_(t){ss===null?ss=[t]:ss.push(t)}function BI(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,$_(e)):(n.next=i.next,i.next=n),e.interleaved=n,Di(t,r)}function Di(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Xi=!1;function B_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ri(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function yo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,$e&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Di(t,n)}return i=r.interleaved,i===null?(e.next=e,$_(r)):(e.next=i.next,i.next=e),r.interleaved=e,Di(t,n)}function df(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,C_(t,n)}}function yE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Gf(t,e,n,r){var i=t.updateQueue;Xi=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==s&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(o!==null){var c=i.baseState;s=0,h=u=l=null,a=o;do{var f=a.lane,d=a.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,y=a;switch(f=e,d=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){c=g.call(d,c,f);break e}c=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,f=typeof g=="function"?g.call(d,c,f):g,f==null)break e;c=wt({},c,f);break e;case 2:Xi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else d={eventTime:d,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=d,l=c):h=h.next=d,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(h===null&&(l=c),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);ks|=s,t.lanes=s,t.memoizedState=c}}function vE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ie(191,i));i.call(r)}}}var HI=new Bk.Component().refs;function Ly(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:wt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var hp={isMounted:function(t){return(t=t._reactInternals)?Hs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Pn(),i=_o(t),o=Ri(r,i);o.payload=e,n!=null&&(o.callback=n),e=yo(t,o,i),e!==null&&(Dr(e,t,i,r),df(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Pn(),i=_o(t),o=Ri(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=yo(t,o,i),e!==null&&(Dr(e,t,i,r),df(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Pn(),r=_o(t),i=Ri(n,r);i.tag=2,e!=null&&(i.callback=e),e=yo(t,i,r),e!==null&&(Dr(e,t,r,n),df(e,t,r))}};function _E(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!ic(n,r)||!ic(i,o):!0}function WI(t,e,n){var r=!1,i=Oo,o=e.contextType;return typeof o=="object"&&o!==null?o=_r(o):(i=Hn(e)?Ts:Sn.current,r=e.contextTypes,o=(r=r!=null)?Xa(t,i):Oo),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=hp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function wE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&hp.enqueueReplaceState(e,e.state,null)}function Fy(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=HI,B_(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=_r(o):(o=Hn(e)?Ts:Sn.current,i.context=Xa(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Ly(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&hp.enqueueReplaceState(i,i.state,null),Gf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Zl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ie(309));var r=n.stateNode}if(!r)throw Error(ie(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===HI&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(ie(284));if(!n._owner)throw Error(ie(290,t))}return t}function Lh(t,e){throw t=Object.prototype.toString.call(e),Error(ie(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function EE(t){var e=t._init;return e(t._payload)}function zI(t){function e(m,p){if(t){var _=m.deletions;_===null?(m.deletions=[p],m.flags|=16):_.push(p)}}function n(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function i(m,p){return m=wo(m,p),m.index=0,m.sibling=null,m}function o(m,p,_){return m.index=_,t?(_=m.alternate,_!==null?(_=_.index,_<p?(m.flags|=2,p):_):(m.flags|=2,p)):(m.flags|=1048576,p)}function s(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,p,_,v){return p===null||p.tag!==6?(p=ag(_,m.mode,v),p.return=m,p):(p=i(p,_),p.return=m,p)}function l(m,p,_,v){var E=_.type;return E===va?h(m,p,_.props.children,v,_.key):p!==null&&(p.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Qi&&EE(E)===p.type)?(v=i(p,_.props),v.ref=Zl(m,p,_),v.return=m,v):(v=_f(_.type,_.key,_.props,null,m.mode,v),v.ref=Zl(m,p,_),v.return=m,v)}function u(m,p,_,v){return p===null||p.tag!==4||p.stateNode.containerInfo!==_.containerInfo||p.stateNode.implementation!==_.implementation?(p=lg(_,m.mode,v),p.return=m,p):(p=i(p,_.children||[]),p.return=m,p)}function h(m,p,_,v,E){return p===null||p.tag!==7?(p=ms(_,m.mode,v,E),p.return=m,p):(p=i(p,_),p.return=m,p)}function c(m,p,_){if(typeof p=="string"&&p!==""||typeof p=="number")return p=ag(""+p,m.mode,_),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case kh:return _=_f(p.type,p.key,p.props,null,m.mode,_),_.ref=Zl(m,null,p),_.return=m,_;case ya:return p=lg(p,m.mode,_),p.return=m,p;case Qi:var v=p._init;return c(m,v(p._payload),_)}if(_u(p)||Kl(p))return p=ms(p,m.mode,_,null),p.return=m,p;Lh(m,p)}return null}function f(m,p,_,v){var E=p!==null?p.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return E!==null?null:a(m,p,""+_,v);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case kh:return _.key===E?l(m,p,_,v):null;case ya:return _.key===E?u(m,p,_,v):null;case Qi:return E=_._init,f(m,p,E(_._payload),v)}if(_u(_)||Kl(_))return E!==null?null:h(m,p,_,v,null);Lh(m,_)}return null}function d(m,p,_,v,E){if(typeof v=="string"&&v!==""||typeof v=="number")return m=m.get(_)||null,a(p,m,""+v,E);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case kh:return m=m.get(v.key===null?_:v.key)||null,l(p,m,v,E);case ya:return m=m.get(v.key===null?_:v.key)||null,u(p,m,v,E);case Qi:var I=v._init;return d(m,p,_,I(v._payload),E)}if(_u(v)||Kl(v))return m=m.get(_)||null,h(p,m,v,E,null);Lh(p,v)}return null}function g(m,p,_,v){for(var E=null,I=null,T=p,b=p=0,O=null;T!==null&&b<_.length;b++){T.index>b?(O=T,T=null):O=T.sibling;var S=f(m,T,_[b],v);if(S===null){T===null&&(T=O);break}t&&T&&S.alternate===null&&e(m,T),p=o(S,p,b),I===null?E=S:I.sibling=S,I=S,T=O}if(b===_.length)return n(m,T),dt&&Xo(m,b),E;if(T===null){for(;b<_.length;b++)T=c(m,_[b],v),T!==null&&(p=o(T,p,b),I===null?E=T:I.sibling=T,I=T);return dt&&Xo(m,b),E}for(T=r(m,T);b<_.length;b++)O=d(T,m,b,_[b],v),O!==null&&(t&&O.alternate!==null&&T.delete(O.key===null?b:O.key),p=o(O,p,b),I===null?E=O:I.sibling=O,I=O);return t&&T.forEach(function(k){return e(m,k)}),dt&&Xo(m,b),E}function y(m,p,_,v){var E=Kl(_);if(typeof E!="function")throw Error(ie(150));if(_=E.call(_),_==null)throw Error(ie(151));for(var I=E=null,T=p,b=p=0,O=null,S=_.next();T!==null&&!S.done;b++,S=_.next()){T.index>b?(O=T,T=null):O=T.sibling;var k=f(m,T,S.value,v);if(k===null){T===null&&(T=O);break}t&&T&&k.alternate===null&&e(m,T),p=o(k,p,b),I===null?E=k:I.sibling=k,I=k,T=O}if(S.done)return n(m,T),dt&&Xo(m,b),E;if(T===null){for(;!S.done;b++,S=_.next())S=c(m,S.value,v),S!==null&&(p=o(S,p,b),I===null?E=S:I.sibling=S,I=S);return dt&&Xo(m,b),E}for(T=r(m,T);!S.done;b++,S=_.next())S=d(T,m,b,S.value,v),S!==null&&(t&&S.alternate!==null&&T.delete(S.key===null?b:S.key),p=o(S,p,b),I===null?E=S:I.sibling=S,I=S);return t&&T.forEach(function(C){return e(m,C)}),dt&&Xo(m,b),E}function w(m,p,_,v){if(typeof _=="object"&&_!==null&&_.type===va&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case kh:e:{for(var E=_.key,I=p;I!==null;){if(I.key===E){if(E=_.type,E===va){if(I.tag===7){n(m,I.sibling),p=i(I,_.props.children),p.return=m,m=p;break e}}else if(I.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Qi&&EE(E)===I.type){n(m,I.sibling),p=i(I,_.props),p.ref=Zl(m,I,_),p.return=m,m=p;break e}n(m,I);break}else e(m,I);I=I.sibling}_.type===va?(p=ms(_.props.children,m.mode,v,_.key),p.return=m,m=p):(v=_f(_.type,_.key,_.props,null,m.mode,v),v.ref=Zl(m,p,_),v.return=m,m=v)}return s(m);case ya:e:{for(I=_.key;p!==null;){if(p.key===I)if(p.tag===4&&p.stateNode.containerInfo===_.containerInfo&&p.stateNode.implementation===_.implementation){n(m,p.sibling),p=i(p,_.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else e(m,p);p=p.sibling}p=lg(_,m.mode,v),p.return=m,m=p}return s(m);case Qi:return I=_._init,w(m,p,I(_._payload),v)}if(_u(_))return g(m,p,_,v);if(Kl(_))return y(m,p,_,v);Lh(m,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,p!==null&&p.tag===6?(n(m,p.sibling),p=i(p,_),p.return=m,m=p):(n(m,p),p=ag(_,m.mode,v),p.return=m,m=p),s(m)):n(m,p)}return w}var Za=zI(!0),YI=zI(!1),Gc={},ni=Vo(Gc),lc=Vo(Gc),uc=Vo(Gc);function as(t){if(t===Gc)throw Error(ie(174));return t}function q_(t,e){switch(tt(uc,e),tt(lc,t),tt(ni,Gc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:my(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=my(e,t)}ct(ni),tt(ni,e)}function el(){ct(ni),ct(lc),ct(uc)}function KI(t){as(uc.current);var e=as(ni.current),n=my(e,t.type);e!==n&&(tt(lc,t),tt(ni,n))}function H_(t){lc.current===t&&(ct(ni),ct(lc))}var yt=Vo(0);function Qf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var tg=[];function W_(){for(var t=0;t<tg.length;t++)tg[t]._workInProgressVersionPrimary=null;tg.length=0}var pf=qi.ReactCurrentDispatcher,ng=qi.ReactCurrentBatchConfig,Ss=0,_t=null,Lt=null,Ht=null,Xf=!1,Mu=!1,cc=0,xM=0;function fn(){throw Error(ie(321))}function z_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Lr(t[n],e[n]))return!1;return!0}function Y_(t,e,n,r,i,o){if(Ss=o,_t=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,pf.current=t===null||t.memoizedState===null?FM:jM,t=n(r,i),Mu){o=0;do{if(Mu=!1,cc=0,25<=o)throw Error(ie(301));o+=1,Ht=Lt=null,e.updateQueue=null,pf.current=UM,t=n(r,i)}while(Mu)}if(pf.current=Jf,e=Lt!==null&&Lt.next!==null,Ss=0,Ht=Lt=_t=null,Xf=!1,e)throw Error(ie(300));return t}function K_(){var t=cc!==0;return cc=0,t}function Wr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?_t.memoizedState=Ht=t:Ht=Ht.next=t,Ht}function wr(){if(Lt===null){var t=_t.alternate;t=t!==null?t.memoizedState:null}else t=Lt.next;var e=Ht===null?_t.memoizedState:Ht.next;if(e!==null)Ht=e,Lt=t;else{if(t===null)throw Error(ie(310));Lt=t,t={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Ht===null?_t.memoizedState=Ht=t:Ht=Ht.next=t}return Ht}function hc(t,e){return typeof e=="function"?e(t):e}function rg(t){var e=wr(),n=e.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=t;var r=Lt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var h=u.lane;if((Ss&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var c={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=c,s=r):l=l.next=c,_t.lanes|=h,ks|=h}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Lr(r,e.memoizedState)||($n=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,_t.lanes|=o,ks|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ig(t){var e=wr(),n=e.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Lr(o,e.memoizedState)||($n=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function GI(){}function QI(t,e){var n=_t,r=wr(),i=e(),o=!Lr(r.memoizedState,i);if(o&&(r.memoizedState=i,$n=!0),r=r.queue,G_(ZI.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Ht!==null&&Ht.memoizedState.tag&1){if(n.flags|=2048,fc(9,JI.bind(null,n,r,i,e),void 0,null),Yt===null)throw Error(ie(349));Ss&30||XI(n,e,i)}return i}function XI(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=_t.updateQueue,e===null?(e={lastEffect:null,stores:null},_t.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function JI(t,e,n,r){e.value=n,e.getSnapshot=r,eC(e)&&tC(t)}function ZI(t,e,n){return n(function(){eC(e)&&tC(t)})}function eC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Lr(t,n)}catch{return!0}}function tC(t){var e=Di(t,1);e!==null&&Dr(e,t,1,-1)}function TE(t){var e=Wr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hc,lastRenderedState:t},e.queue=t,t=t.dispatch=LM.bind(null,_t,t),[e.memoizedState,t]}function fc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=_t.updateQueue,e===null?(e={lastEffect:null,stores:null},_t.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function nC(){return wr().memoizedState}function mf(t,e,n,r){var i=Wr();_t.flags|=t,i.memoizedState=fc(1|e,n,void 0,r===void 0?null:r)}function fp(t,e,n,r){var i=wr();r=r===void 0?null:r;var o=void 0;if(Lt!==null){var s=Lt.memoizedState;if(o=s.destroy,r!==null&&z_(r,s.deps)){i.memoizedState=fc(e,n,o,r);return}}_t.flags|=t,i.memoizedState=fc(1|e,n,o,r)}function bE(t,e){return mf(8390656,8,t,e)}function G_(t,e){return fp(2048,8,t,e)}function rC(t,e){return fp(4,2,t,e)}function iC(t,e){return fp(4,4,t,e)}function oC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function sC(t,e,n){return n=n!=null?n.concat([t]):null,fp(4,4,oC.bind(null,e,t),n)}function Q_(){}function aC(t,e){var n=wr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&z_(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function lC(t,e){var n=wr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&z_(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function uC(t,e,n){return Ss&21?(Lr(n,e)||(n=fI(),_t.lanes|=n,ks|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,$n=!0),t.memoizedState=n)}function DM(t,e){var n=Ke;Ke=n!==0&&4>n?n:4,t(!0);var r=ng.transition;ng.transition={};try{t(!1),e()}finally{Ke=n,ng.transition=r}}function cC(){return wr().memoizedState}function MM(t,e,n){var r=_o(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},hC(t))fC(e,n);else if(n=BI(t,e,n,r),n!==null){var i=Pn();Dr(n,t,r,i),dC(n,e,r)}}function LM(t,e,n){var r=_o(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(hC(t))fC(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Lr(a,s)){var l=e.interleaved;l===null?(i.next=i,$_(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=BI(t,e,i,r),n!==null&&(i=Pn(),Dr(n,t,r,i),dC(n,e,r))}}function hC(t){var e=t.alternate;return t===_t||e!==null&&e===_t}function fC(t,e){Mu=Xf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function dC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,C_(t,n)}}var Jf={readContext:_r,useCallback:fn,useContext:fn,useEffect:fn,useImperativeHandle:fn,useInsertionEffect:fn,useLayoutEffect:fn,useMemo:fn,useReducer:fn,useRef:fn,useState:fn,useDebugValue:fn,useDeferredValue:fn,useTransition:fn,useMutableSource:fn,useSyncExternalStore:fn,useId:fn,unstable_isNewReconciler:!1},FM={readContext:_r,useCallback:function(t,e){return Wr().memoizedState=[t,e===void 0?null:e],t},useContext:_r,useEffect:bE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,mf(4194308,4,oC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return mf(4194308,4,t,e)},useInsertionEffect:function(t,e){return mf(4,2,t,e)},useMemo:function(t,e){var n=Wr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Wr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=MM.bind(null,_t,t),[r.memoizedState,t]},useRef:function(t){var e=Wr();return t={current:t},e.memoizedState=t},useState:TE,useDebugValue:Q_,useDeferredValue:function(t){return Wr().memoizedState=t},useTransition:function(){var t=TE(!1),e=t[0];return t=DM.bind(null,t[1]),Wr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=_t,i=Wr();if(dt){if(n===void 0)throw Error(ie(407));n=n()}else{if(n=e(),Yt===null)throw Error(ie(349));Ss&30||XI(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,bE(ZI.bind(null,r,o,t),[t]),r.flags|=2048,fc(9,JI.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Wr(),e=Yt.identifierPrefix;if(dt){var n=Si,r=bi;n=(r&~(1<<32-xr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=cc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=xM++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},jM={readContext:_r,useCallback:aC,useContext:_r,useEffect:G_,useImperativeHandle:sC,useInsertionEffect:rC,useLayoutEffect:iC,useMemo:lC,useReducer:rg,useRef:nC,useState:function(){return rg(hc)},useDebugValue:Q_,useDeferredValue:function(t){var e=wr();return uC(e,Lt.memoizedState,t)},useTransition:function(){var t=rg(hc)[0],e=wr().memoizedState;return[t,e]},useMutableSource:GI,useSyncExternalStore:QI,useId:cC,unstable_isNewReconciler:!1},UM={readContext:_r,useCallback:aC,useContext:_r,useEffect:G_,useImperativeHandle:sC,useInsertionEffect:rC,useLayoutEffect:iC,useMemo:lC,useReducer:ig,useRef:nC,useState:function(){return ig(hc)},useDebugValue:Q_,useDeferredValue:function(t){var e=wr();return Lt===null?e.memoizedState=t:uC(e,Lt.memoizedState,t)},useTransition:function(){var t=ig(hc)[0],e=wr().memoizedState;return[t,e]},useMutableSource:GI,useSyncExternalStore:QI,useId:cC,unstable_isNewReconciler:!1};function tl(t,e){try{var n="",r=e;do n+=d2(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function og(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function jy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var VM=typeof WeakMap=="function"?WeakMap:Map;function pC(t,e,n){n=Ri(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ed||(ed=!0,Ky=r),jy(t,e)},n}function mC(t,e,n){n=Ri(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){jy(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){jy(t,e),typeof r!="function"&&(vo===null?vo=new Set([this]):vo.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function SE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new VM;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=eL.bind(null,t,e,n),e.then(t,t))}function kE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function IE(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ri(-1,1),e.tag=2,yo(n,e,1))),n.lanes|=1),t)}var $M=qi.ReactCurrentOwner,$n=!1;function An(t,e,n,r){e.child=t===null?YI(e,null,n,r):Za(e,t.child,n,r)}function CE(t,e,n,r,i){n=n.render;var o=e.ref;return Ua(e,i),r=Y_(t,e,n,r,o,i),n=K_(),t!==null&&!$n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Mi(t,e,i)):(dt&&n&&M_(e),e.flags|=1,An(t,e,r,i),e.child)}function AE(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!i0(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,gC(t,e,o,r,i)):(t=_f(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:ic,n(s,r)&&t.ref===e.ref)return Mi(t,e,i)}return e.flags|=1,t=wo(o,r),t.ref=e.ref,t.return=e,e.child=t}function gC(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(ic(o,r)&&t.ref===e.ref)if($n=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&($n=!0);else return e.lanes=t.lanes,Mi(t,e,i)}return Uy(t,e,n,r,i)}function yC(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(Aa,Gn),Gn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,tt(Aa,Gn),Gn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,tt(Aa,Gn),Gn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,tt(Aa,Gn),Gn|=r;return An(t,e,i,n),e.child}function vC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Uy(t,e,n,r,i){var o=Hn(n)?Ts:Sn.current;return o=Xa(e,o),Ua(e,i),n=Y_(t,e,n,r,o,i),r=K_(),t!==null&&!$n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Mi(t,e,i)):(dt&&r&&M_(e),e.flags|=1,An(t,e,n,i),e.child)}function RE(t,e,n,r,i){if(Hn(n)){var o=!0;Hf(e)}else o=!1;if(Ua(e,i),e.stateNode===null)gf(t,e),WI(e,n,r),Fy(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=_r(u):(u=Hn(n)?Ts:Sn.current,u=Xa(e,u));var h=n.getDerivedStateFromProps,c=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function";c||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&wE(e,s,r,u),Xi=!1;var f=e.memoizedState;s.state=f,Gf(e,r,s,i),l=e.memoizedState,a!==r||f!==l||qn.current||Xi?(typeof h=="function"&&(Ly(e,n,h,r),l=e.memoizedState),(a=Xi||_E(e,n,a,r,f,l,u))?(c||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,qI(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Ir(e.type,a),s.props=u,c=e.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=_r(l):(l=Hn(n)?Ts:Sn.current,l=Xa(e,l));var d=n.getDerivedStateFromProps;(h=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==c||f!==l)&&wE(e,s,r,l),Xi=!1,f=e.memoizedState,s.state=f,Gf(e,r,s,i);var g=e.memoizedState;a!==c||f!==g||qn.current||Xi?(typeof d=="function"&&(Ly(e,n,d,r),g=e.memoizedState),(u=Xi||_E(e,n,u,r,f,g,l)||!1)?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),s.props=r,s.state=g,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Vy(t,e,n,r,o,i)}function Vy(t,e,n,r,i,o){vC(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&pE(e,n,!1),Mi(t,e,o);r=e.stateNode,$M.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Za(e,t.child,null,o),e.child=Za(e,null,a,o)):An(t,e,a,o),e.memoizedState=r.state,i&&pE(e,n,!0),e.child}function _C(t){var e=t.stateNode;e.pendingContext?dE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&dE(t,e.context,!1),q_(t,e.containerInfo)}function OE(t,e,n,r,i){return Ja(),F_(i),e.flags|=256,An(t,e,n,r),e.child}var $y={dehydrated:null,treeContext:null,retryLane:0};function By(t){return{baseLanes:t,cachePool:null,transitions:null}}function wC(t,e,n){var r=e.pendingProps,i=yt.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),tt(yt,i&1),t===null)return Dy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=mp(s,r,0,null),t=ms(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=By(n),e.memoizedState=$y,t):X_(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return BM(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=wo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=wo(a,o):(o=ms(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?By(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=$y,r}return o=t.child,t=o.sibling,r=wo(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function X_(t,e){return e=mp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Fh(t,e,n,r){return r!==null&&F_(r),Za(e,t.child,null,n),t=X_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function BM(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=og(Error(ie(422))),Fh(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=mp({mode:"visible",children:r.children},i,0,null),o=ms(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Za(e,t.child,null,s),e.child.memoizedState=By(s),e.memoizedState=$y,o);if(!(e.mode&1))return Fh(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(ie(419)),r=og(o,r,void 0),Fh(t,e,s,r)}if(a=(s&t.childLanes)!==0,$n||a){if(r=Yt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Di(t,i),Dr(r,t,i,-1))}return r0(),r=og(Error(ie(421))),Fh(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=tL.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Xn=go(i.nextSibling),tr=e,dt=!0,Ar=null,t!==null&&(cr[hr++]=bi,cr[hr++]=Si,cr[hr++]=bs,bi=t.id,Si=t.overflow,bs=e),e=X_(e,r.children),e.flags|=4096,e)}function PE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),My(t.return,e,n)}function sg(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function EC(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(An(t,e,r.children,n),r=yt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&PE(t,n,e);else if(t.tag===19)PE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(tt(yt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Qf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),sg(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Qf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}sg(e,!0,n,null,o);break;case"together":sg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function gf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Mi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ks|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ie(153));if(e.child!==null){for(t=e.child,n=wo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=wo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function qM(t,e,n){switch(e.tag){case 3:_C(e),Ja();break;case 5:KI(e);break;case 1:Hn(e.type)&&Hf(e);break;case 4:q_(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;tt(Yf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(tt(yt,yt.current&1),e.flags|=128,null):n&e.child.childLanes?wC(t,e,n):(tt(yt,yt.current&1),t=Mi(t,e,n),t!==null?t.sibling:null);tt(yt,yt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return EC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),tt(yt,yt.current),r)break;return null;case 22:case 23:return e.lanes=0,yC(t,e,n)}return Mi(t,e,n)}var TC,qy,bC,SC;TC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};qy=function(){};bC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,as(ni.current);var o=null;switch(n){case"input":i=hy(t,i),r=hy(t,r),o=[];break;case"select":i=wt({},i,{value:void 0}),r=wt({},r,{value:void 0}),o=[];break;case"textarea":i=py(t,i),r=py(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Bf)}gy(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Xu.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Xu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&it("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};SC=function(t,e,n,r){n!==r&&(e.flags|=4)};function eu(t,e){if(!dt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function dn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function HM(t,e,n){var r=e.pendingProps;switch(L_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dn(e),null;case 1:return Hn(e.type)&&qf(),dn(e),null;case 3:return r=e.stateNode,el(),ct(qn),ct(Sn),W_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Mh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ar!==null&&(Xy(Ar),Ar=null))),qy(t,e),dn(e),null;case 5:H_(e);var i=as(uc.current);if(n=e.type,t!==null&&e.stateNode!=null)bC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ie(166));return dn(e),null}if(t=as(ni.current),Mh(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[zr]=e,r[ac]=o,t=(e.mode&1)!==0,n){case"dialog":it("cancel",r),it("close",r);break;case"iframe":case"object":case"embed":it("load",r);break;case"video":case"audio":for(i=0;i<Eu.length;i++)it(Eu[i],r);break;case"source":it("error",r);break;case"img":case"image":case"link":it("error",r),it("load",r);break;case"details":it("toggle",r);break;case"input":Vw(r,o),it("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},it("invalid",r);break;case"textarea":Bw(r,o),it("invalid",r)}gy(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Dh(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Dh(r.textContent,a,t),i=["children",""+a]):Xu.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&it("scroll",r)}switch(n){case"input":Ih(r),$w(r,o,!0);break;case"textarea":Ih(r),qw(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Bf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Xk(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[zr]=e,t[ac]=r,TC(t,e,!1,!1),e.stateNode=t;e:{switch(s=yy(n,r),n){case"dialog":it("cancel",t),it("close",t),i=r;break;case"iframe":case"object":case"embed":it("load",t),i=r;break;case"video":case"audio":for(i=0;i<Eu.length;i++)it(Eu[i],t);i=r;break;case"source":it("error",t),i=r;break;case"img":case"image":case"link":it("error",t),it("load",t),i=r;break;case"details":it("toggle",t),i=r;break;case"input":Vw(t,r),i=hy(t,r),it("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=wt({},r,{value:void 0}),it("invalid",t);break;case"textarea":Bw(t,r),i=py(t,r),it("invalid",t);break;default:i=r}gy(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?eI(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Jk(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ju(t,l):typeof l=="number"&&Ju(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Xu.hasOwnProperty(o)?l!=null&&o==="onScroll"&&it("scroll",t):l!=null&&E_(t,o,l,s))}switch(n){case"input":Ih(t),$w(t,r,!1);break;case"textarea":Ih(t),qw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ro(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Ma(t,!!r.multiple,o,!1):r.defaultValue!=null&&Ma(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Bf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return dn(e),null;case 6:if(t&&e.stateNode!=null)SC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ie(166));if(n=as(uc.current),as(ni.current),Mh(e)){if(r=e.stateNode,n=e.memoizedProps,r[zr]=e,(o=r.nodeValue!==n)&&(t=tr,t!==null))switch(t.tag){case 3:Dh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Dh(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[zr]=e,e.stateNode=r}return dn(e),null;case 13:if(ct(yt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(dt&&Xn!==null&&e.mode&1&&!(e.flags&128))$I(),Ja(),e.flags|=98560,o=!1;else if(o=Mh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(ie(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ie(317));o[zr]=e}else Ja(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;dn(e),o=!1}else Ar!==null&&(Xy(Ar),Ar=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||yt.current&1?jt===0&&(jt=3):r0())),e.updateQueue!==null&&(e.flags|=4),dn(e),null);case 4:return el(),qy(t,e),t===null&&oc(e.stateNode.containerInfo),dn(e),null;case 10:return V_(e.type._context),dn(e),null;case 17:return Hn(e.type)&&qf(),dn(e),null;case 19:if(ct(yt),o=e.memoizedState,o===null)return dn(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)eu(o,!1);else{if(jt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Qf(t),s!==null){for(e.flags|=128,eu(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return tt(yt,yt.current&1|2),e.child}t=t.sibling}o.tail!==null&&It()>nl&&(e.flags|=128,r=!0,eu(o,!1),e.lanes=4194304)}else{if(!r)if(t=Qf(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),eu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!dt)return dn(e),null}else 2*It()-o.renderingStartTime>nl&&n!==1073741824&&(e.flags|=128,r=!0,eu(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=It(),e.sibling=null,n=yt.current,tt(yt,r?n&1|2:n&1),e):(dn(e),null);case 22:case 23:return n0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Gn&1073741824&&(dn(e),e.subtreeFlags&6&&(e.flags|=8192)):dn(e),null;case 24:return null;case 25:return null}throw Error(ie(156,e.tag))}function WM(t,e){switch(L_(e),e.tag){case 1:return Hn(e.type)&&qf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return el(),ct(qn),ct(Sn),W_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return H_(e),null;case 13:if(ct(yt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ie(340));Ja()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ct(yt),null;case 4:return el(),null;case 10:return V_(e.type._context),null;case 22:case 23:return n0(),null;case 24:return null;default:return null}}var jh=!1,gn=!1,zM=typeof WeakSet=="function"?WeakSet:Set,de=null;function Ca(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){bt(t,e,r)}else n.current=null}function Hy(t,e,n){try{n()}catch(r){bt(t,e,r)}}var NE=!1;function YM(t,e){if(Cy=Uf,t=AI(),D_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,h=0,c=t,f=null;t:for(;;){for(var d;c!==n||i!==0&&c.nodeType!==3||(a=s+i),c!==o||r!==0&&c.nodeType!==3||(l=s+r),c.nodeType===3&&(s+=c.nodeValue.length),(d=c.firstChild)!==null;)f=c,c=d;for(;;){if(c===t)break t;if(f===n&&++u===i&&(a=s),f===o&&++h===r&&(l=s),(d=c.nextSibling)!==null)break;c=f,f=c.parentNode}c=d}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ay={focusedElem:t,selectionRange:n},Uf=!1,de=e;de!==null;)if(e=de,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,de=t;else for(;de!==null;){e=de;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,w=g.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?y:Ir(e.type,y),w);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ie(163))}}catch(v){bt(e,e.return,v)}if(t=e.sibling,t!==null){t.return=e.return,de=t;break}de=e.return}return g=NE,NE=!1,g}function Lu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Hy(e,n,o)}i=i.next}while(i!==r)}}function dp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Wy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function kC(t){var e=t.alternate;e!==null&&(t.alternate=null,kC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[zr],delete e[ac],delete e[Py],delete e[RM],delete e[OM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function IC(t){return t.tag===5||t.tag===3||t.tag===4}function xE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||IC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Bf));else if(r!==4&&(t=t.child,t!==null))for(zy(t,e,n),t=t.sibling;t!==null;)zy(t,e,n),t=t.sibling}function Yy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Yy(t,e,n),t=t.sibling;t!==null;)Yy(t,e,n),t=t.sibling}var en=null,Cr=!1;function Yi(t,e,n){for(n=n.child;n!==null;)CC(t,e,n),n=n.sibling}function CC(t,e,n){if(ti&&typeof ti.onCommitFiberUnmount=="function")try{ti.onCommitFiberUnmount(op,n)}catch{}switch(n.tag){case 5:gn||Ca(n,e);case 6:var r=en,i=Cr;en=null,Yi(t,e,n),en=r,Cr=i,en!==null&&(Cr?(t=en,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):en.removeChild(n.stateNode));break;case 18:en!==null&&(Cr?(t=en,n=n.stateNode,t.nodeType===8?Zm(t.parentNode,n):t.nodeType===1&&Zm(t,n),nc(t)):Zm(en,n.stateNode));break;case 4:r=en,i=Cr,en=n.stateNode.containerInfo,Cr=!0,Yi(t,e,n),en=r,Cr=i;break;case 0:case 11:case 14:case 15:if(!gn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Hy(n,e,s),i=i.next}while(i!==r)}Yi(t,e,n);break;case 1:if(!gn&&(Ca(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){bt(n,e,a)}Yi(t,e,n);break;case 21:Yi(t,e,n);break;case 22:n.mode&1?(gn=(r=gn)||n.memoizedState!==null,Yi(t,e,n),gn=r):Yi(t,e,n);break;default:Yi(t,e,n)}}function DE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new zM),e.forEach(function(r){var i=nL.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function br(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:en=a.stateNode,Cr=!1;break e;case 3:en=a.stateNode.containerInfo,Cr=!0;break e;case 4:en=a.stateNode.containerInfo,Cr=!0;break e}a=a.return}if(en===null)throw Error(ie(160));CC(o,s,i),en=null,Cr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){bt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)AC(e,t),e=e.sibling}function AC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(br(e,t),Br(t),r&4){try{Lu(3,t,t.return),dp(3,t)}catch(y){bt(t,t.return,y)}try{Lu(5,t,t.return)}catch(y){bt(t,t.return,y)}}break;case 1:br(e,t),Br(t),r&512&&n!==null&&Ca(n,n.return);break;case 5:if(br(e,t),Br(t),r&512&&n!==null&&Ca(n,n.return),t.flags&32){var i=t.stateNode;try{Ju(i,"")}catch(y){bt(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Gk(i,o),yy(a,s);var u=yy(a,o);for(s=0;s<l.length;s+=2){var h=l[s],c=l[s+1];h==="style"?eI(i,c):h==="dangerouslySetInnerHTML"?Jk(i,c):h==="children"?Ju(i,c):E_(i,h,c,u)}switch(a){case"input":fy(i,o);break;case"textarea":Qk(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var d=o.value;d!=null?Ma(i,!!o.multiple,d,!1):f!==!!o.multiple&&(o.defaultValue!=null?Ma(i,!!o.multiple,o.defaultValue,!0):Ma(i,!!o.multiple,o.multiple?[]:"",!1))}i[ac]=o}catch(y){bt(t,t.return,y)}}break;case 6:if(br(e,t),Br(t),r&4){if(t.stateNode===null)throw Error(ie(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(y){bt(t,t.return,y)}}break;case 3:if(br(e,t),Br(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{nc(e.containerInfo)}catch(y){bt(t,t.return,y)}break;case 4:br(e,t),Br(t);break;case 13:br(e,t),Br(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(e0=It())),r&4&&DE(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(gn=(u=gn)||h,br(e,t),gn=u):br(e,t),Br(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(de=t,h=t.child;h!==null;){for(c=de=h;de!==null;){switch(f=de,d=f.child,f.tag){case 0:case 11:case 14:case 15:Lu(4,f,f.return);break;case 1:Ca(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){bt(r,n,y)}}break;case 5:Ca(f,f.return);break;case 22:if(f.memoizedState!==null){LE(c);continue}}d!==null?(d.return=f,de=d):LE(c)}h=h.sibling}e:for(h=null,c=t;;){if(c.tag===5){if(h===null){h=c;try{i=c.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=c.stateNode,l=c.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Zk("display",s))}catch(y){bt(t,t.return,y)}}}else if(c.tag===6){if(h===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(y){bt(t,t.return,y)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===t)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:br(e,t),Br(t),r&4&&DE(t);break;case 21:break;default:br(e,t),Br(t)}}function Br(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(IC(n)){var r=n;break e}n=n.return}throw Error(ie(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ju(i,""),r.flags&=-33);var o=xE(t);Yy(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=xE(t);zy(t,a,s);break;default:throw Error(ie(161))}}catch(l){bt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function KM(t,e,n){de=t,RC(t)}function RC(t,e,n){for(var r=(t.mode&1)!==0;de!==null;){var i=de,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||jh;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||gn;a=jh;var u=gn;if(jh=s,(gn=l)&&!u)for(de=i;de!==null;)s=de,l=s.child,s.tag===22&&s.memoizedState!==null?FE(i):l!==null?(l.return=s,de=l):FE(i);for(;o!==null;)de=o,RC(o),o=o.sibling;de=i,jh=a,gn=u}ME(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,de=o):ME(t)}}function ME(t){for(;de!==null;){var e=de;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:gn||dp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!gn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ir(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&vE(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}vE(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var c=h.dehydrated;c!==null&&nc(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ie(163))}gn||e.flags&512&&Wy(e)}catch(f){bt(e,e.return,f)}}if(e===t){de=null;break}if(n=e.sibling,n!==null){n.return=e.return,de=n;break}de=e.return}}function LE(t){for(;de!==null;){var e=de;if(e===t){de=null;break}var n=e.sibling;if(n!==null){n.return=e.return,de=n;break}de=e.return}}function FE(t){for(;de!==null;){var e=de;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{dp(4,e)}catch(l){bt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){bt(e,i,l)}}var o=e.return;try{Wy(e)}catch(l){bt(e,o,l)}break;case 5:var s=e.return;try{Wy(e)}catch(l){bt(e,s,l)}}}catch(l){bt(e,e.return,l)}if(e===t){de=null;break}var a=e.sibling;if(a!==null){a.return=e.return,de=a;break}de=e.return}}var GM=Math.ceil,Zf=qi.ReactCurrentDispatcher,J_=qi.ReactCurrentOwner,gr=qi.ReactCurrentBatchConfig,$e=0,Yt=null,Pt=null,on=0,Gn=0,Aa=Vo(0),jt=0,dc=null,ks=0,pp=0,Z_=0,Fu=null,Un=null,e0=0,nl=1/0,vi=null,ed=!1,Ky=null,vo=null,Uh=!1,lo=null,td=0,ju=0,Gy=null,yf=-1,vf=0;function Pn(){return $e&6?It():yf!==-1?yf:yf=It()}function _o(t){return t.mode&1?$e&2&&on!==0?on&-on:NM.transition!==null?(vf===0&&(vf=fI()),vf):(t=Ke,t!==0||(t=window.event,t=t===void 0?16:_I(t.type)),t):1}function Dr(t,e,n,r){if(50<ju)throw ju=0,Gy=null,Error(ie(185));zc(t,n,r),(!($e&2)||t!==Yt)&&(t===Yt&&(!($e&2)&&(pp|=n),jt===4&&to(t,on)),Wn(t,r),n===1&&$e===0&&!(e.mode&1)&&(nl=It()+500,cp&&$o()))}function Wn(t,e){var n=t.callbackNode;N2(t,e);var r=jf(t,t===Yt?on:0);if(r===0)n!==null&&zw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&zw(n),e===1)t.tag===0?PM(jE.bind(null,t)):jI(jE.bind(null,t)),CM(function(){!($e&6)&&$o()}),n=null;else{switch(dI(r)){case 1:n=I_;break;case 4:n=cI;break;case 16:n=Ff;break;case 536870912:n=hI;break;default:n=Ff}n=FC(n,OC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function OC(t,e){if(yf=-1,vf=0,$e&6)throw Error(ie(327));var n=t.callbackNode;if(Va()&&t.callbackNode!==n)return null;var r=jf(t,t===Yt?on:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=nd(t,r);else{e=r;var i=$e;$e|=2;var o=NC();(Yt!==t||on!==e)&&(vi=null,nl=It()+500,ps(t,e));do try{JM();break}catch(a){PC(t,a)}while(!0);U_(),Zf.current=o,$e=i,Pt!==null?e=0:(Yt=null,on=0,e=jt)}if(e!==0){if(e===2&&(i=Ty(t),i!==0&&(r=i,e=Qy(t,i))),e===1)throw n=dc,ps(t,0),to(t,r),Wn(t,It()),n;if(e===6)to(t,r);else{if(i=t.current.alternate,!(r&30)&&!QM(i)&&(e=nd(t,r),e===2&&(o=Ty(t),o!==0&&(r=o,e=Qy(t,o))),e===1))throw n=dc,ps(t,0),to(t,r),Wn(t,It()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ie(345));case 2:Jo(t,Un,vi);break;case 3:if(to(t,r),(r&130023424)===r&&(e=e0+500-It(),10<e)){if(jf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Pn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Oy(Jo.bind(null,t,Un,vi),e);break}Jo(t,Un,vi);break;case 4:if(to(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-xr(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=It()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*GM(r/1960))-r,10<r){t.timeoutHandle=Oy(Jo.bind(null,t,Un,vi),r);break}Jo(t,Un,vi);break;case 5:Jo(t,Un,vi);break;default:throw Error(ie(329))}}}return Wn(t,It()),t.callbackNode===n?OC.bind(null,t):null}function Qy(t,e){var n=Fu;return t.current.memoizedState.isDehydrated&&(ps(t,e).flags|=256),t=nd(t,e),t!==2&&(e=Un,Un=n,e!==null&&Xy(e)),t}function Xy(t){Un===null?Un=t:Un.push.apply(Un,t)}function QM(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Lr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function to(t,e){for(e&=~Z_,e&=~pp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-xr(e),r=1<<n;t[n]=-1,e&=~r}}function jE(t){if($e&6)throw Error(ie(327));Va();var e=jf(t,0);if(!(e&1))return Wn(t,It()),null;var n=nd(t,e);if(t.tag!==0&&n===2){var r=Ty(t);r!==0&&(e=r,n=Qy(t,r))}if(n===1)throw n=dc,ps(t,0),to(t,e),Wn(t,It()),n;if(n===6)throw Error(ie(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Jo(t,Un,vi),Wn(t,It()),null}function t0(t,e){var n=$e;$e|=1;try{return t(e)}finally{$e=n,$e===0&&(nl=It()+500,cp&&$o())}}function Is(t){lo!==null&&lo.tag===0&&!($e&6)&&Va();var e=$e;$e|=1;var n=gr.transition,r=Ke;try{if(gr.transition=null,Ke=1,t)return t()}finally{Ke=r,gr.transition=n,$e=e,!($e&6)&&$o()}}function n0(){Gn=Aa.current,ct(Aa)}function ps(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,IM(n)),Pt!==null)for(n=Pt.return;n!==null;){var r=n;switch(L_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&qf();break;case 3:el(),ct(qn),ct(Sn),W_();break;case 5:H_(r);break;case 4:el();break;case 13:ct(yt);break;case 19:ct(yt);break;case 10:V_(r.type._context);break;case 22:case 23:n0()}n=n.return}if(Yt=t,Pt=t=wo(t.current,null),on=Gn=e,jt=0,dc=null,Z_=pp=ks=0,Un=Fu=null,ss!==null){for(e=0;e<ss.length;e++)if(n=ss[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}ss=null}return t}function PC(t,e){do{var n=Pt;try{if(U_(),pf.current=Jf,Xf){for(var r=_t.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Xf=!1}if(Ss=0,Ht=Lt=_t=null,Mu=!1,cc=0,J_.current=null,n===null||n.return===null){jt=1,dc=e,Pt=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=on,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,c=h.tag;if(!(h.mode&1)&&(c===0||c===11||c===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var d=kE(s);if(d!==null){d.flags&=-257,IE(d,s,a,o,e),d.mode&1&&SE(o,u,e),e=d,l=u;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){SE(o,u,e),r0();break e}l=Error(ie(426))}}else if(dt&&a.mode&1){var w=kE(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),IE(w,s,a,o,e),F_(tl(l,a));break e}}o=l=tl(l,a),jt!==4&&(jt=2),Fu===null?Fu=[o]:Fu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var m=pC(o,l,e);yE(o,m);break e;case 1:a=l;var p=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(vo===null||!vo.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var v=mC(o,a,e);yE(o,v);break e}}o=o.return}while(o!==null)}DC(n)}catch(E){e=E,Pt===n&&n!==null&&(Pt=n=n.return);continue}break}while(!0)}function NC(){var t=Zf.current;return Zf.current=Jf,t===null?Jf:t}function r0(){(jt===0||jt===3||jt===2)&&(jt=4),Yt===null||!(ks&268435455)&&!(pp&268435455)||to(Yt,on)}function nd(t,e){var n=$e;$e|=2;var r=NC();(Yt!==t||on!==e)&&(vi=null,ps(t,e));do try{XM();break}catch(i){PC(t,i)}while(!0);if(U_(),$e=n,Zf.current=r,Pt!==null)throw Error(ie(261));return Yt=null,on=0,jt}function XM(){for(;Pt!==null;)xC(Pt)}function JM(){for(;Pt!==null&&!b2();)xC(Pt)}function xC(t){var e=LC(t.alternate,t,Gn);t.memoizedProps=t.pendingProps,e===null?DC(t):Pt=e,J_.current=null}function DC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=WM(n,e),n!==null){n.flags&=32767,Pt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{jt=6,Pt=null;return}}else if(n=HM(n,e,Gn),n!==null){Pt=n;return}if(e=e.sibling,e!==null){Pt=e;return}Pt=e=t}while(e!==null);jt===0&&(jt=5)}function Jo(t,e,n){var r=Ke,i=gr.transition;try{gr.transition=null,Ke=1,ZM(t,e,n,r)}finally{gr.transition=i,Ke=r}return null}function ZM(t,e,n,r){do Va();while(lo!==null);if($e&6)throw Error(ie(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ie(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(x2(t,o),t===Yt&&(Pt=Yt=null,on=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Uh||(Uh=!0,FC(Ff,function(){return Va(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=gr.transition,gr.transition=null;var s=Ke;Ke=1;var a=$e;$e|=4,J_.current=null,YM(t,n),AC(n,t),_M(Ay),Uf=!!Cy,Ay=Cy=null,t.current=n,KM(n),S2(),$e=a,Ke=s,gr.transition=o}else t.current=n;if(Uh&&(Uh=!1,lo=t,td=i),o=t.pendingLanes,o===0&&(vo=null),C2(n.stateNode),Wn(t,It()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ed)throw ed=!1,t=Ky,Ky=null,t;return td&1&&t.tag!==0&&Va(),o=t.pendingLanes,o&1?t===Gy?ju++:(ju=0,Gy=t):ju=0,$o(),null}function Va(){if(lo!==null){var t=dI(td),e=gr.transition,n=Ke;try{if(gr.transition=null,Ke=16>t?16:t,lo===null)var r=!1;else{if(t=lo,lo=null,td=0,$e&6)throw Error(ie(331));var i=$e;for($e|=4,de=t.current;de!==null;){var o=de,s=o.child;if(de.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(de=u;de!==null;){var h=de;switch(h.tag){case 0:case 11:case 15:Lu(8,h,o)}var c=h.child;if(c!==null)c.return=h,de=c;else for(;de!==null;){h=de;var f=h.sibling,d=h.return;if(kC(h),h===u){de=null;break}if(f!==null){f.return=d,de=f;break}de=d}}}var g=o.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}de=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,de=s;else e:for(;de!==null;){if(o=de,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Lu(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,de=m;break e}de=o.return}}var p=t.current;for(de=p;de!==null;){s=de;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,de=_;else e:for(s=p;de!==null;){if(a=de,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:dp(9,a)}}catch(E){bt(a,a.return,E)}if(a===s){de=null;break e}var v=a.sibling;if(v!==null){v.return=a.return,de=v;break e}de=a.return}}if($e=i,$o(),ti&&typeof ti.onPostCommitFiberRoot=="function")try{ti.onPostCommitFiberRoot(op,t)}catch{}r=!0}return r}finally{Ke=n,gr.transition=e}}return!1}function UE(t,e,n){e=tl(n,e),e=pC(t,e,1),t=yo(t,e,1),e=Pn(),t!==null&&(zc(t,1,e),Wn(t,e))}function bt(t,e,n){if(t.tag===3)UE(t,t,n);else for(;e!==null;){if(e.tag===3){UE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(vo===null||!vo.has(r))){t=tl(n,t),t=mC(e,t,1),e=yo(e,t,1),t=Pn(),e!==null&&(zc(e,1,t),Wn(e,t));break}}e=e.return}}function eL(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Pn(),t.pingedLanes|=t.suspendedLanes&n,Yt===t&&(on&n)===n&&(jt===4||jt===3&&(on&130023424)===on&&500>It()-e0?ps(t,0):Z_|=n),Wn(t,e)}function MC(t,e){e===0&&(t.mode&1?(e=Rh,Rh<<=1,!(Rh&130023424)&&(Rh=4194304)):e=1);var n=Pn();t=Di(t,e),t!==null&&(zc(t,e,n),Wn(t,n))}function tL(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),MC(t,n)}function nL(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ie(314))}r!==null&&r.delete(e),MC(t,n)}var LC;LC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||qn.current)$n=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return $n=!1,qM(t,e,n);$n=!!(t.flags&131072)}else $n=!1,dt&&e.flags&1048576&&UI(e,zf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;gf(t,e),t=e.pendingProps;var i=Xa(e,Sn.current);Ua(e,n),i=Y_(null,e,r,t,i,n);var o=K_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Hn(r)?(o=!0,Hf(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,B_(e),i.updater=hp,e.stateNode=i,i._reactInternals=e,Fy(e,r,t,n),e=Vy(null,e,r,!0,o,n)):(e.tag=0,dt&&o&&M_(e),An(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(gf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=iL(r),t=Ir(r,t),i){case 0:e=Uy(null,e,r,t,n);break e;case 1:e=RE(null,e,r,t,n);break e;case 11:e=CE(null,e,r,t,n);break e;case 14:e=AE(null,e,r,Ir(r.type,t),n);break e}throw Error(ie(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ir(r,i),Uy(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ir(r,i),RE(t,e,r,i,n);case 3:e:{if(_C(e),t===null)throw Error(ie(387));r=e.pendingProps,o=e.memoizedState,i=o.element,qI(t,e),Gf(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=tl(Error(ie(423)),e),e=OE(t,e,r,n,i);break e}else if(r!==i){i=tl(Error(ie(424)),e),e=OE(t,e,r,n,i);break e}else for(Xn=go(e.stateNode.containerInfo.firstChild),tr=e,dt=!0,Ar=null,n=YI(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ja(),r===i){e=Mi(t,e,n);break e}An(t,e,r,n)}e=e.child}return e;case 5:return KI(e),t===null&&Dy(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Ry(r,i)?s=null:o!==null&&Ry(r,o)&&(e.flags|=32),vC(t,e),An(t,e,s,n),e.child;case 6:return t===null&&Dy(e),null;case 13:return wC(t,e,n);case 4:return q_(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Za(e,null,r,n):An(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ir(r,i),CE(t,e,r,i,n);case 7:return An(t,e,e.pendingProps,n),e.child;case 8:return An(t,e,e.pendingProps.children,n),e.child;case 12:return An(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,tt(Yf,r._currentValue),r._currentValue=s,o!==null)if(Lr(o.value,s)){if(o.children===i.children&&!qn.current){e=Mi(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Ri(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),My(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ie(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),My(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}An(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ua(e,n),i=_r(i),r=r(i),e.flags|=1,An(t,e,r,n),e.child;case 14:return r=e.type,i=Ir(r,e.pendingProps),i=Ir(r.type,i),AE(t,e,r,i,n);case 15:return gC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ir(r,i),gf(t,e),e.tag=1,Hn(r)?(t=!0,Hf(e)):t=!1,Ua(e,n),WI(e,r,i),Fy(e,r,i,n),Vy(null,e,r,!0,t,n);case 19:return EC(t,e,n);case 22:return yC(t,e,n)}throw Error(ie(156,e.tag))};function FC(t,e){return uI(t,e)}function rL(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(t,e,n,r){return new rL(t,e,n,r)}function i0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function iL(t){if(typeof t=="function")return i0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===b_)return 11;if(t===S_)return 14}return 2}function wo(t,e){var n=t.alternate;return n===null?(n=dr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _f(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")i0(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case va:return ms(n.children,i,o,e);case T_:s=8,i|=8;break;case ay:return t=dr(12,n,e,i|2),t.elementType=ay,t.lanes=o,t;case ly:return t=dr(13,n,e,i),t.elementType=ly,t.lanes=o,t;case uy:return t=dr(19,n,e,i),t.elementType=uy,t.lanes=o,t;case zk:return mp(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Hk:s=10;break e;case Wk:s=9;break e;case b_:s=11;break e;case S_:s=14;break e;case Qi:s=16,r=null;break e}throw Error(ie(130,t==null?t:typeof t,""))}return e=dr(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function ms(t,e,n,r){return t=dr(7,t,r,e),t.lanes=n,t}function mp(t,e,n,r){return t=dr(22,t,r,e),t.elementType=zk,t.lanes=n,t.stateNode={isHidden:!1},t}function ag(t,e,n){return t=dr(6,t,null,e),t.lanes=n,t}function lg(t,e,n){return e=dr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function oL(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bm(0),this.expirationTimes=Bm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function o0(t,e,n,r,i,o,s,a,l){return t=new oL(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=dr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},B_(o),t}function sL(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ya,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function jC(t){if(!t)return Oo;t=t._reactInternals;e:{if(Hs(t)!==t||t.tag!==1)throw Error(ie(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Hn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ie(171))}if(t.tag===1){var n=t.type;if(Hn(n))return FI(t,n,e)}return e}function UC(t,e,n,r,i,o,s,a,l){return t=o0(n,r,!0,t,i,o,s,a,l),t.context=jC(null),n=t.current,r=Pn(),i=_o(n),o=Ri(r,i),o.callback=e??null,yo(n,o,i),t.current.lanes=i,zc(t,i,r),Wn(t,r),t}function gp(t,e,n,r){var i=e.current,o=Pn(),s=_o(i);return n=jC(n),e.context===null?e.context=n:e.pendingContext=n,e=Ri(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=yo(i,e,s),t!==null&&(Dr(t,i,s,o),df(t,i,s)),s}function rd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function VE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function s0(t,e){VE(t,e),(t=t.alternate)&&VE(t,e)}function aL(){return null}var VC=typeof reportError=="function"?reportError:function(t){console.error(t)};function a0(t){this._internalRoot=t}yp.prototype.render=a0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ie(409));gp(t,e,null,null)};yp.prototype.unmount=a0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Is(function(){gp(null,t,null,null)}),e[xi]=null}};function yp(t){this._internalRoot=t}yp.prototype.unstable_scheduleHydration=function(t){if(t){var e=gI();t={blockedOn:null,target:t,priority:e};for(var n=0;n<eo.length&&e!==0&&e<eo[n].priority;n++);eo.splice(n,0,t),n===0&&vI(t)}};function l0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function vp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function $E(){}function lL(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=rd(s);o.call(u)}}var s=UC(e,r,t,0,null,!1,!1,"",$E);return t._reactRootContainer=s,t[xi]=s.current,oc(t.nodeType===8?t.parentNode:t),Is(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=rd(l);a.call(u)}}var l=o0(t,0,!1,null,null,!1,!1,"",$E);return t._reactRootContainer=l,t[xi]=l.current,oc(t.nodeType===8?t.parentNode:t),Is(function(){gp(e,l,n,r)}),l}function _p(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=rd(s);a.call(l)}}gp(e,s,t,i)}else s=lL(n,e,t,i,r);return rd(s)}pI=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=wu(e.pendingLanes);n!==0&&(C_(e,n|1),Wn(e,It()),!($e&6)&&(nl=It()+500,$o()))}break;case 13:Is(function(){var r=Di(t,1);if(r!==null){var i=Pn();Dr(r,t,1,i)}}),s0(t,1)}};A_=function(t){if(t.tag===13){var e=Di(t,134217728);if(e!==null){var n=Pn();Dr(e,t,134217728,n)}s0(t,134217728)}};mI=function(t){if(t.tag===13){var e=_o(t),n=Di(t,e);if(n!==null){var r=Pn();Dr(n,t,e,r)}s0(t,e)}};gI=function(){return Ke};yI=function(t,e){var n=Ke;try{return Ke=t,e()}finally{Ke=n}};_y=function(t,e,n){switch(e){case"input":if(fy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=up(r);if(!i)throw Error(ie(90));Kk(r),fy(r,i)}}}break;case"textarea":Qk(t,n);break;case"select":e=n.value,e!=null&&Ma(t,!!n.multiple,e,!1)}};rI=t0;iI=Is;var uL={usingClientEntryPoint:!1,Events:[Kc,Ta,up,tI,nI,t0]},tu={findFiberByHostInstance:os,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},cL={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=aI(t),t===null?null:t.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||aL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vh.isDisabled&&Vh.supportsFiber)try{op=Vh.inject(cL),ti=Vh}catch{}}lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uL;lr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!l0(e))throw Error(ie(200));return sL(t,e,null,n)};lr.createRoot=function(t,e){if(!l0(t))throw Error(ie(299));var n=!1,r="",i=VC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=o0(t,1,!1,null,null,n,!1,r,i),t[xi]=e.current,oc(t.nodeType===8?t.parentNode:t),new a0(e)};lr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ie(188)):(t=Object.keys(t).join(","),Error(ie(268,t)));return t=aI(e),t=t===null?null:t.stateNode,t};lr.flushSync=function(t){return Is(t)};lr.hydrate=function(t,e,n){if(!vp(e))throw Error(ie(200));return _p(null,t,e,!0,n)};lr.hydrateRoot=function(t,e,n){if(!l0(t))throw Error(ie(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=VC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=UC(e,null,t,1,n??null,i,!1,o,s),t[xi]=e.current,oc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new yp(e)};lr.render=function(t,e,n){if(!vp(e))throw Error(ie(200));return _p(null,t,e,!1,n)};lr.unmountComponentAtNode=function(t){if(!vp(t))throw Error(ie(40));return t._reactRootContainer?(Is(function(){_p(null,null,t,!1,function(){t._reactRootContainer=null,t[xi]=null})}),!0):!1};lr.unstable_batchedUpdates=t0;lr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!vp(n))throw Error(ie(200));if(t==null||t._reactInternals===void 0)throw Error(ie(38));return _p(t,e,n,!1,r)};lr.version="18.2.0-next-9e3b772b8-20220608";function $C(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($C)}catch(t){console.error(t)}}$C(),Uk.exports=lr;var Qc=Uk.exports;const hL=Hc(Qc);var BE=Qc;oy.createRoot=BE.createRoot,oy.hydrateRoot=BE.hydrateRoot;/**
 * @remix-run/router v1.15.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pc(){return pc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pc.apply(this,arguments)}var uo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(uo||(uo={}));const qE="popstate";function fL(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return Jy("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:id(i)}return pL(e,n,null,t)}function Nt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function BC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dL(){return Math.random().toString(36).substr(2,8)}function HE(t,e){return{usr:t.state,key:t.key,idx:e}}function Jy(t,e,n,r){return n===void 0&&(n=null),pc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?kl(e):e,{state:n,key:e&&e.key||r||dL()})}function id(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function kl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function pL(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=uo.Pop,l=null,u=h();u==null&&(u=0,s.replaceState(pc({},s.state,{idx:u}),""));function h(){return(s.state||{idx:null}).idx}function c(){a=uo.Pop;let w=h(),m=w==null?null:w-u;u=w,l&&l({action:a,location:y.location,delta:m})}function f(w,m){a=uo.Push;let p=Jy(y.location,w,m);n&&n(p,w),u=h()+1;let _=HE(p,u),v=y.createHref(p);try{s.pushState(_,"",v)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(v)}o&&l&&l({action:a,location:y.location,delta:1})}function d(w,m){a=uo.Replace;let p=Jy(y.location,w,m);n&&n(p,w),u=h();let _=HE(p,u),v=y.createHref(p);s.replaceState(_,"",v),o&&l&&l({action:a,location:y.location,delta:0})}function g(w){let m=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof w=="string"?w:id(w);return p=p.replace(/ $/,"%20"),Nt(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let y={get action(){return a},get location(){return t(i,s)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(qE,c),l=w,()=>{i.removeEventListener(qE,c),l=null}},createHref(w){return e(i,w)},createURL:g,encodeLocation(w){let m=g(w);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:d,go(w){return s.go(w)}};return y}var WE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(WE||(WE={}));function mL(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?kl(e):e,i=u0(r.pathname||"/",n);if(i==null)return null;let o=qC(t);gL(o);let s=null;for(let a=0;s==null&&a<o.length;++a){let l=AL(i);s=kL(o[a],l)}return s}function qC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(Nt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Eo([r,l.relativePath]),h=n.concat(l);o.children&&o.children.length>0&&(Nt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),qC(o.children,e,h,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:bL(u,o.index),routesMeta:h})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of HC(o.path))i(o,s,l)}),e}function HC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=HC(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function gL(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:SL(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const yL=/^:[\w-]+$/,vL=3,_L=2,wL=1,EL=10,TL=-2,zE=t=>t==="*";function bL(t,e){let n=t.split("/"),r=n.length;return n.some(zE)&&(r+=TL),e&&(r+=_L),n.filter(i=>!zE(i)).reduce((i,o)=>i+(yL.test(o)?vL:o===""?wL:EL),r)}function SL(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function kL(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",h=IL({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!h)return null;Object.assign(r,h.params);let c=a.route;o.push({params:r,pathname:Eo([i,h.pathname]),pathnameBase:NL(Eo([i,h.pathnameBase])),route:c}),h.pathnameBase!=="/"&&(i=Eo([i,h.pathnameBase]))}return o}function IL(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=CL(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,h,c)=>{let{paramName:f,isOptional:d}=h;if(f==="*"){let y=a[c]||"";s=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const g=a[c];return d&&!g?u[f]=void 0:u[f]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:t}}function CL(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),BC(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function AL(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return BC(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function u0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function RL(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?kl(t):t;return{pathname:n?n.startsWith("/")?n:OL(n,e):e,search:xL(r),hash:DL(i)}}function OL(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ug(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function PL(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function WC(t,e){let n=PL(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function zC(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=kl(t):(i=pc({},t),Nt(!i.pathname||!i.pathname.includes("?"),ug("?","pathname","search",i)),Nt(!i.pathname||!i.pathname.includes("#"),ug("#","pathname","hash",i)),Nt(!i.search||!i.search.includes("#"),ug("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let c=e.length-1;if(!r&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),c-=1;i.pathname=f.join("/")}a=c>=0?e[c]:"/"}let l=RL(i,a),u=s&&s!=="/"&&s.endsWith("/"),h=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}const Eo=t=>t.join("/").replace(/\/\/+/g,"/"),NL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),xL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,DL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ML(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const YC=["post","put","patch","delete"];new Set(YC);const LL=["get",...YC];new Set(LL);/**
 * React Router v6.22.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mc(){return mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mc.apply(this,arguments)}const c0=q.createContext(null),FL=q.createContext(null),Ws=q.createContext(null),wp=q.createContext(null),Bo=q.createContext({outlet:null,matches:[],isDataRoute:!1}),KC=q.createContext(null);function jL(t,e){let{relative:n}=e===void 0?{}:e;Xc()||Nt(!1);let{basename:r,navigator:i}=q.useContext(Ws),{hash:o,pathname:s,search:a}=XC(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:Eo([r,s])),i.createHref({pathname:l,search:a,hash:o})}function Xc(){return q.useContext(wp)!=null}function Ep(){return Xc()||Nt(!1),q.useContext(wp).location}function GC(t){q.useContext(Ws).static||q.useLayoutEffect(t)}function Tp(){let{isDataRoute:t}=q.useContext(Bo);return t?XL():UL()}function UL(){Xc()||Nt(!1);let t=q.useContext(c0),{basename:e,future:n,navigator:r}=q.useContext(Ws),{matches:i}=q.useContext(Bo),{pathname:o}=Ep(),s=JSON.stringify(WC(i,n.v7_relativeSplatPath)),a=q.useRef(!1);return GC(()=>{a.current=!0}),q.useCallback(function(u,h){if(h===void 0&&(h={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let c=zC(u,JSON.parse(s),o,h.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:Eo([e,c.pathname])),(h.replace?r.replace:r.push)(c,h.state,h)},[e,r,s,o,t])}function QC(){let{matches:t}=q.useContext(Bo),e=t[t.length-1];return e?e.params:{}}function XC(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=q.useContext(Ws),{matches:i}=q.useContext(Bo),{pathname:o}=Ep(),s=JSON.stringify(WC(i,r.v7_relativeSplatPath));return q.useMemo(()=>zC(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function VL(t,e){return $L(t,e)}function $L(t,e,n,r){Xc()||Nt(!1);let{navigator:i}=q.useContext(Ws),{matches:o}=q.useContext(Bo),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=Ep(),h;if(e){var c;let w=typeof e=="string"?kl(e):e;l==="/"||(c=w.pathname)!=null&&c.startsWith(l)||Nt(!1),h=w}else h=u;let f=h.pathname||"/",d=f;if(l!=="/"){let w=l.replace(/^\//,"").split("/");d="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let g=mL(t,{pathname:d}),y=zL(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:Eo([l,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:Eo([l,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,r);return e&&y?q.createElement(wp.Provider,{value:{location:mc({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:uo.Pop}},y):y}function BL(){let t=QL(),e=ML(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),n?q.createElement("pre",{style:i},n):null,null)}const qL=q.createElement(BL,null);class HL extends q.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?q.createElement(Bo.Provider,{value:this.props.routeContext},q.createElement(KC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function WL(t){let{routeContext:e,match:n,children:r}=t,i=q.useContext(c0);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),q.createElement(Bo.Provider,{value:e},r)}function zL(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let h=s.findIndex(c=>c.route.id&&(a==null?void 0:a[c.route.id]));h>=0||Nt(!1),s=s.slice(0,Math.min(s.length,h+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<s.length;h++){let c=s[h];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(u=h),c.route.id){let{loaderData:f,errors:d}=n,g=c.route.loader&&f[c.route.id]===void 0&&(!d||d[c.route.id]===void 0);if(c.route.lazy||g){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((h,c,f)=>{let d,g=!1,y=null,w=null;n&&(d=a&&c.route.id?a[c.route.id]:void 0,y=c.route.errorElement||qL,l&&(u<0&&f===0?(JL("route-fallback",!1),g=!0,w=null):u===f&&(g=!0,w=c.route.hydrateFallbackElement||null)));let m=e.concat(s.slice(0,f+1)),p=()=>{let _;return d?_=y:g?_=w:c.route.Component?_=q.createElement(c.route.Component,null):c.route.element?_=c.route.element:_=h,q.createElement(WL,{match:c,routeContext:{outlet:h,matches:m,isDataRoute:n!=null},children:_})};return n&&(c.route.ErrorBoundary||c.route.errorElement||f===0)?q.createElement(HL,{location:n.location,revalidation:n.revalidation,component:y,error:d,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()},null)}var JC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(JC||{}),od=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(od||{});function YL(t){let e=q.useContext(c0);return e||Nt(!1),e}function KL(t){let e=q.useContext(FL);return e||Nt(!1),e}function GL(t){let e=q.useContext(Bo);return e||Nt(!1),e}function ZC(t){let e=GL(),n=e.matches[e.matches.length-1];return n.route.id||Nt(!1),n.route.id}function QL(){var t;let e=q.useContext(KC),n=KL(od.UseRouteError),r=ZC(od.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function XL(){let{router:t}=YL(JC.UseNavigateStable),e=ZC(od.UseNavigateStable),n=q.useRef(!1);return GC(()=>{n.current=!0}),q.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,mc({fromRouteId:e},o)))},[t,e])}const YE={};function JL(t,e,n){!e&&!YE[t]&&(YE[t]=!0)}function Sr(t){Nt(!1)}function ZL(t){let{basename:e="/",children:n=null,location:r,navigationType:i=uo.Pop,navigator:o,static:s=!1,future:a}=t;Xc()&&Nt(!1);let l=e.replace(/^\/*/,"/"),u=q.useMemo(()=>({basename:l,navigator:o,static:s,future:mc({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=kl(r));let{pathname:h="/",search:c="",hash:f="",state:d=null,key:g="default"}=r,y=q.useMemo(()=>{let w=u0(h,l);return w==null?null:{location:{pathname:w,search:c,hash:f,state:d,key:g},navigationType:i}},[l,h,c,f,d,g,i]);return y==null?null:q.createElement(Ws.Provider,{value:u},q.createElement(wp.Provider,{children:n,value:y}))}function e4(t){let{children:e,location:n}=t;return VL(Zy(e),n)}new Promise(()=>{});function Zy(t,e){e===void 0&&(e=[]);let n=[];return q.Children.forEach(t,(r,i)=>{if(!q.isValidElement(r))return;let o=[...e,i];if(r.type===q.Fragment){n.push.apply(n,Zy(r.props.children,o));return}r.type!==Sr&&Nt(!1),!r.props.index||!r.props.children||Nt(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Zy(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.22.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ev(){return ev=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ev.apply(this,arguments)}function t4(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function n4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function r4(t,e){return t.button===0&&(!e||e==="_self")&&!n4(t)}const i4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],o4="6";try{window.__reactRouterVersion=o4}catch{}const s4="startTransition",KE=v_[s4];function a4(t){let{basename:e,children:n,future:r,window:i}=t,o=q.useRef();o.current==null&&(o.current=fL({window:i,v5Compat:!0}));let s=o.current,[a,l]=q.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},h=q.useCallback(c=>{u&&KE?KE(()=>l(c)):l(c)},[l,u]);return q.useLayoutEffect(()=>s.listen(h),[s,h]),q.createElement(ZL,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}const l4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",u4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ji=q.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:h,unstable_viewTransition:c}=e,f=t4(e,i4),{basename:d}=q.useContext(Ws),g,y=!1;if(typeof u=="string"&&u4.test(u)&&(g=u,l4))try{let _=new URL(window.location.href),v=u.startsWith("//")?new URL(_.protocol+u):new URL(u),E=u0(v.pathname,d);v.origin===_.origin&&E!=null?u=E+v.search+v.hash:y=!0}catch{}let w=jL(u,{relative:i}),m=c4(u,{replace:s,state:a,target:l,preventScrollReset:h,relative:i,unstable_viewTransition:c});function p(_){r&&r(_),_.defaultPrevented||m(_)}return q.createElement("a",ev({},f,{href:g||w,onClick:y||o?r:p,ref:n,target:l}))});var GE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(GE||(GE={}));var QE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(QE||(QE={}));function c4(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a}=e===void 0?{}:e,l=Tp(),u=Ep(),h=XC(t,{relative:s});return q.useCallback(c=>{if(r4(c,n)){c.preventDefault();let f=r!==void 0?r:id(u)===id(h);l(t,{replace:f,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a})}},[u,l,h,r,i,n,t,o,s,a])}var XE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le=function(t,e){if(!t)throw Il(e)},Il=function(t){return new Error("Firebase Database ("+eA.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},h4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},h0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,h=o>>2,c=(o&3)<<4|a>>4;let f=(a&15)<<2|u>>6,d=u&63;l||(d=64,s||(f=64)),r.push(n[h],n[c],n[f],n[d])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(tA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):h4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const c=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||c==null)throw new f4;const f=o<<2|a>>4;if(r.push(f),u!==64){const d=a<<4&240|u>>2;if(r.push(d),c!==64){const g=u<<6&192|c;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class f4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nA=function(t){const e=tA(t);return h0.encodeByteArray(e,!0)},sd=function(t){return nA(t).replace(/\./g,"")},ad=function(t){try{return h0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d4(t){return rA(void 0,t)}function rA(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!p4(n)||(t[n]=rA(t[n],e[n]));return t}function p4(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4=()=>m4().__FIREBASE_DEFAULTS__,y4=()=>{if(typeof process>"u"||typeof XE>"u")return;const t=XE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},v4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ad(t[1]);return e&&JSON.parse(e)},bp=()=>{try{return g4()||y4()||v4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},iA=t=>{var e,n;return(n=(e=bp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},oA=t=>{const e=iA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},sA=()=>{var t;return(t=bp())===null||t===void 0?void 0:t.config},aA=t=>{var e;return(e=bp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[sd(JSON.stringify(n)),sd(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function d0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xt())}function _4(){var t;const e=(t=bp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function w4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function uA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function E4(){const t=xt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function cA(){return eA.NODE_ADMIN===!0}function T4(){return!_4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hA(){try{return typeof indexedDB=="object"}catch{return!1}}function b4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4="FirebaseError";class mi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=S4,Object.setPrototypeOf(this,mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jc.prototype.create)}}class Jc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?k4(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new mi(i,a,r)}}function k4(t,e){return t.replace(I4,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const I4=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(t){return JSON.parse(t)}function nn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA=function(t){let e={},n={},r={},i="";try{const o=t.split(".");e=gc(ad(o[0])||""),n=gc(ad(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},C4=function(t){const e=fA(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},A4=function(t){const e=fA(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function rl(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function tv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ld(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function ud(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(JE(o)&&JE(s)){if(!ud(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function JE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Tu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function bu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let c=0;c<16;c++)r[c]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let c=0;c<16;c++)r[c]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let c=16;c<80;c++){const f=r[c-3]^r[c-8]^r[c-14]^r[c-16];r[c]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,h;for(let c=0;c<80;c++){c<40?c<20?(u=a^o&(s^a),h=1518500249):(u=o^s^a,h=1859775393):c<60?(u=o&s|a&(o|s),h=2400959708):(u=o^s^a,h=3395469782);const f=(i<<5|i>>>27)+u+l+h+r[c]&4294967295;l=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}}function O4(t,e){const n=new P4(t,e);return n.subscribe.bind(n)}class P4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");N4(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=cg),i.error===void 0&&(i.error=cg),i.complete===void 0&&(i.complete=cg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function N4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function cg(){}function x4(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,le(r<t.length,"Surrogate pair missing trail surrogate.");const s=t.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Sp=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(t){return t&&t._delegate?t._delegate:t}class Li{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new f0;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(F4(e))try{this.getOrInitializeService({instanceIdentifier:Zo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Zo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zo){return this.instances.has(e)}getOptions(e=Zo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:L4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zo){return this.component?this.component.multipleInstances?e:Zo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function L4(t){return t===Zo?void 0:t}function F4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new M4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ne||(Ne={}));const U4={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},V4=Ne.INFO,$4={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},B4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=$4[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kp{constructor(e){this.name=e,this._logLevel=V4,this._logHandler=B4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?U4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const q4=(t,e)=>e.some(n=>t instanceof n);let ZE,eT;function H4(){return ZE||(ZE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function W4(){return eT||(eT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dA=new WeakMap,nv=new WeakMap,pA=new WeakMap,hg=new WeakMap,p0=new WeakMap;function z4(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(To(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&dA.set(n,t)}).catch(()=>{}),p0.set(e,t),e}function Y4(t){if(nv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});nv.set(t,e)}let rv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return nv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||pA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return To(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function K4(t){rv=t(rv)}function G4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(fg(this),e,...n);return pA.set(r,e.sort?e.sort():[e]),To(r)}:W4().includes(t)?function(...e){return t.apply(fg(this),e),To(dA.get(this))}:function(...e){return To(t.apply(fg(this),e))}}function Q4(t){return typeof t=="function"?G4(t):(t instanceof IDBTransaction&&Y4(t),q4(t,H4())?new Proxy(t,rv):t)}function To(t){if(t instanceof IDBRequest)return z4(t);if(hg.has(t))return hg.get(t);const e=Q4(t);return e!==t&&(hg.set(t,e),p0.set(e,t)),e}const fg=t=>p0.get(t);function X4(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=To(s);return r&&s.addEventListener("upgradeneeded",l=>{r(To(s.result),l.oldVersion,l.newVersion,To(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const J4=["get","getKey","getAll","getAllKeys","count"],Z4=["put","add","delete","clear"],dg=new Map;function tT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(dg.get(e))return dg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Z4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||J4.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return dg.set(e,o),o}K4(t=>({...t,get:(e,n,r)=>tT(e,n)||t.get(e,n,r),has:(e,n)=>!!tT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function tF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const iv="@firebase/app",nT="0.9.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs=new kp("@firebase/app"),nF="@firebase/app-compat",rF="@firebase/analytics-compat",iF="@firebase/analytics",oF="@firebase/app-check-compat",sF="@firebase/app-check",aF="@firebase/auth",lF="@firebase/auth-compat",uF="@firebase/database",cF="@firebase/database-compat",hF="@firebase/functions",fF="@firebase/functions-compat",dF="@firebase/installations",pF="@firebase/installations-compat",mF="@firebase/messaging",gF="@firebase/messaging-compat",yF="@firebase/performance",vF="@firebase/performance-compat",_F="@firebase/remote-config",wF="@firebase/remote-config-compat",EF="@firebase/storage",TF="@firebase/storage-compat",bF="@firebase/firestore",SF="@firebase/firestore-compat",kF="firebase",IF="10.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="[DEFAULT]",CF={[iv]:"fire-core",[nF]:"fire-core-compat",[iF]:"fire-analytics",[rF]:"fire-analytics-compat",[sF]:"fire-app-check",[oF]:"fire-app-check-compat",[aF]:"fire-auth",[lF]:"fire-auth-compat",[uF]:"fire-rtdb",[cF]:"fire-rtdb-compat",[hF]:"fire-fn",[fF]:"fire-fn-compat",[dF]:"fire-iid",[pF]:"fire-iid-compat",[mF]:"fire-fcm",[gF]:"fire-fcm-compat",[yF]:"fire-perf",[vF]:"fire-perf-compat",[_F]:"fire-rc",[wF]:"fire-rc-compat",[EF]:"fire-gcs",[TF]:"fire-gcs-compat",[bF]:"fire-fst",[SF]:"fire-fst-compat","fire-js":"fire-js",[kF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd=new Map,sv=new Map;function AF(t,e){try{t.container.addComponent(e)}catch(n){Cs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Po(t){const e=t.name;if(sv.has(e))return Cs.debug(`There were multiple attempts to register component ${e}.`),!1;sv.set(e,t);for(const n of cd.values())AF(n,t);return!0}function Ip(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},bo=new Jc("app","Firebase",RF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Li("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=IF;function mA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ov,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw bo.create("bad-app-name",{appName:String(i)});if(n||(n=sA()),!n)throw bo.create("no-options");const o=cd.get(i);if(o){if(ud(n,o.options)&&ud(r,o.config))return o;throw bo.create("duplicate-app",{appName:i})}const s=new j4(i);for(const l of sv.values())s.addComponent(l);const a=new OF(n,r,s);return cd.set(i,a),a}function m0(t=ov){const e=cd.get(t);if(!e&&t===ov&&sA())return mA();if(!e)throw bo.create("no-app",{appName:t});return e}function yr(t,e,n){var r;let i=(r=CF[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cs.warn(a.join(" "));return}Po(new Li(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PF="firebase-heartbeat-database",NF=1,yc="firebase-heartbeat-store";let pg=null;function gA(){return pg||(pg=X4(PF,NF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(yc)}catch(n){console.warn(n)}}}}).catch(t=>{throw bo.create("idb-open",{originalErrorMessage:t.message})})),pg}async function xF(t){try{const n=(await gA()).transaction(yc),r=await n.objectStore(yc).get(yA(t));return await n.done,r}catch(e){if(e instanceof mi)Cs.warn(e.message);else{const n=bo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Cs.warn(n.message)}}}async function rT(t,e){try{const r=(await gA()).transaction(yc,"readwrite");await r.objectStore(yc).put(e,yA(t)),await r.done}catch(n){if(n instanceof mi)Cs.warn(n.message);else{const r=bo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Cs.warn(r.message)}}}function yA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DF=1024,MF=30*24*60*60*1e3;class LF{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new jF(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=iT();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=MF}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=iT(),{heartbeatsToSend:r,unsentEntries:i}=FF(this._heartbeatsCache.heartbeats),o=sd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function iT(){return new Date().toISOString().substring(0,10)}function FF(t,e=DF){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),oT(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),oT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class jF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hA()?b4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await xF(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return rT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return rT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function oT(t){return sd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UF(t){Po(new Li("platform-logger",e=>new eF(e),"PRIVATE")),Po(new Li("heartbeat",e=>new LF(e),"PRIVATE")),yr(iv,nT,t),yr(iv,nT,"esm2017"),yr("fire-js","")}UF("");function g0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function vA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VF=vA,_A=new Jc("auth","Firebase",vA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd=new kp("@firebase/auth");function $F(t,...e){hd.logLevel<=Ne.WARN&&hd.warn(`Auth (${qo}): ${t}`,...e)}function wf(t,...e){hd.logLevel<=Ne.ERROR&&hd.error(`Auth (${qo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(t,...e){throw y0(t,...e)}function ri(t,...e){return y0(t,...e)}function BF(t,e,n){const r=Object.assign(Object.assign({},VF()),{[e]:n});return new Jc("auth","Firebase",r).create(e,{appName:t.name})}function y0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return _A.create(t,...e)}function Ee(t,e,...n){if(!t)throw y0(e,...n)}function ki(t){const e="INTERNAL ASSERTION FAILED: "+t;throw wf(e),new Error(e)}function Fi(t,e){t||ki(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function qF(){return sT()==="http:"||sT()==="https:"}function sT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qF()||w4()||"connection"in navigator)?navigator.onLine:!0}function WF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fi(n>e,"Short delay should be less than long delay!"),this.isMobile=d0()||uA()}get(){return HF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(t,e){Fi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YF=new Zc(3e4,6e4);function zs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ho(t,e,n,r,i={}){return EA(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Cl(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),wA.fetch()(TA(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))})}async function EA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},zF),e);try{const i=new GF(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw $h(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw $h(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw $h(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw $h(t,"user-disabled",s);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw BF(t,h,u);Fr(t,h)}}catch(i){if(i instanceof mi)throw i;Fr(t,"network-request-failed",{message:String(i)})}}async function Cp(t,e,n,r,i={}){const o=await Ho(t,e,n,r,i);return"mfaPendingCredential"in o&&Fr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function TA(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?v0(t.config,i):`${t.config.apiScheme}://${i}`}function KF(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class GF{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ri(this.auth,"network-request-failed")),YF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $h(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ri(t,e,r);return i.customData._tokenResponse=n,i}function aT(t){return t!==void 0&&t.enterprise!==void 0}class QF{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return KF(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function XF(t,e){return Ho(t,"GET","/v2/recaptchaConfig",zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JF(t,e){return Ho(t,"POST","/v1/accounts:delete",e)}async function ZF(t,e){return Ho(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function e3(t,e=!1){const n=gt(t),r=await n.getIdToken(e),i=_0(r);Ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Uu(mg(i.auth_time)),issuedAtTime:Uu(mg(i.iat)),expirationTime:Uu(mg(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function mg(t){return Number(t)*1e3}function _0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return wf("JWT malformed, contained fewer than 3 sections"),null;try{const i=ad(n);return i?JSON.parse(i):(wf("Failed to decode base64 JWT payload"),null)}catch(i){return wf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function t3(t){const e=_0(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof mi&&n3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function n3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uu(this.lastLoginAt),this.creationTime=Uu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await vc(t,ZF(n,{idToken:r}));Ee(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?s3(o.providerUserInfo):[],a=o3(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),h=l?u:!1,c={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new bA(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,c)}async function i3(t){const e=gt(t);await fd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function o3(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function s3(t){return t.map(e=>{var{providerId:n}=e,r=g0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a3(t,e){const n=await EA(t,{},async()=>{const r=Cl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=TA(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",wA.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function l3(t,e){return Ho(t,"POST","/v2/accounts:revokeToken",zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):t3(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Ee(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await a3(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new _c;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ee(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Ee(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _c,this.toJSON())}_performRefresh(){return ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class gs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=g0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new r3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new bA(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await vc(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return e3(this,e)}reload(){return i3(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new gs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await fd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await vc(this,JF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,h;const c=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,d=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,g=(s=n.photoURL)!==null&&s!==void 0?s:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,p=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:_,emailVerified:v,isAnonymous:E,providerData:I,stsTokenManager:T}=n;Ee(_&&T,e,"internal-error");const b=_c.fromJSON(this.name,T);Ee(typeof _=="string",e,"internal-error"),Ki(c,e.name),Ki(f,e.name),Ee(typeof v=="boolean",e,"internal-error"),Ee(typeof E=="boolean",e,"internal-error"),Ki(d,e.name),Ki(g,e.name),Ki(y,e.name),Ki(w,e.name),Ki(m,e.name),Ki(p,e.name);const O=new gs({uid:_,auth:e,email:f,emailVerified:v,displayName:c,isAnonymous:E,photoURL:g,phoneNumber:d,tenantId:y,stsTokenManager:b,createdAt:m,lastLoginAt:p});return I&&Array.isArray(I)&&(O.providerData=I.map(S=>Object.assign({},S))),w&&(O._redirectEventId=w),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new _c;i.updateFromServerResponse(n);const o=new gs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await fd(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT=new Map;function Ii(t){Fi(t instanceof Function,"Expected a class definition");let e=lT.get(t);return e?(Fi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,lT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}SA.type="NONE";const uT=SA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(t,e,n){return`firebase:${t}:${e}:${n}`}class $a{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Ef(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ef("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?gs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new $a(Ii(uT),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||Ii(uT);const s=Ef(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(s);if(h){const c=gs._fromJSON(e,h);u!==o&&(a=c),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new $a(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new $a(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(CA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(RA(e))return"Blackberry";if(OA(e))return"Webos";if(w0(e))return"Safari";if((e.includes("chrome/")||IA(e))&&!e.includes("edge/"))return"Chrome";if(AA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function kA(t=xt()){return/firefox\//i.test(t)}function w0(t=xt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function IA(t=xt()){return/crios\//i.test(t)}function CA(t=xt()){return/iemobile/i.test(t)}function AA(t=xt()){return/android/i.test(t)}function RA(t=xt()){return/blackberry/i.test(t)}function OA(t=xt()){return/webos/i.test(t)}function Ap(t=xt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function u3(t=xt()){var e;return Ap(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function c3(){return E4()&&document.documentMode===10}function PA(t=xt()){return Ap(t)||AA(t)||OA(t)||RA(t)||/windows phone/i.test(t)||CA(t)}function h3(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(t,e=[]){let n;switch(t){case"Browser":n=cT(xt());break;case"Worker":n=`${cT(xt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${qo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d3(t,e={}){return Ho(t,"GET","/v2/passwordPolicy",zs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3=6;class m3{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:p3,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hT(this),this.idTokenSubscription=new hT(this),this.beforeStateQueue=new f3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_A,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ii(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await $a.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await fd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?gt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ii(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await d3(this),n=new m3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Jc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await l3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ii(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await $a.create(this,[Ii(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=NA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&$F(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Al(t){return gt(t)}class hT{constructor(e){this.auth=e,this.observer=null,this.addObserver=O4(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function y3(t){Rp=t}function xA(t){return Rp.loadJS(t)}function v3(){return Rp.recaptchaEnterpriseScript}function _3(){return Rp.gapiScript}function w3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const E3="recaptcha-enterprise",T3="NO_RECAPTCHA";class b3{constructor(e){this.type=E3,this.auth=Al(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{XF(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new QF(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;aT(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(T3)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&aT(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=v3();l.length!==0&&(l+=a),xA(l).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})}}async function fT(t,e,n,r=!1){const i=new b3(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function dT(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await fT(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await fT(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S3(t,e){const n=Ip(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(ud(o,e??{}))return i;Fr(i,"already-initialized")}return n.initialize({options:e})}function k3(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ii);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function I3(t,e,n){const r=Al(t);Ee(r._canInitEmulator,r,"emulator-config-failed"),Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=DA(e),{host:s,port:a}=C3(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||A3()}function DA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function C3(t){const e=DA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:pT(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:pT(s)}}}function pT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function A3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ki("not implemented")}_getIdTokenResponse(e){return ki("not implemented")}_linkToIdToken(e,n){return ki("not implemented")}_getReauthenticationResolver(e){return ki("not implemented")}}async function R3(t,e){return Ho(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O3(t,e){return Cp(t,"POST","/v1/accounts:signInWithPassword",zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P3(t,e){return Cp(t,"POST","/v1/accounts:signInWithEmailLink",zs(t,e))}async function N3(t,e){return Cp(t,"POST","/v1/accounts:signInWithEmailLink",zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc extends E0{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new wc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new wc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dT(e,n,"signInWithPassword",O3);case"emailLink":return P3(e,{email:this._email,oobCode:this._password});default:Fr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dT(e,r,"signUpPassword",R3);case"emailLink":return N3(e,{idToken:n,email:this._email,oobCode:this._password});default:Fr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ba(t,e){return Cp(t,"POST","/v1/accounts:signInWithIdp",zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3="http://localhost";class As extends E0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new As(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Fr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=g0(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new As(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Ba(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ba(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ba(e,n)}buildRequest(){const e={requestUri:x3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Cl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function M3(t){const e=Tu(bu(t)).link,n=e?Tu(bu(e)).deep_link_id:null,r=Tu(bu(t)).deep_link_id;return(r?Tu(bu(r)).link:null)||r||n||e||t}class T0{constructor(e){var n,r,i,o,s,a;const l=Tu(bu(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,c=D3((i=l.mode)!==null&&i!==void 0?i:null);Ee(u&&h&&c,"argument-error"),this.apiKey=u,this.operation=c,this.code=h,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=M3(e);try{return new T0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(){this.providerId=Rl.PROVIDER_ID}static credential(e,n){return wc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=T0.parseLink(n);return Ee(r,"argument-error"),wc._fromEmailAndCode(e,r.code,r.tenantId)}}Rl.PROVIDER_ID="password";Rl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Rl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh extends MA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no extends eh{constructor(){super("facebook.com")}static credential(e){return As._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return no.credentialFromTaggedObject(e)}static credentialFromError(e){return no.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return no.credential(e.oauthAccessToken)}catch{return null}}}no.FACEBOOK_SIGN_IN_METHOD="facebook.com";no.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro extends eh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return As._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ro.credential(n,r)}catch{return null}}}ro.GOOGLE_SIGN_IN_METHOD="google.com";ro.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends eh{constructor(){super("github.com")}static credential(e){return As._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return io.credential(e.oauthAccessToken)}catch{return null}}}io.GITHUB_SIGN_IN_METHOD="github.com";io.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends eh{constructor(){super("twitter.com")}static credential(e,n){return As._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return oo.credential(n,r)}catch{return null}}}oo.TWITTER_SIGN_IN_METHOD="twitter.com";oo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await gs._fromIdTokenResponse(e,r,i),s=mT(r);return new il({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=mT(r);return new il({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function mT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd extends mi{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,dd.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new dd(e,n,r,i)}}function LA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?dd._fromErrorAndOperation(t,o,e,r):o})}async function L3(t,e,n=!1){const r=await vc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return il._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F3(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const o=await vc(t,LA(r,i,e,t),n);Ee(o.idToken,r,"internal-error");const s=_0(o.idToken);Ee(s,r,"internal-error");const{sub:a}=s;return Ee(t.uid===a,r,"user-mismatch"),il._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Fr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FA(t,e,n=!1){const r="signIn",i=await LA(t,r,e),o=await il._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function j3(t,e){return FA(Al(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U3(t){const e=Al(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function V3(t,e,n){return j3(gt(t),Rl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&U3(t),r})}function $3(t,e,n,r){return gt(t).onIdTokenChanged(e,n,r)}function B3(t,e,n){return gt(t).beforeAuthStateChanged(e,n)}function q3(t,e,n,r){return gt(t).onAuthStateChanged(e,n,r)}function H3(t){return gt(t).signOut()}const pd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(pd,"1"),this.storage.removeItem(pd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W3(){const t=xt();return w0(t)||Ap(t)}const z3=1e3,Y3=10;class UA extends jA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=W3()&&h3(),this.fallbackToPolling=PA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);c3()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Y3):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},z3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}UA.type="LOCAL";const K3=UA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA extends jA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}VA.type="SESSION";const $A=VA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Op(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await G3(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Op.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=b0("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(c){const f=c;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(f.data.response);break;default:clearTimeout(h),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(){return window}function X3(t){ii().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(){return typeof ii().WorkerGlobalScope<"u"&&typeof ii().importScripts=="function"}async function J3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Z3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function ej(){return BA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA="firebaseLocalStorageDb",tj=1,md="firebaseLocalStorage",HA="fbase_key";class th{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Pp(t,e){return t.transaction([md],e?"readwrite":"readonly").objectStore(md)}function nj(){const t=indexedDB.deleteDatabase(qA);return new th(t).toPromise()}function lv(){const t=indexedDB.open(qA,tj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(md,{keyPath:HA})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(md)?e(r):(r.close(),await nj(),e(await lv()))})})}async function gT(t,e,n){const r=Pp(t,!0).put({[HA]:e,value:n});return new th(r).toPromise()}async function rj(t,e){const n=Pp(t,!1).get(e),r=await new th(n).toPromise();return r===void 0?null:r.value}function yT(t,e){const n=Pp(t,!0).delete(e);return new th(n).toPromise()}const ij=800,oj=3;class WA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>oj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return BA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Op._getInstance(ej()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await J3(),!this.activeServiceWorker)return;this.sender=new Q3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Z3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lv();return await gT(e,pd,"1"),await yT(e,pd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>gT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>rj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>yT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Pp(i,!1).getAll();return new th(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ij)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WA.type="LOCAL";const sj=WA;new Zc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aj(t,e){return e?Ii(e):(Ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0 extends E0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ba(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ba(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ba(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function lj(t){return FA(t.auth,new S0(t),t.bypassAuthState)}function uj(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),F3(n,new S0(t),t.bypassAuthState)}async function cj(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),L3(n,new S0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lj;case"linkViaPopup":case"linkViaRedirect":return cj;case"reauthViaPopup":case"reauthViaRedirect":return uj;default:Fr(this.auth,"internal-error")}}resolve(e){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj=new Zc(2e3,1e4);class Ra extends zA{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Ra.currentPopupAction&&Ra.currentPopupAction.cancel(),Ra.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Fi(this.filter.length===1,"Popup operations only handle one event");const e=b0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ra.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hj.get())};e()}}Ra.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fj="pendingRedirect",Tf=new Map;class dj extends zA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Tf.get(this.auth._key());if(!e){try{const r=await pj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Tf.set(this.auth._key(),e)}return this.bypassAuthState||Tf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pj(t,e){const n=yj(e),r=gj(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function mj(t,e){Tf.set(t._key(),e)}function gj(t){return Ii(t._redirectPersistence)}function yj(t){return Ef(fj,t.config.apiKey,t.name)}async function vj(t,e,n=!1){const r=Al(t),i=aj(r,e),s=await new dj(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j=10*60*1e3;class wj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Ej(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!YA(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ri(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_j&&this.cachedEventUids.clear(),this.cachedEventUids.has(vT(e))}saveEventToCache(e){this.cachedEventUids.add(vT(e)),this.lastProcessedEventTime=Date.now()}}function vT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function YA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Ej(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tj(t,e={}){return Ho(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sj=/^https?/;async function kj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Tj(t);for(const n of e)try{if(Ij(n))return}catch{}Fr(t,"unauthorized-domain")}function Ij(t){const e=av(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!Sj.test(n))return!1;if(bj.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj=new Zc(3e4,6e4);function _T(){const t=ii().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Aj(t){return new Promise((e,n)=>{var r,i,o;function s(){_T(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_T(),n(ri(t,"network-request-failed"))},timeout:Cj.get()})}if(!((i=(r=ii().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ii().gapi)===null||o===void 0)&&o.load)s();else{const a=w3("iframefcb");return ii()[a]=()=>{gapi.load?s():n(ri(t,"network-request-failed"))},xA(`${_3()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw bf=null,e})}let bf=null;function Rj(t){return bf=bf||Aj(t),bf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oj=new Zc(5e3,15e3),Pj="__/auth/iframe",Nj="emulator/auth/iframe",xj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Dj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Mj(t){const e=t.config;Ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?v0(e,Nj):`https://${t.config.authDomain}/${Pj}`,r={apiKey:e.apiKey,appName:t.name,v:qo},i=Dj.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Cl(r).slice(1)}`}async function Lj(t){const e=await Rj(t),n=ii().gapi;return Ee(n,t,"internal-error"),e.open({where:document.body,url:Mj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xj,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=ri(t,"network-request-failed"),a=ii().setTimeout(()=>{o(s)},Oj.get());function l(){ii().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jj=500,Uj=600,Vj="_blank",$j="http://localhost";class wT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Bj(t,e,n,r=jj,i=Uj){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Fj),{width:r.toString(),height:i.toString(),top:o,left:s}),u=xt().toLowerCase();n&&(a=IA(u)?Vj:n),kA(u)&&(e=e||$j,l.scrollbars="yes");const h=Object.entries(l).reduce((f,[d,g])=>`${f}${d}=${g},`,"");if(u3(u)&&a!=="_self")return qj(e||"",a),new wT(null);const c=window.open(e||"",a,h);Ee(c,t,"popup-blocked");try{c.focus()}catch{}return new wT(c)}function qj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj="__/auth/handler",Wj="emulator/auth/handler",zj=encodeURIComponent("fac");async function ET(t,e,n,r,i,o){Ee(t.config.authDomain,t,"auth-domain-config-required"),Ee(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:qo,eventId:i};if(e instanceof MA){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",tv(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,c]of Object.entries(o||{}))s[h]=c}if(e instanceof eh){const h=e.getScopes().filter(c=>c!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),u=l?`#${zj}=${encodeURIComponent(l)}`:"";return`${Yj(t)}?${Cl(a).slice(1)}${u}`}function Yj({config:t}){return t.emulator?v0(t,Wj):`https://${t.authDomain}/${Hj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg="webStorageSupport";class Kj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$A,this._completeRedirectFn=vj,this._overrideRedirectResult=mj}async _openPopup(e,n,r,i){var o;Fi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await ET(e,n,r,av(),i);return Bj(e,s,b0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await ET(e,n,r,av(),i);return X3(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Fi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Lj(e),r=new wj(e);return n.register("authEvent",i=>(Ee(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(gg,{type:gg},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[gg];s!==void 0&&n(!!s),Fr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=kj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return PA()||w0()||Ap()}}const Gj=Kj;var TT="@firebase/auth",bT="1.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Jj(t){Po(new Li("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Ee(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:NA(t)},u=new g3(r,i,o,l);return k3(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Po(new Li("auth-internal",e=>{const n=Al(e.getProvider("auth").getImmediate());return(r=>new Qj(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),yr(TT,bT,Xj(t)),yr(TT,bT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj=5*60,e5=aA("authIdTokenMaxAge")||Zj;let ST=null;const t5=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>e5)return;const i=n==null?void 0:n.token;ST!==i&&(ST=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function n5(t=m0()){const e=Ip(t,"auth");if(e.isInitialized())return e.getImmediate();const n=S3(t,{popupRedirectResolver:Gj,persistence:[sj,K3,$A]}),r=aA("authTokenSyncURL");if(r){const o=t5(r);B3(n,o,()=>o(n.currentUser)),$3(n,s=>o(s))}const i=iA("auth");return i&&I3(n,`http://${i}`),n}function r5(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}y3({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=ri("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",r5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Jj("Browser");var i5="firebase",o5="10.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yr(i5,o5,"app");var s5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ue,k0=k0||{},Se=s5||self;function Np(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function nh(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function a5(t){return Object.prototype.hasOwnProperty.call(t,yg)&&t[yg]||(t[yg]=++l5)}var yg="closure_uid_"+(1e9*Math.random()>>>0),l5=0;function u5(t,e,n){return t.call.apply(t.bind,arguments)}function c5(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Tn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Tn=u5:Tn=c5,Tn.apply(null,arguments)}function Bh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Gt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Wo(){this.s=this.s,this.o=this.o}var h5=0;Wo.prototype.s=!1;Wo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),h5!=0)&&a5(this)};Wo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const KA=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function I0(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function kT(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Np(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function bn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}bn.prototype.h=function(){this.defaultPrevented=!0};var f5=function(){if(!Se.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};Se.addEventListener("test",n,e),Se.removeEventListener("test",n,e)}catch{}return t}();function Ec(t){return/^[\s\xa0]*$/.test(t)}function xp(){var t=Se.navigator;return t&&(t=t.userAgent)?t:""}function Yr(t){return xp().indexOf(t)!=-1}function C0(t){return C0[" "](t),t}C0[" "]=function(){};function d5(t,e){var n=o6;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var p5=Yr("Opera"),ol=Yr("Trident")||Yr("MSIE"),GA=Yr("Edge"),uv=GA||ol,QA=Yr("Gecko")&&!(xp().toLowerCase().indexOf("webkit")!=-1&&!Yr("Edge"))&&!(Yr("Trident")||Yr("MSIE"))&&!Yr("Edge"),m5=xp().toLowerCase().indexOf("webkit")!=-1&&!Yr("Edge");function XA(){var t=Se.document;return t?t.documentMode:void 0}var cv;e:{var vg="",_g=function(){var t=xp();if(QA)return/rv:([^\);]+)(\)|;)/.exec(t);if(GA)return/Edge\/([\d\.]+)/.exec(t);if(ol)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(m5)return/WebKit\/(\S+)/.exec(t);if(p5)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(_g&&(vg=_g?_g[1]:""),ol){var wg=XA();if(wg!=null&&wg>parseFloat(vg)){cv=String(wg);break e}}cv=vg}var hv;if(Se.document&&ol){var IT=XA();hv=IT||parseInt(cv,10)||void 0}else hv=void 0;var g5=hv;function Tc(t,e){if(bn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(QA){e:{try{C0(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:y5[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Tc.$.h.call(this)}}Gt(Tc,bn);var y5={2:"touch",3:"pen",4:"mouse"};Tc.prototype.h=function(){Tc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var rh="closure_listenable_"+(1e6*Math.random()|0),v5=0;function _5(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++v5,this.fa=this.ia=!1}function Dp(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function A0(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function w5(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function JA(t){const e={};for(const n in t)e[n]=t[n];return e}const CT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ZA(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<CT.length;o++)n=CT[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Mp(t){this.src=t,this.g={},this.h=0}Mp.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=dv(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new _5(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function fv(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=KA(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Dp(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function dv(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var R0="closure_lm_"+(1e6*Math.random()|0),Eg={};function eR(t,e,n,r,i){if(r&&r.once)return nR(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)eR(t,e[o],n,r,i);return null}return n=N0(n),t&&t[rh]?t.O(e,n,nh(r)?!!r.capture:!!r,i):tR(t,e,n,!1,r,i)}function tR(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=nh(i)?!!i.capture:!!i,a=P0(t);if(a||(t[R0]=a=new Mp(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=E5(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)f5||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(iR(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function E5(){function t(n){return e.call(t.src,t.listener,n)}const e=T5;return t}function nR(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)nR(t,e[o],n,r,i);return null}return n=N0(n),t&&t[rh]?t.P(e,n,nh(r)?!!r.capture:!!r,i):tR(t,e,n,!0,r,i)}function rR(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)rR(t,e[o],n,r,i);else r=nh(r)?!!r.capture:!!r,n=N0(n),t&&t[rh]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=dv(o,n,r,i),-1<n&&(Dp(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=P0(t))&&(e=t.g[e.toString()],t=-1,e&&(t=dv(e,n,r,i)),(n=-1<t?e[t]:null)&&O0(n))}function O0(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[rh])fv(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(iR(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=P0(e))?(fv(n,t),n.h==0&&(n.src=null,e[R0]=null)):Dp(t)}}}function iR(t){return t in Eg?Eg[t]:Eg[t]="on"+t}function T5(t,e){if(t.fa)t=!0;else{e=new Tc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&O0(t),t=n.call(r,e)}return t}function P0(t){return t=t[R0],t instanceof Mp?t:null}var Tg="__closure_events_fn_"+(1e9*Math.random()>>>0);function N0(t){return typeof t=="function"?t:(t[Tg]||(t[Tg]=function(e){return t.handleEvent(e)}),t[Tg])}function Kt(){Wo.call(this),this.i=new Mp(this),this.S=this,this.J=null}Gt(Kt,Wo);Kt.prototype[rh]=!0;Kt.prototype.removeEventListener=function(t,e,n,r){rR(this,t,e,n,r)};function sn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new bn(e,t);else if(e instanceof bn)e.target=e.target||t;else{var i=e;e=new bn(r,t),ZA(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=qh(s,r,!0,e)&&i}if(s=e.g=t,i=qh(s,r,!0,e)&&i,i=qh(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=qh(s,r,!1,e)&&i}Kt.prototype.N=function(){if(Kt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Dp(n[r]);delete t.g[e],t.h--}}this.J=null};Kt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Kt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function qh(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&fv(t.i,s),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var x0=Se.JSON.stringify;class b5{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function S5(){var t=D0;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class k5{constructor(){this.h=this.g=null}add(e,n){const r=oR.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var oR=new b5(()=>new I5,t=>t.reset());class I5{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function C5(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function A5(t){Se.setTimeout(()=>{throw t},0)}let bc,Sc=!1,D0=new k5,sR=()=>{const t=Se.Promise.resolve(void 0);bc=()=>{t.then(R5)}};var R5=()=>{for(var t;t=S5();){try{t.h.call(t.g)}catch(n){A5(n)}var e=oR;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Sc=!1};function Lp(t,e){Kt.call(this),this.h=t||1,this.g=e||Se,this.j=Tn(this.qb,this),this.l=Date.now()}Gt(Lp,Kt);ue=Lp.prototype;ue.ga=!1;ue.T=null;ue.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),sn(this,"tick"),this.ga&&(M0(this),this.start()))}};ue.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function M0(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}ue.N=function(){Lp.$.N.call(this),M0(this),delete this.g};function L0(t,e,n){if(typeof t=="function")n&&(t=Tn(t,n));else if(t&&typeof t.handleEvent=="function")t=Tn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Se.setTimeout(t,e||0)}function aR(t){t.g=L0(()=>{t.g=null,t.i&&(t.i=!1,aR(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class O5 extends Wo{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:aR(this)}N(){super.N(),this.g&&(Se.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kc(t){Wo.call(this),this.h=t,this.g={}}Gt(kc,Wo);var AT=[];function lR(t,e,n,r){Array.isArray(n)||(n&&(AT[0]=n.toString()),n=AT);for(var i=0;i<n.length;i++){var o=eR(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function uR(t){A0(t.g,function(e,n){this.g.hasOwnProperty(n)&&O0(e)},t),t.g={}}kc.prototype.N=function(){kc.$.N.call(this),uR(this)};kc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Fp(){this.g=!0}Fp.prototype.Ea=function(){this.g=!1};function P5(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var h=u[0];u=u[1];var c=h.split("_");s=2<=c.length&&c[1]=="type"?s+(h+"="+u+"&"):s+(h+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function N5(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function Oa(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+D5(t,n)+(r?" "+r:"")})}function x5(t,e){t.info(function(){return"TIMEOUT: "+e})}Fp.prototype.info=function(){};function D5(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return x0(n)}catch{return e}}var Ys={},RT=null;function jp(){return RT=RT||new Kt}Ys.Ta="serverreachability";function cR(t){bn.call(this,Ys.Ta,t)}Gt(cR,bn);function Ic(t){const e=jp();sn(e,new cR(e))}Ys.STAT_EVENT="statevent";function hR(t,e){bn.call(this,Ys.STAT_EVENT,t),this.stat=e}Gt(hR,bn);function On(t){const e=jp();sn(e,new hR(e,t))}Ys.Ua="timingevent";function fR(t,e){bn.call(this,Ys.Ua,t),this.size=e}Gt(fR,bn);function ih(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Se.setTimeout(function(){t()},e)}var Up={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},dR={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function F0(){}F0.prototype.h=null;function OT(t){return t.h||(t.h=t.i())}function pR(){}var oh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function j0(){bn.call(this,"d")}Gt(j0,bn);function U0(){bn.call(this,"c")}Gt(U0,bn);var pv;function Vp(){}Gt(Vp,F0);Vp.prototype.g=function(){return new XMLHttpRequest};Vp.prototype.i=function(){return{}};pv=new Vp;function sh(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new kc(this),this.P=M5,t=uv?125:void 0,this.V=new Lp(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new mR}function mR(){this.i=null,this.g="",this.h=!1}var M5=45e3,gR={},mv={};ue=sh.prototype;ue.setTimeout=function(t){this.P=t};function gv(t,e,n){t.L=1,t.A=Bp(ji(e)),t.u=n,t.S=!0,yR(t,null)}function yR(t,e){t.G=Date.now(),ah(t),t.B=ji(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),kR(n.i,"t",r),t.o=0,n=t.l.J,t.h=new mR,t.g=zR(t.l,n?e:null,!t.u),0<t.O&&(t.M=new O5(Tn(t.Pa,t,t.g),t.O)),lR(t.U,t.g,"readystatechange",t.nb),e=t.I?JA(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Ic(),P5(t.j,t.v,t.B,t.m,t.W,t.u)}ue.nb=function(t){t=t.target;const e=this.M;e&&Qr(t)==3?e.l():this.Pa(t)};ue.Pa=function(t){try{if(t==this.g)e:{const h=Qr(this.g);var e=this.g.Ia();const c=this.g.da();if(!(3>h)&&(h!=3||uv||this.g&&(this.h.h||this.g.ja()||DT(this.g)))){this.J||h!=4||e==7||(e==8||0>=c?Ic(3):Ic(2)),$p(this);var n=this.g.da();this.ca=n;t:if(vR(this)){var r=DT(this.g);t="";var i=r.length,o=Qr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ls(this),Vu(this);var s="";break t}this.h.i=new Se.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,N5(this.j,this.v,this.B,this.m,this.W,h,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ec(a)){var u=a;break t}}u=null}if(n=u)Oa(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yv(this,n);else{this.i=!1,this.s=3,On(12),ls(this),Vu(this);break e}}this.S?(_R(this,h,s),uv&&this.i&&h==3&&(lR(this.U,this.V,"tick",this.mb),this.V.start())):(Oa(this.j,this.m,s,null),yv(this,s)),h==4&&ls(this),this.i&&!this.J&&(h==4?BR(this.l,this):(this.i=!1,ah(this)))}else n6(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,On(12)):(this.s=0,On(13)),ls(this),Vu(this)}}}catch{}finally{}};function vR(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function _R(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=L5(t,n),i==mv){e==4&&(t.s=4,On(14),r=!1),Oa(t.j,t.m,null,"[Incomplete Response]");break}else if(i==gR){t.s=4,On(15),Oa(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Oa(t.j,t.m,i,null),yv(t,i);vR(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,On(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),W0(e),e.M=!0,On(11))):(Oa(t.j,t.m,n,"[Invalid Chunked Response]"),ls(t),Vu(t))}ue.mb=function(){if(this.g){var t=Qr(this.g),e=this.g.ja();this.o<e.length&&($p(this),_R(this,t,e),this.i&&t!=4&&ah(this))}};function L5(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?mv:(n=Number(e.substring(n,r)),isNaN(n)?gR:(r+=1,r+n>e.length?mv:(e=e.slice(r,r+n),t.o=r+n,e)))}ue.cancel=function(){this.J=!0,ls(this)};function ah(t){t.Y=Date.now()+t.P,wR(t,t.P)}function wR(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=ih(Tn(t.lb,t),e)}function $p(t){t.C&&(Se.clearTimeout(t.C),t.C=null)}ue.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(x5(this.j,this.B),this.L!=2&&(Ic(),On(17)),ls(this),this.s=2,Vu(this)):wR(this,this.Y-t)};function Vu(t){t.l.H==0||t.J||BR(t.l,t)}function ls(t){$p(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,M0(t.V),uR(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function yv(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||vv(n.i,t))){if(!t.K&&vv(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)vd(n),zp(n);else break e;H0(n),On(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=ih(Tn(n.ib,n),6e3));if(1>=AR(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else us(n,11)}else if((t.K||n.g==t)&&vd(n),!Ec(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const h=u[3];h!=null&&(n.ra=h,n.l.info("VER="+n.ra));const c=u[4];c!=null&&(n.Ga=c,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=t.g;if(d){const g=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var o=r.i;o.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(V0(o,o.h),o.h=null))}if(r.F){const y=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,lt(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=WR(r,r.J?r.pa:null,r.Y),s.K){RR(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&($p(a),ah(a)),r.g=s}else VR(r);0<n.j.length&&Yp(n)}else u[0]!="stop"&&u[0]!="close"||us(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?us(n,7):q0(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Ic(4)}catch{}}function F5(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Np(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function j5(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Np(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function ER(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Np(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=j5(t),r=F5(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var TR=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function U5(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ys(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ys){this.h=t.h,gd(this,t.j),this.s=t.s,this.g=t.g,yd(this,t.m),this.l=t.l;var e=t.i,n=new Cc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),PT(this,n),this.o=t.o}else t&&(e=String(t).match(TR))?(this.h=!1,gd(this,e[1]||"",!0),this.s=Su(e[2]||""),this.g=Su(e[3]||"",!0),yd(this,e[4]),this.l=Su(e[5]||"",!0),PT(this,e[6]||"",!0),this.o=Su(e[7]||"")):(this.h=!1,this.i=new Cc(null,this.h))}ys.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ku(e,NT,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(ku(e,NT,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(ku(n,n.charAt(0)=="/"?B5:$5,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ku(n,H5)),t.join("")};function ji(t){return new ys(t)}function gd(t,e,n){t.j=n?Su(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function yd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function PT(t,e,n){e instanceof Cc?(t.i=e,W5(t.i,t.h)):(n||(e=ku(e,q5)),t.i=new Cc(e,t.h))}function lt(t,e,n){t.i.set(e,n)}function Bp(t){return lt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Su(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ku(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,V5),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function V5(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var NT=/[#\/\?@]/g,$5=/[#\?:]/g,B5=/[#\?]/g,q5=/[#\?@]/g,H5=/#/g;function Cc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function zo(t){t.g||(t.g=new Map,t.h=0,t.i&&U5(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ue=Cc.prototype;ue.add=function(t,e){zo(this),this.i=null,t=Ol(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function bR(t,e){zo(t),e=Ol(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function SR(t,e){return zo(t),e=Ol(t,e),t.g.has(e)}ue.forEach=function(t,e){zo(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};ue.ta=function(){zo(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};ue.Z=function(t){zo(this);let e=[];if(typeof t=="string")SR(this,t)&&(e=e.concat(this.g.get(Ol(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ue.set=function(t,e){return zo(this),this.i=null,t=Ol(this,t),SR(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ue.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function kR(t,e,n){bR(t,e),0<n.length&&(t.i=null,t.g.set(Ol(t,e),I0(n)),t.h+=n.length)}ue.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function Ol(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function W5(t,e){e&&!t.j&&(zo(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(bR(this,r),kR(this,i,n))},t)),t.j=e}var z5=class{constructor(t,e){this.g=t,this.map=e}};function IR(t){this.l=t||Y5,Se.PerformanceNavigationTiming?(t=Se.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Se.g&&Se.g.Ka&&Se.g.Ka()&&Se.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Y5=10;function CR(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function AR(t){return t.h?1:t.g?t.g.size:0}function vv(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function V0(t,e){t.g?t.g.add(e):t.h=e}function RR(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}IR.prototype.cancel=function(){if(this.i=OR(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function OR(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return I0(t.i)}var K5=class{stringify(t){return Se.JSON.stringify(t,void 0)}parse(t){return Se.JSON.parse(t,void 0)}};function G5(){this.g=new K5}function Q5(t,e,n){const r=n||"";try{ER(t,function(i,o){let s=i;nh(i)&&(s=x0(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function X5(t,e){const n=new Fp;if(Se.Image){const r=new Image;r.onload=Bh(Hh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Bh(Hh,n,r,"TestLoadImage: error",!1,e),r.onabort=Bh(Hh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Bh(Hh,n,r,"TestLoadImage: timeout",!1,e),Se.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Hh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function qp(t){this.l=t.ec||null,this.j=t.ob||!1}Gt(qp,F0);qp.prototype.g=function(){return new Hp(this.l,this.j)};qp.prototype.i=function(t){return function(){return t}}({});function Hp(t,e){Kt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=$0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Gt(Hp,Kt);var $0=0;ue=Hp.prototype;ue.open=function(t,e){if(this.readyState!=$0)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ac(this)};ue.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Se).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};ue.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,lh(this)),this.readyState=$0};ue.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ac(this)),this.g&&(this.readyState=3,Ac(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Se.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;PR(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function PR(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}ue.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?lh(this):Ac(this),this.readyState==3&&PR(this)}};ue.Za=function(t){this.g&&(this.response=this.responseText=t,lh(this))};ue.Ya=function(t){this.g&&(this.response=t,lh(this))};ue.ka=function(){this.g&&lh(this)};function lh(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ac(t)}ue.setRequestHeader=function(t,e){this.v.append(t,e)};ue.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ue.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ac(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Hp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var J5=Se.JSON.parse;function St(t){Kt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=NR,this.L=this.M=!1}Gt(St,Kt);var NR="",Z5=/^https?$/i,e6=["POST","PUT"];ue=St.prototype;ue.Oa=function(t){this.M=t};ue.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():pv.g(),this.C=this.u?OT(this.u):OT(pv),this.g.onreadystatechange=Tn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){xT(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=Se.FormData&&t instanceof Se.FormData,!(0<=KA(e6,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{MR(this),0<this.B&&((this.L=t6(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Tn(this.ua,this)):this.A=L0(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){xT(this,o)}};function t6(t){return ol&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ue.ua=function(){typeof k0<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,sn(this,"timeout"),this.abort(8))};function xT(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,xR(t),Wp(t)}function xR(t){t.F||(t.F=!0,sn(t,"complete"),sn(t,"error"))}ue.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,sn(this,"complete"),sn(this,"abort"),Wp(this))};ue.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Wp(this,!0)),St.$.N.call(this)};ue.La=function(){this.s||(this.G||this.v||this.l?DR(this):this.kb())};ue.kb=function(){DR(this)};function DR(t){if(t.h&&typeof k0<"u"&&(!t.C[1]||Qr(t)!=4||t.da()!=2)){if(t.v&&Qr(t)==4)L0(t.La,0,t);else if(sn(t,"readystatechange"),Qr(t)==4){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(TR)[1]||null;!i&&Se.self&&Se.self.location&&(i=Se.self.location.protocol.slice(0,-1)),r=!Z5.test(i?i.toLowerCase():"")}n=r}if(n)sn(t,"complete"),sn(t,"success");else{t.m=6;try{var o=2<Qr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",xR(t)}}finally{Wp(t)}}}}function Wp(t,e){if(t.g){MR(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||sn(t,"ready");try{n.onreadystatechange=r}catch{}}}function MR(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Se.clearTimeout(t.A),t.A=null)}ue.isActive=function(){return!!this.g};function Qr(t){return t.g?t.g.readyState:0}ue.da=function(){try{return 2<Qr(this)?this.g.status:-1}catch{return-1}};ue.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};ue.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),J5(e)}};function DT(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case NR:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function n6(t){const e={};t=(t.g&&2<=Qr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Ec(t[r]))continue;var n=C5(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}w5(e,function(r){return r.join(", ")})}ue.Ia=function(){return this.m};ue.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function LR(t){let e="";return A0(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function B0(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=LR(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):lt(t,e,n))}function nu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function FR(t){this.Ga=0,this.j=[],this.l=new Fp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=nu("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=nu("baseRetryDelayMs",5e3,t),this.hb=nu("retryDelaySeedMs",1e4,t),this.eb=nu("forwardChannelMaxRetries",2,t),this.xa=nu("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new IR(t&&t.concurrentRequestLimit),this.Ja=new G5,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}ue=FR.prototype;ue.ra=8;ue.H=1;function q0(t){if(jR(t),t.H==3){var e=t.W++,n=ji(t.I);if(lt(n,"SID",t.K),lt(n,"RID",e),lt(n,"TYPE","terminate"),uh(t,n),e=new sh(t,t.l,e),e.L=2,e.A=Bp(ji(n)),n=!1,Se.navigator&&Se.navigator.sendBeacon)try{n=Se.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Se.Image&&(new Image().src=e.A,n=!0),n||(e.g=zR(e.l,null),e.g.ha(e.A)),e.G=Date.now(),ah(e)}HR(t)}function zp(t){t.g&&(W0(t),t.g.cancel(),t.g=null)}function jR(t){zp(t),t.u&&(Se.clearTimeout(t.u),t.u=null),vd(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Se.clearTimeout(t.m),t.m=null)}function Yp(t){if(!CR(t.i)&&!t.m){t.m=!0;var e=t.Na;bc||sR(),Sc||(bc(),Sc=!0),D0.add(e,t),t.C=0}}function r6(t,e){return AR(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=ih(Tn(t.Na,t,e),qR(t,t.C)),t.C++,!0)}ue.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new sh(this,this.l,t);let o=this.s;if(this.U&&(o?(o=JA(o),ZA(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=UR(this,i,e),n=ji(this.I),lt(n,"RID",t),lt(n,"CVER",22),this.F&&lt(n,"X-HTTP-Session-Id",this.F),uh(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(LR(o)))+"&"+e:this.o&&B0(n,this.o,o)),V0(this.i,i),this.bb&&lt(n,"TYPE","init"),this.P?(lt(n,"$req",e),lt(n,"SID","null"),i.aa=!0,gv(i,n,null)):gv(i,n,e),this.H=2}}else this.H==3&&(t?MT(this,t):this.j.length==0||CR(this.i)||MT(this))};function MT(t,e){var n;e?n=e.m:n=t.W++;const r=ji(t.I);lt(r,"SID",t.K),lt(r,"RID",n),lt(r,"AID",t.V),uh(t,r),t.o&&t.s&&B0(r,t.o,t.s),n=new sh(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=UR(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),V0(t.i,n),gv(n,r,e)}function uh(t,e){t.na&&A0(t.na,function(n,r){lt(e,r,n)}),t.h&&ER({},function(n,r){lt(e,r,n)})}function UR(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Tn(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const h=i[l].map;if(u-=o,0>u)o=Math.max(0,i[l].g-100),a=!1;else try{Q5(h,s,"req"+u+"_")}catch{r&&r(h)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function VR(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;bc||sR(),Sc||(bc(),Sc=!0),D0.add(e,t),t.A=0}}function H0(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=ih(Tn(t.Ma,t),qR(t,t.A)),t.A++,!0)}ue.Ma=function(){if(this.u=null,$R(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ih(Tn(this.jb,this),t)}};ue.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,On(10),zp(this),$R(this))};function W0(t){t.B!=null&&(Se.clearTimeout(t.B),t.B=null)}function $R(t){t.g=new sh(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=ji(t.wa);lt(e,"RID","rpc"),lt(e,"SID",t.K),lt(e,"AID",t.V),lt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&lt(e,"TO",t.qa),lt(e,"TYPE","xmlhttp"),uh(t,e),t.o&&t.s&&B0(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Bp(ji(e)),n.u=null,n.S=!0,yR(n,t)}ue.ib=function(){this.v!=null&&(this.v=null,zp(this),H0(this),On(19))};function vd(t){t.v!=null&&(Se.clearTimeout(t.v),t.v=null)}function BR(t,e){var n=null;if(t.g==e){vd(t),W0(t),t.g=null;var r=2}else if(vv(t.i,e))n=e.F,RR(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=jp(),sn(r,new fR(r,n)),Yp(t)}else VR(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&r6(t,e)||r==2&&H0(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:us(t,5);break;case 4:us(t,10);break;case 3:us(t,6);break;default:us(t,2)}}}function qR(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function us(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Tn(t.pb,t);n||(n=new ys("//www.google.com/images/cleardot.gif"),Se.location&&Se.location.protocol=="http"||gd(n,"https"),Bp(n)),X5(n.toString(),r)}else On(2);t.H=0,t.h&&t.h.za(e),HR(t),jR(t)}ue.pb=function(t){t?(this.l.info("Successfully pinged google.com"),On(2)):(this.l.info("Failed to ping google.com"),On(1))};function HR(t){if(t.H=0,t.ma=[],t.h){const e=OR(t.i);(e.length!=0||t.j.length!=0)&&(kT(t.ma,e),kT(t.ma,t.j),t.i.i.length=0,I0(t.j),t.j.length=0),t.h.ya()}}function WR(t,e,n){var r=n instanceof ys?ji(n):new ys(n);if(r.g!="")e&&(r.g=e+"."+r.g),yd(r,r.m);else{var i=Se.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new ys(null);r&&gd(o,r),e&&(o.g=e),i&&yd(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&lt(r,n,e),lt(r,"VER",t.ra),uh(t,r),r}function zR(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new St(new qp({ob:n})):new St(t.va),e.Oa(t.J),e}ue.isActive=function(){return!!this.h&&this.h.isActive(this)};function YR(){}ue=YR.prototype;ue.Ba=function(){};ue.Aa=function(){};ue.za=function(){};ue.ya=function(){};ue.isActive=function(){return!0};ue.Va=function(){};function _d(){if(ol&&!(10<=Number(g5)))throw Error("Environmental error: no available transport.")}_d.prototype.g=function(t,e){return new or(t,e)};function or(t,e){Kt.call(this),this.g=new FR(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ec(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ec(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Pl(this)}Gt(or,Kt);or.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;On(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=WR(t,null,t.Y),Yp(t)};or.prototype.close=function(){q0(this.g)};or.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=x0(t),t=n);e.j.push(new z5(e.fb++,t)),e.H==3&&Yp(e)};or.prototype.N=function(){this.g.h=null,delete this.j,q0(this.g),delete this.g,or.$.N.call(this)};function KR(t){j0.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Gt(KR,j0);function GR(){U0.call(this),this.status=1}Gt(GR,U0);function Pl(t){this.g=t}Gt(Pl,YR);Pl.prototype.Ba=function(){sn(this.g,"a")};Pl.prototype.Aa=function(t){sn(this.g,new KR(t))};Pl.prototype.za=function(t){sn(this.g,new GR)};Pl.prototype.ya=function(){sn(this.g,"b")};function i6(){this.blockSize=-1}function jr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Gt(jr,i6);jr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function bg(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}jr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)bg(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){bg(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){bg(this,r),i=0;break}}this.h=i,this.i+=e};jr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ge(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var o6={};function z0(t){return-128<=t&&128>t?d5(t,function(e){return new Ge([e|0],0>e?-1:0)}):new Ge([t|0],0>t?-1:0)}function Xr(t){if(isNaN(t)||!isFinite(t))return qa;if(0>t)return tn(Xr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=_v;return new Ge(e,0)}function QR(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return tn(QR(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Xr(Math.pow(e,8)),r=qa,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=Xr(Math.pow(e,o)),r=r.R(o).add(Xr(s))):(r=r.R(n),r=r.add(Xr(s)))}return r}var _v=4294967296,qa=z0(0),wv=z0(1),LT=z0(16777216);ue=Ge.prototype;ue.ea=function(){if(fr(this))return-tn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:_v+r)*e,e*=_v}return t};ue.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Ci(this))return"0";if(fr(this))return"-"+tn(this).toString(t);for(var e=Xr(Math.pow(t,6)),n=this,r="";;){var i=Ed(n,e).g;n=wd(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Ci(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};ue.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Ci(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function fr(t){return t.h==-1}ue.X=function(t){return t=wd(this,t),fr(t)?-1:Ci(t)?0:1};function tn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ge(n,~t.h).add(wv)}ue.abs=function(){return fr(this)?tn(this):this};ue.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Ge(n,n[n.length-1]&-2147483648?-1:0)};function wd(t,e){return t.add(tn(e))}ue.R=function(t){if(Ci(this)||Ci(t))return qa;if(fr(this))return fr(t)?tn(this).R(tn(t)):tn(tn(this).R(t));if(fr(t))return tn(this.R(tn(t)));if(0>this.X(LT)&&0>t.X(LT))return Xr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=s*l,Wh(n,2*r+2*i),n[2*r+2*i+1]+=o*l,Wh(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Wh(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Wh(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ge(n,0)};function Wh(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ru(t,e){this.g=t,this.h=e}function Ed(t,e){if(Ci(e))throw Error("division by zero");if(Ci(t))return new ru(qa,qa);if(fr(t))return e=Ed(tn(t),e),new ru(tn(e.g),tn(e.h));if(fr(e))return e=Ed(t,tn(e)),new ru(tn(e.g),e.h);if(30<t.g.length){if(fr(t)||fr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=wv,r=e;0>=r.X(t);)n=FT(n),r=FT(r);var i=ua(n,1),o=ua(r,1);for(r=ua(r,2),n=ua(n,2);!Ci(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=ua(r,1),n=ua(n,1)}return e=wd(t,i.R(e)),new ru(i,e)}for(i=qa;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Xr(n),s=o.R(e);fr(s)||0<s.X(t);)n-=r,o=Xr(n),s=o.R(e);Ci(o)&&(o=wv),i=i.add(o),t=wd(t,s)}return new ru(i,t)}ue.gb=function(t){return Ed(this,t).h};ue.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ge(n,this.h&t.h)};ue.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ge(n,this.h|t.h)};ue.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ge(n,this.h^t.h)};function FT(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ge(n,t.h)}function ua(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Ge(i,t.h)}_d.prototype.createWebChannel=_d.prototype.g;or.prototype.send=or.prototype.u;or.prototype.open=or.prototype.m;or.prototype.close=or.prototype.close;Up.NO_ERROR=0;Up.TIMEOUT=8;Up.HTTP_ERROR=6;dR.COMPLETE="complete";pR.EventType=oh;oh.OPEN="a";oh.CLOSE="b";oh.ERROR="c";oh.MESSAGE="d";Kt.prototype.listen=Kt.prototype.O;St.prototype.listenOnce=St.prototype.P;St.prototype.getLastError=St.prototype.Sa;St.prototype.getLastErrorCode=St.prototype.Ia;St.prototype.getStatus=St.prototype.da;St.prototype.getResponseJson=St.prototype.Wa;St.prototype.getResponseText=St.prototype.ja;St.prototype.send=St.prototype.ha;St.prototype.setWithCredentials=St.prototype.Oa;jr.prototype.digest=jr.prototype.l;jr.prototype.reset=jr.prototype.reset;jr.prototype.update=jr.prototype.j;Ge.prototype.add=Ge.prototype.add;Ge.prototype.multiply=Ge.prototype.R;Ge.prototype.modulo=Ge.prototype.gb;Ge.prototype.compare=Ge.prototype.X;Ge.prototype.toNumber=Ge.prototype.ea;Ge.prototype.toString=Ge.prototype.toString;Ge.prototype.getBits=Ge.prototype.D;Ge.fromNumber=Xr;Ge.fromString=QR;var s6=function(){return new _d},a6=function(){return jp()},Sg=Up,l6=dR,u6=Ys,jT={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},zh=pR,c6=St,h6=jr,Ha=Ge;const UT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nl="10.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs=new kp("@firebase/firestore");function iu(){return Rs.logLevel}function ae(t,...e){if(Rs.logLevel<=Ne.DEBUG){const n=e.map(Y0);Rs.debug(`Firestore (${Nl}): ${t}`,...n)}}function hi(t,...e){if(Rs.logLevel<=Ne.ERROR){const n=e.map(Y0);Rs.error(`Firestore (${Nl}): ${t}`,...n)}}function sl(t,...e){if(Rs.logLevel<=Ne.WARN){const n=e.map(Y0);Rs.warn(`Firestore (${Nl}): ${t}`,...n)}}function Y0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(t="Unexpected state"){const e=`FIRESTORE (${Nl}) INTERNAL ASSERTION FAILED: `+t;throw hi(e),new Error(e)}function nt(t,e){t||Te()}function Ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends mi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class f6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(mn.UNAUTHENTICATED))}shutdown(){}}class d6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class p6{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new oi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new oi,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new oi)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(nt(typeof r.accessToken=="string"),new XR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string"),new mn(e)}}class m6{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class g6{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new m6(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(mn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class y6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class v6{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,ae("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(nt(typeof n.token=="string"),this.R=n.token,new y6(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=_6(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Be(t,e){return t<e?-1:t>e?1:0}function al(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ge(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ut.fromMillis(Date.now())}static fromDate(e){return Ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ut(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ke(e)}static min(){return new ke(new Ut(0,0))}static max(){return new ke(new Ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,n,r){n===void 0?n=0:n>e.length&&Te(),r===void 0?r=e.length-n:r>e.length-n&&Te(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Rc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Rc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class pt extends Rc{construct(e,n,r){return new pt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ge(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new pt(n)}static emptyPath(){return new pt([])}}const w6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends Rc{construct(e,n,r){return new rn(e,n,r)}static isValidIdentifier(e){return w6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new rn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ge(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ge(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ge(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ge(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(n)}static emptyPath(){return new rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(pt.fromString(e))}static fromName(e){return new ve(pt.fromString(e).popFirst(5))}static empty(){return new ve(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new pt(e.slice()))}}function E6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ke.fromTimestamp(r===1e9?new Ut(n+1,0):new Ut(n,r));return new No(i,ve.empty(),e)}function T6(t){return new No(t.readTime,t.key,-1)}class No{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new No(ke.min(),ve.empty(),-1)}static max(){return new No(ke.max(),ve.empty(),-1)}}function b6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(t.documentKey,e.documentKey),n!==0?n:Be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class k6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ch(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==S6)throw t;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):te.reject(n)}static resolve(e){return new te((n,r)=>{n(e)})}static reject(e){return new te((n,r)=>{r(e)})}static waitFor(e){return new te((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=te.resolve(!1);for(const r of e)n=n.next(i=>i?te.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new te((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(h=>{s[u]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new te((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new oi,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new $u(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=G0(r.target.error);this.V.reject(new $u(e,i))}}static open(e,n,r,i){try{return new K0(n,e.transaction(i,r))}catch(o){throw new $u(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(ae("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new C6(n)}}class cs{constructor(e,n,r){this.name=e,this.version=n,this.p=r,cs.S(xt())===12.2&&hi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ae("SimpleDb","Removing database:",e),is(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!hA())return!1;if(cs.C())return!0;const e=xt(),n=cs.S(e),r=0<n&&n<10,i=cs.v(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(ae("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const s=o.target.result;n(s)},i.onblocked=()=>{r(new $u(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const s=o.target.error;s.name==="VersionError"?r(new ge(re.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new ge(re.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new $u(e,s))},i.onupgradeneeded=o=>{ae("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const s=o.target.result;this.p.N(s,i.transaction,o.oldVersion,this.version).next(()=>{ae("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const o=n==="readonly";let s=0;for(;;){++s;try{this.db=await this.O(e);const a=K0.open(this.db,e,o?"readonly":"readwrite",r),l=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),te.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&s<3;if(ae("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class I6{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return is(this.k.delete())}}class $u extends ge{constructor(e,n){super(re.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function hh(t){return t.name==="IndexedDbTransactionError"}class C6{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(ae("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(ae("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),is(r)}add(e){return ae("SimpleDb","ADD",this.store.name,e,e),is(this.store.add(e))}get(e){return is(this.store.get(e)).next(n=>(n===void 0&&(n=null),ae("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return ae("SimpleDb","DELETE",this.store.name,e),is(this.store.delete(e))}count(){return ae("SimpleDb","COUNT",this.store.name),is(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new te((s,a)=>{o.onerror=l=>{a(l.target.error)},o.onsuccess=l=>{s(l.target.result)}})}{const o=this.cursor(r),s=[];return this.G(o,(a,l)=>{s.push(l)}).next(()=>s)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new te((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}H(e,n){ae("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(o,s,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new te((r,i)=>{n.onerror=o=>{const s=G0(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}G(e,n){const r=[];return new te((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const l=new I6(a),u=n(a.primaryKey,a.value,l);if(u instanceof te){const h=u.catch(c=>(l.done(),te.reject(c)));r.push(h)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>te.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function is(t){return new te((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=G0(r.target.error);n(i)}})}let VT=!1;function G0(t){const e=cs.S(xt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new ge("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return VT||(VT=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Q0._e=-1;function Kp(t){return t==null}function Td(t){return t===0&&1/t==-1/0}function A6(t){return typeof t=="number"&&Number.isInteger(t)&&!Td(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ks(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ZR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dt=class Ev{constructor(e,n){this.comparator=e,this.root=n||So.EMPTY}insert(e,n){return new Ev(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,So.BLACK,null,null))}remove(e){return new Ev(this.comparator,this.root.remove(e,this.comparator).copy(null,null,So.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yh(this.root,e,this.comparator,!0)}},Yh=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},So=class yi{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??yi.RED,this.left=i??yi.EMPTY,this.right=o??yi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new yi(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return yi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return yi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}};So.EMPTY=null,So.RED=!0,So.BLACK=!1;So.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,n,r,i,o){return this}insert(e,n,r){return new So(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.comparator=e,this.data=new Dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new BT(this.data.getIterator())}getIteratorFrom(e){return new BT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof an)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new an(this.comparator);return n.data=e,n}}class BT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new Jn([])}unionWith(e){let n=new an(rn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return al(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new eO("Invalid base64 string: "+o):o}}(e);return new kn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new kn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kn.EMPTY_BYTE_STRING=new kn("");const R6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xo(t){if(nt(!!t),typeof t=="string"){let e=0;const n=R6.exec(t);if(nt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ot(t.seconds),nanos:Ot(t.nanos)}}function Ot(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Os(t){return typeof t=="string"?kn.fromBase64String(t):kn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function J0(t){const e=t.mapValue.fields.__previous_value__;return X0(e)?J0(e):e}function Oc(t){const e=xo(t.mapValue.fields.__local_write_time__.timestampValue);return new Ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Pc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Pc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Pc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ps(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?X0(t)?4:P6(t)?9007199254740991:10:Te()}function fi(t,e){if(t===e)return!0;const n=Ps(t);if(n!==Ps(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Oc(t).isEqual(Oc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=xo(i.timestampValue),a=xo(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Os(i.bytesValue).isEqual(Os(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ot(i.geoPointValue.latitude)===Ot(o.geoPointValue.latitude)&&Ot(i.geoPointValue.longitude)===Ot(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ot(i.integerValue)===Ot(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Ot(i.doubleValue),a=Ot(o.doubleValue);return s===a?Td(s)===Td(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return al(t.arrayValue.values||[],e.arrayValue.values||[],fi);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if($T(s)!==$T(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!fi(s[l],a[l])))return!1;return!0}(t,e);default:return Te()}}function Nc(t,e){return(t.values||[]).find(n=>fi(n,e))!==void 0}function ll(t,e){if(t===e)return 0;const n=Ps(t),r=Ps(e);if(n!==r)return Be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Be(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Ot(o.integerValue||o.doubleValue),l=Ot(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return qT(t.timestampValue,e.timestampValue);case 4:return qT(Oc(t),Oc(e));case 5:return Be(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Os(o),l=Os(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=Be(a[u],l[u]);if(h!==0)return h}return Be(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Be(Ot(o.latitude),Ot(s.latitude));return a!==0?a:Be(Ot(o.longitude),Ot(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let u=0;u<a.length&&u<l.length;++u){const h=ll(a[u],l[u]);if(h)return h}return Be(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Kh.mapValue&&s===Kh.mapValue)return 0;if(o===Kh.mapValue)return 1;if(s===Kh.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let c=0;c<l.length&&c<h.length;++c){const f=Be(l[c],h[c]);if(f!==0)return f;const d=ll(a[l[c]],u[h[c]]);if(d!==0)return d}return Be(l.length,h.length)}(t.mapValue,e.mapValue);default:throw Te()}}function qT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Be(t,e);const n=xo(t),r=xo(e),i=Be(n.seconds,r.seconds);return i!==0?i:Be(n.nanos,r.nanos)}function ul(t){return Tv(t)}function Tv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=xo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Os(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ve.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Tv(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Tv(n.fields[s])}`;return i+"}"}(t.mapValue):Te()}function bv(t){return!!t&&"integerValue"in t}function Z0(t){return!!t&&"arrayValue"in t}function HT(t){return!!t&&"nullValue"in t}function WT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Sf(t){return!!t&&"mapValue"in t}function Bu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ks(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Bu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function P6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.value=e}static empty(){return new Vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Sf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bu(n)}setAll(e){let n=rn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Bu(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Sf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Sf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ks(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Vn(Bu(this.value))}}function tO(t){const e=[];return Ks(t.fields,(n,r)=>{const i=new rn([n]);if(Sf(r)){const o=tO(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new yn(e,0,ke.min(),ke.min(),ke.min(),Vn.empty(),0)}static newFoundDocument(e,n,r,i){return new yn(e,1,n,ke.min(),r,i,0)}static newNoDocument(e,n){return new yn(e,2,n,ke.min(),ke.min(),Vn.empty(),0)}static newUnknownDocument(e,n){return new yn(e,3,n,ke.min(),ke.min(),Vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,n){this.position=e,this.inclusive=n}}function zT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ve.comparator(ve.fromName(s.referenceValue),n.key):r=ll(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function YT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!fi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n="asc"){this.field=e,this.dir=n}}function N6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{}class Ft extends nO{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new D6(e,n,r):n==="array-contains"?new F6(e,r):n==="in"?new j6(e,r):n==="not-in"?new U6(e,r):n==="array-contains-any"?new V6(e,r):new Ft(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new M6(e,r):new L6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ll(n,this.value)):n!==null&&Ps(this.value)===Ps(n)&&this.matchesComparison(ll(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class di extends nO{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new di(e,n)}matches(e){return rO(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function rO(t){return t.op==="and"}function iO(t){return x6(t)&&rO(t)}function x6(t){for(const e of t.filters)if(e instanceof di)return!1;return!0}function Sv(t){if(t instanceof Ft)return t.field.canonicalString()+t.op.toString()+ul(t.value);if(iO(t))return t.filters.map(e=>Sv(e)).join(",");{const e=t.filters.map(n=>Sv(n)).join(",");return`${t.op}(${e})`}}function oO(t,e){return t instanceof Ft?function(r,i){return i instanceof Ft&&r.op===i.op&&r.field.isEqual(i.field)&&fi(r.value,i.value)}(t,e):t instanceof di?function(r,i){return i instanceof di&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&oO(s,i.filters[a]),!0):!1}(t,e):void Te()}function sO(t){return t instanceof Ft?function(n){return`${n.field.canonicalString()} ${n.op} ${ul(n.value)}`}(t):t instanceof di?function(n){return n.op.toString()+" {"+n.getFilters().map(sO).join(" ,")+"}"}(t):"Filter"}class D6 extends Ft{constructor(e,n,r){super(e,n,r),this.key=ve.fromName(r.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class M6 extends Ft{constructor(e,n){super(e,"in",n),this.keys=aO("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class L6 extends Ft{constructor(e,n){super(e,"not-in",n),this.keys=aO("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function aO(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ve.fromName(r.referenceValue))}class F6 extends Ft{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Z0(n)&&Nc(n.arrayValue,this.value)}}class j6 extends Ft{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Nc(this.value.arrayValue,n)}}class U6 extends Ft{constructor(e,n){super(e,"not-in",n)}matches(e){if(Nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Nc(this.value.arrayValue,n)}}class V6 extends Ft{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Z0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Nc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function KT(t,e=null,n=[],r=[],i=null,o=null,s=null){return new $6(t,e,n,r,i,o,s)}function e1(t){const e=Ce(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Sv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Kp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ul(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ul(r)).join(",")),e.ce=n}return e.ce}function t1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!N6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!oO(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!YT(t.startAt,e.startAt)&&YT(t.endAt,e.endAt)}function kv(t){return ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function B6(t,e,n,r,i,o,s,a){return new Gp(t,e,n,r,i,o,s,a)}function n1(t){return new Gp(t)}function GT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function q6(t){return t.collectionGroup!==null}function qu(t){const e=Ce(t);if(e.le===null){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new an(rn.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new Sd(o,r))}),n.has(rn.keyField().canonicalString())||e.le.push(new Sd(rn.keyField(),r))}return e.le}function si(t){const e=Ce(t);return e.he||(e.he=H6(e,qu(t))),e.he}function H6(t,e){if(t.limitType==="F")return KT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Sd(i.field,o)});const n=t.endAt?new bd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new bd(t.startAt.position,t.startAt.inclusive):null;return KT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Iv(t,e,n){return new Gp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Qp(t,e){return t1(si(t),si(e))&&t.limitType===e.limitType}function lO(t){return`${e1(si(t))}|lt:${t.limitType}`}function pa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>sO(i)).join(", ")}]`),Kp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ul(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ul(i)).join(",")),`Target(${r})`}(si(t))}; limitType=${t.limitType})`}function Xp(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ve.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of qu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=zT(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,qu(r),i)||r.endAt&&!function(s,a,l){const u=zT(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,qu(r),i))}(t,e)}function W6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function uO(t){return(e,n)=>{let r=!1;for(const i of qu(t)){const o=z6(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function z6(t,e,n){const r=t.field.isKeyField()?ve.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?ll(l,u):Te()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ks(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return ZR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6=new Dt(ve.comparator);function Ui(){return Y6}const cO=new Dt(ve.comparator);function Iu(...t){let e=cO;for(const n of t)e=e.insert(n.key,n);return e}function hO(t){let e=cO;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function hs(){return Hu()}function fO(){return Hu()}function Hu(){return new xl(t=>t.toString(),(t,e)=>t.isEqual(e))}const K6=new Dt(ve.comparator),G6=new an(ve.comparator);function xe(...t){let e=G6;for(const n of t)e=e.add(n);return e}const Q6=new an(Be);function X6(){return Q6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Td(e)?"-0":e}}function pO(t){return{integerValue:""+t}}function J6(t,e){return A6(e)?pO(e):dO(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(){this._=void 0}}function Z6(t,e,n){return t instanceof xc?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&X0(o)&&(o=J0(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Dc?gO(t,e):t instanceof Mc?yO(t,e):function(i,o){const s=mO(i,o),a=QT(s)+QT(i.Ie);return bv(s)&&bv(i.Ie)?pO(a):dO(i.serializer,a)}(t,e)}function eU(t,e,n){return t instanceof Dc?gO(t,e):t instanceof Mc?yO(t,e):n}function mO(t,e){return t instanceof kd?function(r){return bv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class xc extends Jp{}class Dc extends Jp{constructor(e){super(),this.elements=e}}function gO(t,e){const n=vO(e);for(const r of t.elements)n.some(i=>fi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Mc extends Jp{constructor(e){super(),this.elements=e}}function yO(t,e){let n=vO(e);for(const r of t.elements)n=n.filter(i=>!fi(i,r));return{arrayValue:{values:n}}}class kd extends Jp{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function QT(t){return Ot(t.integerValue||t.doubleValue)}function vO(t){return Z0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(e,n){this.field=e,this.transform=n}}function nU(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Dc&&i instanceof Dc||r instanceof Mc&&i instanceof Mc?al(r.elements,i.elements,fi):r instanceof kd&&i instanceof kd?fi(r.Ie,i.Ie):r instanceof xc&&i instanceof xc}(t.transform,e.transform)}class rU{constructor(e,n){this.version=e,this.transformResults=n}}class vr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vr}static exists(e){return new vr(void 0,e)}static updateTime(e){return new vr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Zp{}function _O(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new r1(t.key,vr.none()):new fh(t.key,t.data,vr.none());{const n=t.data,r=Vn.empty();let i=new an(rn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Yo(t.key,r,new Jn(i.toArray()),vr.none())}}function iU(t,e,n){t instanceof fh?function(i,o,s){const a=i.value.clone(),l=JT(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Yo?function(i,o,s){if(!kf(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=JT(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(wO(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Wu(t,e,n,r){return t instanceof fh?function(o,s,a,l){if(!kf(o.precondition,s))return a;const u=o.value.clone(),h=ZT(o.fieldTransforms,l,s);return u.setAll(h),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Yo?function(o,s,a,l){if(!kf(o.precondition,s))return a;const u=ZT(o.fieldTransforms,l,s),h=s.data;return h.setAll(wO(o)),h.setAll(u),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(o,s,a){return kf(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function oU(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=mO(r.transform,i||null);o!=null&&(n===null&&(n=Vn.empty()),n.set(r.field,o))}return n||null}function XT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&al(r,i,(o,s)=>nU(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class fh extends Zp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Yo extends Zp{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function wO(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function JT(t,e,n){const r=new Map;nt(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,eU(s,a,n[i]))}return r}function ZT(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,Z6(o,s,e))}return r}class r1 extends Zp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sU extends Zp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&iU(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Wu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Wu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=fO();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=_O(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ke.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),xe())}isEqual(e){return this.batchId===e.batchId&&al(this.mutations,e.mutations,(n,r)=>XT(n,r))&&al(this.baseMutations,e.baseMutations,(n,r)=>XT(n,r))}}class i1{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){nt(e.mutations.length===r.length);let i=function(){return K6}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new i1(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lU{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,Fe;function cU(t){switch(t){default:return Te();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0}}function EO(t){if(t===void 0)return hi("GRPC error has no .code"),re.UNKNOWN;switch(t){case Rt.OK:return re.OK;case Rt.CANCELLED:return re.CANCELLED;case Rt.UNKNOWN:return re.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return re.INTERNAL;case Rt.UNAVAILABLE:return re.UNAVAILABLE;case Rt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Rt.NOT_FOUND:return re.NOT_FOUND;case Rt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Rt.ABORTED:return re.ABORTED;case Rt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Rt.DATA_LOSS:return re.DATA_LOSS;default:return Te()}}(Fe=Rt||(Rt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fU=new Ha([4294967295,4294967295],0);function eb(t){const e=hU().encode(t),n=new h6;return n.update(e),new Uint8Array(n.digest())}function tb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ha([n,r],0),new Ha([i,o],0)]}class o1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Cu(`Invalid padding: ${n}`);if(r<0)throw new Cu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Cu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Cu(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Ha.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Ha.fromNumber(r)));return i.compare(fU)===1&&(i=new Ha([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=eb(e),[r,i]=tb(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new o1(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;const n=eb(e),[r,i]=tb(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Cu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,dh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new em(ke.min(),i,new Dt(Be),Ui(),xe())}}class dh{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new dh(r,n,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class TO{constructor(e,n){this.targetId=e,this.fe=n}}class bO{constructor(e,n,r=kn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class nb{constructor(){this.ge=0,this.pe=ib(),this.ye=kn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=xe(),n=xe(),r=xe();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Te()}}),new dh(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=ib()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,nt(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class dU{constructor(e){this.Le=e,this.ke=new Map,this.qe=Ui(),this.Qe=rb(),this.Ke=new Dt(Be)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:Te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const o=i.target;if(kv(o))if(r===0){const s=new ve(o.path);this.We(n,s,yn.newNoDocument(s,ke.min()))}else nt(r===1);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(e),l=a?this.et(a,e,s):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Os(r).toUint8Array()}catch(l){if(l instanceof eO)return sl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new o1(s,i,o)}catch(l){return sl(l instanceof Cu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&kv(a.target)){const l=new ve(a.target.path);this.qe.get(l)!==null||this.st(s,l)||this.We(s,l,yn.newNoDocument(l,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=xe();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new em(e,n,this.Ke,this.qe,r);return this.qe=Ui(),this.Qe=rb(),this.Ke=new Dt(Be),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new nb,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new an(Be),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||ae("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new nb),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function rb(){return new Dt(ve.comparator)}function ib(){return new Dt(ve.comparator)}const pU={asc:"ASCENDING",desc:"DESCENDING"},mU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gU={and:"AND",or:"OR"};class yU{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Cv(t,e){return t.useProto3Json||Kp(e)?e:{value:e}}function Id(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function vU(t,e){return Id(t,e.toTimestamp())}function ai(t){return nt(!!t),ke.fromTimestamp(function(n){const r=xo(n);return new Ut(r.seconds,r.nanos)}(t))}function s1(t,e){return Av(t,e).canonicalString()}function Av(t,e){const n=function(i){return new pt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function kO(t){const e=pt.fromString(t);return nt(OO(e)),e}function Rv(t,e){return s1(t.databaseId,e.path)}function kg(t,e){const n=kO(e);if(n.get(1)!==t.databaseId.projectId)throw new ge(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ge(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ve(CO(n))}function IO(t,e){return s1(t.databaseId,e)}function _U(t){const e=kO(t);return e.length===4?pt.emptyPath():CO(e)}function Ov(t){return new pt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function CO(t){return nt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function ob(t,e,n){return{name:Rv(t,e),fields:n.value.mapValue.fields}}function wU(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,h){return u.useProto3Json?(nt(h===void 0||typeof h=="string"),kn.fromBase64String(h||"")):(nt(h===void 0||h instanceof Uint8Array),kn.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const h=u.code===void 0?re.UNKNOWN:EO(u.code);return new ge(h,u.message||"")}(s);n=new bO(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=kg(t,r.document.name),o=ai(r.document.updateTime),s=r.document.createTime?ai(r.document.createTime):ke.min(),a=new Vn({mapValue:{fields:r.document.fields}}),l=yn.newFoundDocument(i,o,s,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new If(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=kg(t,r.document),o=r.readTime?ai(r.readTime):ke.min(),s=yn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new If([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=kg(t,r.document),o=r.removedTargetIds||[];n=new If([],o,i,null)}else{if(!("filter"in e))return Te();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new uU(i,o),a=r.targetId;n=new TO(a,s)}}return n}function EU(t,e){let n;if(e instanceof fh)n={update:ob(t,e.key,e.value)};else if(e instanceof r1)n={delete:Rv(t,e.key)};else if(e instanceof Yo)n={update:ob(t,e.key,e.data),updateMask:OU(e.fieldMask)};else{if(!(e instanceof sU))return Te();n={verify:Rv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof xc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Dc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Mc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof kd)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw Te()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:vU(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Te()}(t,e.precondition)),n}function TU(t,e){return t&&t.length>0?(nt(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?ai(i.updateTime):ai(o);return s.isEqual(ke.min())&&(s=ai(o)),new rU(s,i.transformResults||[])}(n,e))):[]}function bU(t,e){return{documents:[IO(t,e.path)]}}function SU(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=IO(t,i);const o=function(u){if(u.length!==0)return RO(di.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(h=>function(f){return{field:ma(f.field),direction:CU(f.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Cv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function kU(t){let e=_U(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){nt(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(c){const f=AO(c);return f instanceof di&&iO(f)?f.getFilters():[f]}(n.where));let s=[];n.orderBy&&(s=function(c){return c.map(f=>function(g){return new Sd(ga(g.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(c){let f;return f=typeof c=="object"?c.value:c,Kp(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(c){const f=!!c.before,d=c.values||[];return new bd(d,f)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const f=!c.before,d=c.values||[];return new bd(d,f)}(n.endAt)),B6(e,i,s,o,a,"F",l,u)}function IU(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function AO(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ga(n.unaryFilter.field);return Ft.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ga(n.unaryFilter.field);return Ft.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ga(n.unaryFilter.field);return Ft.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ga(n.unaryFilter.field);return Ft.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(t):t.fieldFilter!==void 0?function(n){return Ft.create(ga(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return di.create(n.compositeFilter.filters.map(r=>AO(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Te()}}(n.compositeFilter.op))}(t):Te()}function CU(t){return pU[t]}function AU(t){return mU[t]}function RU(t){return gU[t]}function ma(t){return{fieldPath:t.canonicalString()}}function ga(t){return rn.fromServerFormat(t.fieldPath)}function RO(t){return t instanceof Ft?function(n){if(n.op==="=="){if(WT(n.value))return{unaryFilter:{field:ma(n.field),op:"IS_NAN"}};if(HT(n.value))return{unaryFilter:{field:ma(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(WT(n.value))return{unaryFilter:{field:ma(n.field),op:"IS_NOT_NAN"}};if(HT(n.value))return{unaryFilter:{field:ma(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ma(n.field),op:AU(n.op),value:n.value}}}(t):t instanceof di?function(n){const r=n.getFilters().map(i=>RO(i));return r.length===1?r[0]:{compositeFilter:{op:RU(n.op),filters:r}}}(t):Te()}function OU(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function OO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n,r,i,o=ke.min(),s=ke.min(),a=kn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new co(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(e){this.ct=e}}function NU(t){const e=kU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Iv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(){this._n=new DU}addToCollectionParentIndex(e,n){return this._n.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(No.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(No.min())}updateCollectionGroup(e,n,r){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class DU{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new an(pt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new an(pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new cl(0)}static Bn(){return new cl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(){this.changes=new xl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?te.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Wu(r.mutation,i,Jn.empty(),Ut.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,xe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=xe()){const i=hs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Iu();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=hs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,xe()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Ui();const s=Hu(),a=function(){return Hu()}();return n.forEach((l,u)=>{const h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof Yo)?o=o.insert(u.key,u):h!==void 0?(s.set(u.key,h.mutation.getFieldMask()),Wu(h.mutation,u,h.mutation.getFieldMask(),Ut.now())):s.set(u.key,Jn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,h)=>s.set(u,h)),n.forEach((u,h)=>{var c;return a.set(u,new LU(h,(c=s.get(u))!==null&&c!==void 0?c:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Hu();let i=new Dt((s,a)=>s-a),o=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let h=r.get(l)||Jn.empty();h=a.applyToLocalView(u,h),r.set(l,h);const c=(i.get(a.batchId)||xe()).add(l);i=i.insert(a.batchId,c)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,c=fO();h.forEach(f=>{if(!o.has(f)){const d=_O(n.get(f),r.get(f));d!==null&&c.set(f,d),o=o.add(f)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,c))}return te.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return ve.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):q6(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):te.resolve(hs());let a=-1,l=o;return s.next(u=>te.forEach(u,(h,c)=>(a<c.largestBatchId&&(a=c.largestBatchId),o.get(h)?te.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{l=l.insert(h,f)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,xe())).next(h=>({batchId:a,changes:hO(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next(r=>{let i=Iu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Iu();return this.indexManager.getCollectionParents(e,o).next(a=>te.forEach(a,l=>{const u=function(c,f){return new Gp(f,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((c,f)=>{s=s.insert(c,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const h=u.getKey();s.get(h)===null&&(s=s.insert(h,yn.newInvalidDocument(h)))});let a=Iu();return s.forEach((l,u)=>{const h=o.get(l);h!==void 0&&Wu(h.mutation,u,Jn.empty(),Ut.now()),Xp(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return te.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ai(i.createTime)}}(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:NU(i.bundledQuery),readTime:ai(i.readTime)}}(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(){this.overlays=new Dt(ve.comparator),this.hr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const r=hs();return te.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),te.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),te.resolve()}getOverlaysForCollection(e,n,r){const i=hs(),o=n.length+1,s=new ve(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return te.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Dt((u,h)=>u-h);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=o.get(u.largestBatchId);h===null&&(h=hs(),o=o.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=hs(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return te.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new lU(n,r));let o=this.hr.get(n);o===void 0&&(o=xe(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(){this.Pr=new an(qt.Ir),this.Tr=new an(qt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new qt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new qt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new ve(new pt([])),r=new qt(n,e),i=new qt(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new ve(new pt([])),r=new qt(n,e),i=new qt(n,e+1);let o=xe();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new qt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class qt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return ve.comparator(e.key,n.key)||Be(e.pr,n.pr)}static Er(e,n){return Be(e.pr,n.pr)||ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new an(qt.Ir)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new aU(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.wr=this.wr.add(new qt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return te.resolve(s)}lookupMutationBatch(e,n){return te.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),o=i<0?0:i;return te.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new qt(n,0),i=new qt(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{const a=this.Sr(s.pr);o.push(a)}),te.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new an(Be);return n.forEach(i=>{const o=new qt(i,0),s=new qt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),te.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ve.isDocumentKey(o)||(o=o.child(""));const s=new qt(new ve(o),0);let a=new an(Be);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},s),te.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){nt(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return te.forEach(n.mutations,i=>{const o=new qt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new qt(n,0),i=this.wr.firstAfterOrEqual(r);return te.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(e){this.vr=e,this.docs=function(){return new Dt(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return te.resolve(r?r.document.mutableCopy():yn.newInvalidDocument(n))}getEntries(e,n){let r=Ui();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():yn.newInvalidDocument(i))}),te.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Ui();const s=n.path,a=new ve(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||b6(T6(h),r)<=0||(i.has(h.key)||Xp(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return te.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Te()}Fr(e,n){return te.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new BU(this)}getSize(e){return te.resolve(this.size)}}class BU extends MU{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),te.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(e){this.persistence=e,this.Mr=new xl(n=>e1(n),t1),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.Or=0,this.Nr=new a1,this.targetCount=0,this.Br=cl.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),te.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new cl(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.qn(n),te.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),te.waitFor(o).next(()=>i)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return te.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),te.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),te.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return te.resolve(r)}containsKey(e,n){return te.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(e,n){this.Lr={},this.overlays={},this.kr=new Q0(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new qU(this),this.indexManager=new xU,this.remoteDocumentCache=function(i){return new $U(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new PU(n),this.$r=new jU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new UU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new VU(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){ae("MemoryPersistence","Starting transaction:",e);const i=new WU(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return te.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class WU extends k6{constructor(e){super(),this.currentSequenceNumber=e}}class l1{constructor(e){this.persistence=e,this.zr=new a1,this.jr=null}static Hr(e){return new l1(e)}get Jr(){if(this.jr)return this.jr;throw Te()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),te.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),te.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.Jr,r=>{const i=ve.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,ke.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return te.or([()=>te.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=xe(),i=xe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new u1(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return T4()?8:cs.v(xt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new zU;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(iu()<=Ne.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",pa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),te.resolve()):(iu()<=Ne.DEBUG&&ae("QueryEngine","Query:",pa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(iu()<=Ne.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",pa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,si(n))):te.resolve())}ji(e,n){if(GT(n))return te.resolve(null);let r=si(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Iv(n,null,"F"),r=si(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=xe(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,s,l.readTime)?this.ji(e,Iv(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,i){return GT(n)||i.isEqual(ke.min())?te.resolve(null):this.zi.getDocuments(e,r).next(o=>{const s=this.Zi(n,o);return this.Xi(n,s,r,i)?te.resolve(null):(iu()<=Ne.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),pa(n)),this.es(e,s,n,E6(i,-1)).next(a=>a))})}Zi(e,n){let r=new an(uO(e));return n.forEach((i,o)=>{Xp(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return iu()<=Ne.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",pa(n)),this.zi.getDocumentsMatchingQuery(e,n,No.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Dt(Be),this.rs=new xl(o=>e1(o),t1),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FU(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function GU(t,e,n,r){return new KU(t,e,n,r)}async function PO(t,e){const n=Ce(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=xe();for(const u of i){s.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of o){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:s,addedBatchIds:a}))})})}function QU(t,e){const n=Ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){const c=u.batch,f=c.keys();let d=te.resolve();return f.forEach(g=>{d=d.next(()=>h.getEntry(l,g)).next(y=>{const w=u.docVersions.get(g);nt(w!==null),y.version.compareTo(w)<0&&(c.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),h.addEntry(y)))})}),d.next(()=>a.mutationQueue.removeMutationBatch(l,c))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=xe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function NO(t){const e=Ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function XU(t,e){const n=Ce(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((h,c)=>{const f=i.get(c);if(!f)return;a.push(n.Qr.removeMatchingKeys(o,h.removedDocuments,c).next(()=>n.Qr.addMatchingKeys(o,h.addedDocuments,c)));let d=f.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(c)!==null?d=d.withResumeToken(kn.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):h.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(h.resumeToken,r)),i=i.insert(c,d),function(y,w,m){return y.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(f,d,h)&&a.push(n.Qr.updateTargetData(o,d))});let l=Ui(),u=xe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(JU(o,s,e.documentUpdates).next(h=>{l=h.cs,u=h.ls})),!r.isEqual(ke.min())){const h=n.Qr.getLastRemoteSnapshotVersion(o).next(c=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return te.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.ns=i,o))}function JU(t,e,n){let r=xe(),i=xe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Ui();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ke.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):ae("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:s,ls:i}})}function ZU(t,e){const n=Ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function eV(t,e){const n=Ce(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,te.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new co(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function Pv(t,e,n){const r=Ce(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!hh(s))throw s;ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function sb(t,e,n){const r=Ce(t);let i=ke.min(),o=xe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,h){const c=Ce(l),f=c.rs.get(h);return f!==void 0?te.resolve(c.ns.get(f)):c.Qr.getTargetData(u,h)}(r,s,si(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:ke.min(),n?o:xe())).next(a=>(tV(r,W6(e),a),{documents:a,hs:o})))}function tV(t,e,n){let r=t.ss.get(e)||ke.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}class ab{constructor(){this.activeTargetIds=X6()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nV{constructor(){this.no=new ab,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new ab,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gh=null;function Ig(){return Gh===null?Gh=function(){return 268435456+Math.round(2147483648*Math.random())}():Gh++,"0x"+Gh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn="WebChannelConnection";class sV extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${o}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get wo(){return!1}So(n,r,i,o,s){const a=Ig(),l=this.bo(n,r.toUriEncodedString());ae("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,o,s),this.Co(n,l,u,i).then(h=>(ae("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw sl("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",i),h})}vo(n,r,i,o,s,a){return this.So(n,r,i,o,s)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Nl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}bo(n,r){const i=iV[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const o=Ig();return new Promise((s,a)=>{const l=new c6;l.setWithCredentials(!0),l.listenOnce(l6.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Sg.NO_ERROR:const h=l.getResponseJson();ae(pn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case Sg.TIMEOUT:ae(pn,`RPC '${e}' ${o} timed out`),a(new ge(re.DEADLINE_EXCEEDED,"Request time out"));break;case Sg.HTTP_ERROR:const c=l.getStatus();if(ae(pn,`RPC '${e}' ${o} failed with status:`,c,"response text:",l.getResponseText()),c>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const d=f==null?void 0:f.error;if(d&&d.status&&d.message){const g=function(w){const m=w.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(m)>=0?m:re.UNKNOWN}(d.status);a(new ge(g,d.message))}else a(new ge(re.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ge(re.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{ae(pn,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);ae(pn,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Fo(e,n,r){const i=Ig(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=s6(),a=a6(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=o.join("");ae(pn,`Creating RPC '${e}' stream ${i}: ${h}`,l);const c=s.createWebChannel(h,l);let f=!1,d=!1;const g=new oV({lo:w=>{d?ae(pn,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(f||(ae(pn,`Opening RPC '${e}' stream ${i} transport.`),c.open(),f=!0),ae(pn,`RPC '${e}' stream ${i} sending:`,w),c.send(w))},ho:()=>c.close()}),y=(w,m,p)=>{w.listen(m,_=>{try{p(_)}catch(v){setTimeout(()=>{throw v},0)}})};return y(c,zh.EventType.OPEN,()=>{d||ae(pn,`RPC '${e}' stream ${i} transport opened.`)}),y(c,zh.EventType.CLOSE,()=>{d||(d=!0,ae(pn,`RPC '${e}' stream ${i} transport closed`),g.Vo())}),y(c,zh.EventType.ERROR,w=>{d||(d=!0,sl(pn,`RPC '${e}' stream ${i} transport errored:`,w),g.Vo(new ge(re.UNAVAILABLE,"The operation could not be completed")))}),y(c,zh.EventType.MESSAGE,w=>{var m;if(!d){const p=w.data[0];nt(!!p);const _=p,v=_.error||((m=_[0])===null||m===void 0?void 0:m.error);if(v){ae(pn,`RPC '${e}' stream ${i} received error:`,v);const E=v.status;let I=function(O){const S=Rt[O];if(S!==void 0)return EO(S)}(E),T=v.message;I===void 0&&(I=re.INTERNAL,T="Unknown error status: "+E+" with message "+v.message),d=!0,g.Vo(new ge(I,T)),c.close()}else ae(pn,`RPC '${e}' stream ${i} received:`,p),g.mo(p)}}),y(a,u6.STAT_EVENT,w=>{w.stat===jT.PROXY?ae(pn,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===jT.NOPROXY&&ae(pn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.Ro()},0),g}}function Cg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(t){return new yU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=o,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&ae("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e,n,r,i,o,s,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new xO(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(hi(n.toString()),hi("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new ge(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aV extends DO{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=wU(this.serializer,e),r=function(o){if(!("targetChange"in o))return ke.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?ke.min():s.readTime?ai(s.readTime):ke.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=Ov(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=kv(l)?{documents:bU(o,l)}:{query:SU(o,l).ut},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=SO(o,s.resumeToken);const u=Cv(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(ke.min())>0){a.readTime=Id(o,s.snapshotVersion.toTimestamp());const u=Cv(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=IU(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=Ov(this.serializer),n.removeTarget=e,this.t_(n)}}class lV extends DO{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(nt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=TU(e.writeResults,e.commitTime),r=ai(e.commitTime);return this.listener.T_(r,n)}return nt(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=Ov(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>EU(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new ge(re.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,Av(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ge(re.UNKNOWN,o.toString())})}vo(e,n,r,i,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,Av(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ge(re.UNKNOWN,s.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class cV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(hi(n),this.g_=!1):ae("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(s=>{r.enqueueAndForget(async()=>{Gs(this)&&(ae("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Ce(l);u.v_.add(4),await ph(u),u.x_.set("Unknown"),u.v_.delete(4),await nm(u)}(this))})}),this.x_=new cV(r,i)}}async function nm(t){if(Gs(t))for(const e of t.F_)await e(!0)}async function ph(t){for(const e of t.F_)await e(!1)}function MO(t,e){const n=Ce(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),f1(n)?h1(n):Dl(n).Jo()&&c1(n,e))}function LO(t,e){const n=Ce(t),r=Dl(n);n.C_.delete(e),r.Jo()&&FO(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Gs(n)&&n.x_.set("Unknown"))}function c1(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Dl(t).c_(e)}function FO(t,e){t.O_.Oe(e),Dl(t).l_(e)}function h1(t){t.O_=new dU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Dl(t).start(),t.x_.p_()}function f1(t){return Gs(t)&&!Dl(t).Ho()&&t.C_.size>0}function Gs(t){return Ce(t).v_.size===0}function jO(t){t.O_=void 0}async function fV(t){t.C_.forEach((e,n)=>{c1(t,e)})}async function dV(t,e){jO(t),f1(t)?(t.x_.S_(e),h1(t)):t.x_.set("Unknown")}async function pV(t,e,n){if(t.x_.set("Online"),e instanceof bO&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Cd(t,r)}else if(e instanceof If?t.O_.$e(e):e instanceof TO?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(ke.min()))try{const r=await NO(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.O_.it(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=o.C_.get(u);h&&o.C_.set(u,h.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const h=o.C_.get(l);if(!h)return;o.C_.set(l,h.withResumeToken(kn.EMPTY_BYTE_STRING,h.snapshotVersion)),FO(o,l);const c=new co(h.target,l,u,h.sequenceNumber);c1(o,c)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ae("RemoteStore","Failed to raise snapshot:",r),await Cd(t,r)}}async function Cd(t,e,n){if(!hh(e))throw e;t.v_.add(1),await ph(t),t.x_.set("Offline"),n||(n=()=>NO(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ae("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await nm(t)})}function UO(t,e){return e().catch(n=>Cd(t,n,e))}async function rm(t){const e=Ce(t),n=Do(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;mV(e);)try{const i=await ZU(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,gV(e,i)}catch(i){await Cd(e,i)}VO(e)&&$O(e)}function mV(t){return Gs(t)&&t.D_.length<10}function gV(t,e){t.D_.push(e);const n=Do(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function VO(t){return Gs(t)&&!Do(t).Ho()&&t.D_.length>0}function $O(t){Do(t).start()}async function yV(t){Do(t).d_()}async function vV(t){const e=Do(t);for(const n of t.D_)e.I_(n.mutations)}async function _V(t,e,n){const r=t.D_.shift(),i=i1.from(r,e,n);await UO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await rm(t)}async function wV(t,e){e&&Do(t).P_&&await async function(r,i){if(function(s){return cU(s)&&s!==re.ABORTED}(i.code)){const o=r.D_.shift();Do(r).Zo(),await UO(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await rm(r)}}(t,e),VO(t)&&$O(t)}async function ub(t,e){const n=Ce(t);n.asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials");const r=Gs(n);n.v_.add(3),await ph(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await nm(n)}async function EV(t,e){const n=Ce(t);e?(n.v_.delete(2),await nm(n)):e||(n.v_.add(2),await ph(n),n.x_.set("Unknown"))}function Dl(t){return t.N_||(t.N_=function(n,r,i){const o=Ce(n);return o.R_(),new aV(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:fV.bind(null,t),To:dV.bind(null,t),u_:pV.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),f1(t)?h1(t):t.x_.set("Unknown")):(await t.N_.stop(),jO(t))})),t.N_}function Do(t){return t.B_||(t.B_=function(n,r,i){const o=Ce(n);return o.R_(),new lV(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:yV.bind(null,t),To:wV.bind(null,t),E_:vV.bind(null,t),T_:_V.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await rm(t)):(await t.B_.stop(),t.D_.length>0&&(ae("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new d1(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function p1(t,e){if(hi("AsyncQueue",`${e}: ${t}`),hh(t))return new ge(re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ve.comparator(n.key,r.key):(n,r)=>ve.comparator(n.key,r.key),this.keyedMap=Iu(),this.sortedSet=new Dt(this.comparator)}static emptySet(e){return new Wa(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Wa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Wa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(){this.L_=new Dt(ve.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):Te():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class hl{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new hl(e,n,Wa.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(){this.q_=void 0,this.Q_=[]}}class bV{constructor(){this.queries=new xl(e=>lO(e),Qp),this.onlineState="Unknown",this.K_=new Set}}async function BO(t,e){const n=Ce(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new TV),i)try{o.q_=await n.onListen(r)}catch(s){const a=p1(s,`Initialization of query '${pa(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.Q_.push(e),e.U_(n.onlineState),o.q_&&e.W_(o.q_)&&m1(n)}async function qO(t,e){const n=Ce(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.Q_.indexOf(e);s>=0&&(o.Q_.splice(s,1),i=o.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function SV(t,e){const n=Ce(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.Q_)a.W_(i)&&(r=!0);s.q_=i}}r&&m1(n)}function kV(t,e,n){const r=Ce(t),i=r.queries.get(e);if(i)for(const o of i.Q_)o.onError(n);r.queries.delete(e)}function m1(t){t.K_.forEach(e=>{e.next()})}class HO{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new hl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=hl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e){this.key=e}}class zO{constructor(e){this.key=e}}class IV{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=xe(),this.mutatedKeys=xe(),this.ua=uO(e),this.ca=new Wa(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new cb,i=n?n.ca:this.ca;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,c)=>{const f=i.get(h),d=Xp(this.query,c)?c:null,g=!!f&&this.mutatedKeys.has(f.key),y=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let w=!1;f&&d?f.data.isEqual(d.data)?g!==y&&(r.track({type:3,doc:d}),w=!0):this.Ia(f,d)||(r.track({type:2,doc:d}),w=!0,(l&&this.ua(d,l)>0||u&&this.ua(d,u)<0)&&(a=!0)):!f&&d?(r.track({type:0,doc:d}),w=!0):f&&!d&&(r.track({type:1,doc:f}),w=!0,(l||u)&&(a=!0)),w&&(d?(s=s.add(d),o=y?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{ca:s,Pa:r,Xi:a,mutatedKeys:o}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.k_();s.sort((h,c)=>function(d,g){const y=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return y(d)-y(g)}(h.type,c.type)||this.ua(h.doc,c.doc)),this.Ta(r),i=i!=null&&i;const a=n&&!i?this.Ea():[],l=this.aa.size===0&&this.current&&!i?1:0,u=l!==this._a;return this._a=l,s.length!==0||u?{snapshot:new hl(this.query,e.ca,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new cb,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=xe(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new zO(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new WO(r))}),n}Ra(e){this.oa=e.hs,this.aa=xe();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return hl.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class CV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class AV{constructor(e){this.key=e,this.ma=!1}}class RV{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.fa={},this.ga=new xl(a=>lO(a),Qp),this.pa=new Map,this.ya=new Set,this.wa=new Dt(ve.comparator),this.Sa=new Map,this.ba=new a1,this.Da={},this.Ca=new Map,this.va=cl.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function OV(t,e){const n=VV(t);let r,i;const o=n.ga.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Va();else{const s=await eV(n.localStore,si(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=await PV(n,e,r,a==="current",s.resumeToken),n.isPrimaryClient&&MO(n.remoteStore,s)}return i}async function PV(t,e,n,r,i){t.Ma=(c,f,d)=>async function(y,w,m,p){let _=w.view.ha(m);_.Xi&&(_=await sb(y.localStore,w.query,!1).then(({documents:T})=>w.view.ha(T,_)));const v=p&&p.targetChanges.get(w.targetId),E=p&&p.targetMismatches.get(w.targetId)!=null,I=w.view.applyChanges(_,y.isPrimaryClient,v,E);return fb(y,w.targetId,I.da),I.snapshot}(t,c,f,d);const o=await sb(t.localStore,e,!0),s=new IV(e,o.hs),a=s.ha(o.documents),l=dh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);fb(t,n,u.da);const h=new CV(e,n,s);return t.ga.set(e,h),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot}async function NV(t,e){const n=Ce(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(o=>!Qp(o,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Pv(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),LO(n.remoteStore,r.targetId),Nv(n,r.targetId)}).catch(ch)):(Nv(n,r.targetId),await Pv(n.localStore,r.targetId,!0))}async function xV(t,e,n){const r=$V(t);try{const i=await function(s,a){const l=Ce(s),u=Ut.now(),h=a.reduce((d,g)=>d.add(g.key),xe());let c,f;return l.persistence.runTransaction("Locally write mutations","readwrite",d=>{let g=Ui(),y=xe();return l.os.getEntries(d,h).next(w=>{g=w,g.forEach((m,p)=>{p.isValidDocument()||(y=y.add(m))})}).next(()=>l.localDocuments.getOverlayedDocuments(d,g)).next(w=>{c=w;const m=[];for(const p of a){const _=oU(p,c.get(p.key).overlayedDocument);_!=null&&m.push(new Yo(p.key,_,tO(_.value.mapValue),vr.exists(!0)))}return l.mutationQueue.addMutationBatch(d,u,m,a)}).next(w=>{f=w;const m=w.applyToLocalDocumentSet(c,y);return l.documentOverlayCache.saveOverlays(d,w.batchId,m)})}).then(()=>({batchId:f.batchId,changes:hO(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Da[s.currentUser.toKey()];u||(u=new Dt(Be)),u=u.insert(a,l),s.Da[s.currentUser.toKey()]=u}(r,i.batchId,n),await mh(r,i.changes),await rm(r.remoteStore)}catch(i){const o=p1(i,"Failed to persist write");n.reject(o)}}async function YO(t,e){const n=Ce(t);try{const r=await XU(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Sa.get(o);s&&(nt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.ma=!0:i.modifiedDocuments.size>0?nt(s.ma):i.removedDocuments.size>0&&(nt(s.ma),s.ma=!1))}),await mh(n,r,e)}catch(r){await ch(r)}}function hb(t,e,n){const r=Ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((o,s)=>{const a=s.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Ce(s);l.onlineState=a;let u=!1;l.queries.forEach((h,c)=>{for(const f of c.Q_)f.U_(a)&&(u=!0)}),u&&m1(l)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function DV(t,e,n){const r=Ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),o=i&&i.key;if(o){let s=new Dt(ve.comparator);s=s.insert(o,yn.newNoDocument(o,ke.min()));const a=xe().add(o),l=new em(ke.min(),new Map,new Dt(Be),s,a);await YO(r,l),r.wa=r.wa.remove(o),r.Sa.delete(e),g1(r)}else await Pv(r.localStore,e,!1).then(()=>Nv(r,e,n)).catch(ch)}async function MV(t,e){const n=Ce(t),r=e.batch.batchId;try{const i=await QU(n.localStore,e);GO(n,r,null),KO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await mh(n,i)}catch(i){await ch(i)}}async function LV(t,e,n){const r=Ce(t);try{const i=await function(s,a){const l=Ce(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(c=>(nt(c!==null),h=c.keys(),l.mutationQueue.removeMutationBatch(u,c))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);GO(r,e,n),KO(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await mh(r,i)}catch(i){await ch(i)}}function KO(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function GO(t,e,n){const r=Ce(t);let i=r.Da[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function Nv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||QO(t,r)})}function QO(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(LO(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),g1(t))}function fb(t,e,n){for(const r of n)r instanceof WO?(t.ba.addReference(r.key,e),FV(t,r)):r instanceof zO?(ae("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||QO(t,r.key)):Te()}function FV(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(ae("SyncEngine","New document in limbo: "+n),t.ya.add(r),g1(t))}function g1(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new ve(pt.fromString(e)),r=t.va.next();t.Sa.set(r,new AV(n)),t.wa=t.wa.insert(n,r),MO(t.remoteStore,new co(si(n1(n.path)),r,"TargetPurposeLimboResolution",Q0._e))}}async function mh(t,e,n){const r=Ce(t),i=[],o=[],s=[];r.ga.isEmpty()||(r.ga.forEach((a,l)=>{s.push(r.Ma(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const h=u1.Ki(l.targetId,u);o.push(h)}}))}),await Promise.all(s),r.fa.u_(i),await async function(l,u){const h=Ce(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>te.forEach(u,f=>te.forEach(f.qi,d=>h.persistence.referenceDelegate.addReference(c,f.targetId,d)).next(()=>te.forEach(f.Qi,d=>h.persistence.referenceDelegate.removeReference(c,f.targetId,d)))))}catch(c){if(!hh(c))throw c;ae("LocalStore","Failed to update sequence numbers: "+c)}for(const c of u){const f=c.targetId;if(!c.fromCache){const d=h.ns.get(f),g=d.snapshotVersion,y=d.withLastLimboFreeSnapshotVersion(g);h.ns=h.ns.insert(f,y)}}}(r.localStore,o))}async function jV(t,e){const n=Ce(t);if(!n.currentUser.isEqual(e)){ae("SyncEngine","User change. New user:",e.toKey());const r=await PO(n.localStore,e);n.currentUser=e,function(o,s){o.Ca.forEach(a=>{a.forEach(l=>{l.reject(new ge(re.CANCELLED,s))})}),o.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await mh(n,r.us)}}function UV(t,e){const n=Ce(t),r=n.Sa.get(e);if(r&&r.ma)return xe().add(r.key);{let i=xe();const o=n.pa.get(e);if(!o)return i;for(const s of o){const a=n.ga.get(s);i=i.unionWith(a.view.la)}return i}}function VV(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=YO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=DV.bind(null,e),e.fa.u_=SV.bind(null,e.eventManager),e.fa.xa=kV.bind(null,e.eventManager),e}function $V(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=MV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=LV.bind(null,e),e}class db{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=tm(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return GU(this.persistence,new YU,e.initialUser,this.serializer)}createPersistence(e){return new HU(l1.Hr,this.serializer)}createSharedClientState(e){return new nV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class BV{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>hb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=jV.bind(null,this.syncEngine),await EV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new bV}()}createDatastore(e){const n=tm(e.databaseInfo.databaseId),r=function(o){return new sV(o)}(e.databaseInfo);return function(o,s,a,l){return new uV(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new hV(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>hb(this.syncEngine,n,0),function(){return lb.D()?new lb:new rV}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,h){const c=new RV(i,o,s,a,l,u);return h&&(c.Fa=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=Ce(r);ae("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await ph(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):hi("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=mn.UNAUTHENTICATED,this.clientId=JR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{ae("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ae("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ge(re.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=p1(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ag(t,e){t.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await PO(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function pb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await WV(t);ae("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>ub(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>ub(e.remoteStore,i)),t._onlineComponents=e}function HV(t){return t.name==="FirebaseError"?t.code===re.FAILED_PRECONDITION||t.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function WV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ae("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ag(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!HV(n))throw n;sl("Error using user provided cache. Falling back to memory cache: "+n),await Ag(t,new db)}}else ae("FirestoreClient","Using default OfflineComponentProvider"),await Ag(t,new db);return t._offlineComponents}async function JO(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ae("FirestoreClient","Using user provided OnlineComponentProvider"),await pb(t,t._uninitializedComponentsProvider._online)):(ae("FirestoreClient","Using default OnlineComponentProvider"),await pb(t,new BV))),t._onlineComponents}function zV(t){return JO(t).then(e=>e.syncEngine)}async function ZO(t){const e=await JO(t),n=e.eventManager;return n.onListen=OV.bind(null,e.syncEngine),n.onUnlisten=NV.bind(null,e.syncEngine),n}function YV(t,e,n={}){const r=new oi;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const h=new XO({next:f=>{s.enqueueAndForget(()=>qO(o,c));const d=f.docs.has(a);!d&&f.fromCache?u.reject(new ge(re.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&f.fromCache&&l&&l.source==="server"?u.reject(new ge(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),c=new HO(n1(a.path),h,{includeMetadataChanges:!0,Z_:!0});return BO(o,c)}(await ZO(t),t.asyncQueue,e,n,r)),r.promise}function KV(t,e,n={}){const r=new oi;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const h=new XO({next:f=>{s.enqueueAndForget(()=>qO(o,c)),f.fromCache&&l.source==="server"?u.reject(new ge(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),c=new HO(a,h,{includeMetadataChanges:!0,Z_:!0});return BO(o,c)}(await ZO(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(t,e,n){if(!n)throw new ge(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function GV(t,e,n,r){if(e===!0&&r===!0)throw new ge(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function gb(t){if(!ve.isDocumentKey(t))throw new ge(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function yb(t){if(ve.isDocumentKey(t))throw new ge(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function y1(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Te()}function Ur(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ge(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=y1(t);throw new ge(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ge(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ge(re.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ge(re.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ge(re.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class im{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vb({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ge(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ge(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vb(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new f6;switch(r.type){case"firstParty":return new g6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ge(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=mb.get(n);r&&(ae("ComponentProvider","Removing Datastore"),mb.delete(n),r.terminate())}(this),Promise.resolve()}}function QV(t,e,n,r={}){var i;const o=(t=Ur(t,im))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&sl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=mn.MOCK_USER;else{a=lA(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ge(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new mn(u)}t._authCredentials=new d6(new XR(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new om(this.firestore,e,this._query)}}class zn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ko(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zn(this.firestore,e,this._key)}}class ko extends om{constructor(e,n,r){super(e,n,n1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zn(this.firestore,null,new ve(e))}withConverter(e){return new ko(this.firestore,e,this._path)}}function sr(t,e,...n){if(t=gt(t),tP("collection","path",e),t instanceof im){const r=pt.fromString(e,...n);return yb(r),new ko(t,null,r)}{if(!(t instanceof zn||t instanceof ko))throw new ge(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pt.fromString(e,...n));return yb(r),new ko(t.firestore,null,r)}}function pr(t,e,...n){if(t=gt(t),arguments.length===1&&(e=JR.newId()),tP("doc","path",e),t instanceof im){const r=pt.fromString(e,...n);return gb(r),new zn(t,null,new ve(r))}{if(!(t instanceof zn||t instanceof ko))throw new ge(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pt.fromString(e,...n));return gb(r),new zn(t.firestore,t instanceof ko?t.converter:null,new ve(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new xO(this,"async_queue_retry"),this._u=()=>{const n=Cg();n&&ae("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=Cg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=Cg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new oi;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!hh(e))throw e;ae("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw hi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const i=d1.createAndSchedule(this,e,n,r,o=>this.lu(o));return this.nu.push(i),i}au(){this.ru&&Te()}verifyOperationInProgress(){}async hu(){let e;do e=this.Xa,await e;while(e!==this.Xa)}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}class Qs extends im{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new XV}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||nP(this),this._firestoreClient.terminate()}}function JV(t,e){const n=typeof t=="object"?t:m0(),r=typeof t=="string"?t:e||"(default)",i=Ip(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=oA("firestore");o&&QV(i,...o)}return i}function v1(t){return t._firestoreClient||nP(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function nP(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,h){return new O6(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,eP(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new qV(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fl(kn.fromBase64String(e))}catch(n){throw new ge(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fl(kn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV=/^__.*__$/;class e9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Yo(e,this.data,this.fieldMask,n,this.fieldTransforms):new fh(e,this.data,n,this.fieldTransforms)}}class rP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Yo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function iP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class w1{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Eu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new w1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Ad(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(iP(this.du)&&ZV.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class t9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||tm(e)}Su(e,n,r,i=!1){return new w1({du:e,methodName:n,wu:r,path:rn.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function E1(t){const e=t._freezeSettings(),n=tm(t._databaseId);return new t9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function oP(t,e,n,r,i,o={}){const s=t.Su(o.merge||o.mergeFields?2:0,e,n,i);b1("Data must be an object, but it was:",s,r);const a=sP(r,s);let l,u;if(o.merge)l=new Jn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const c of o.mergeFields){const f=xv(e,c,n);if(!s.contains(f))throw new ge(re.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);lP(h,f)||h.push(f)}l=new Jn(h),u=s.fieldTransforms.filter(c=>l.covers(c.field))}else l=null,u=s.fieldTransforms;return new e9(new Vn(a),l,u)}class lm extends am{_toFieldTransform(e){if(e.du!==2)throw e.du===1?e.pu(`${this._methodName}() can only appear at the top level of your update data`):e.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lm}}class T1 extends am{_toFieldTransform(e){return new tU(e.path,new xc)}isEqual(e){return e instanceof T1}}function n9(t,e,n,r){const i=t.Su(1,e,n);b1("Data must be an object, but it was:",i,r);const o=[],s=Vn.empty();Ks(r,(l,u)=>{const h=S1(e,l,n);u=gt(u);const c=i.fu(h);if(u instanceof lm)o.push(h);else{const f=um(u,c);f!=null&&(o.push(h),s.set(h,f))}});const a=new Jn(o);return new rP(s,a,i.fieldTransforms)}function r9(t,e,n,r,i,o){const s=t.Su(1,e,n),a=[xv(e,r,n)],l=[i];if(o.length%2!=0)throw new ge(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<o.length;f+=2)a.push(xv(e,o[f])),l.push(o[f+1]);const u=[],h=Vn.empty();for(let f=a.length-1;f>=0;--f)if(!lP(u,a[f])){const d=a[f];let g=l[f];g=gt(g);const y=s.fu(d);if(g instanceof lm)u.push(d);else{const w=um(g,y);w!=null&&(u.push(d),h.set(d,w))}}const c=new Jn(u);return new rP(h,c,s.fieldTransforms)}function um(t,e){if(aP(t=gt(t)))return b1("Unsupported field value:",e,t),sP(t,e);if(t instanceof am)return function(r,i){if(!iP(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=um(a,i.gu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=gt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return J6(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ut.fromDate(r);return{timestampValue:Id(i.serializer,o)}}if(r instanceof Ut){const o=new Ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Id(i.serializer,o)}}if(r instanceof _1)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fl)return{bytesValue:SO(i.serializer,r._byteString)};if(r instanceof zn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.pu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:s1(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${y1(r)}`)}(t,e)}function sP(t,e){const n={};return ZR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ks(t,(r,i)=>{const o=um(i,e.Ru(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function aP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ut||t instanceof _1||t instanceof fl||t instanceof zn||t instanceof am)}function b1(t,e,n){if(!aP(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=y1(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function xv(t,e,n){if((e=gt(e))instanceof sm)return e._internalPath;if(typeof e=="string")return S1(t,e);throw Ad("Field path arguments must be of type string or ",t,!1,void 0,n)}const i9=new RegExp("[~\\*/\\[\\]]");function S1(t,e,n){if(e.search(i9)>=0)throw Ad(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new sm(...e.split("."))._internalPath}catch{throw Ad(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ad(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new ge(re.INVALID_ARGUMENT,a+t+l)}function lP(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new zn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new o9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(cP("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class o9 extends uP{data(){return super.data()}}function cP(t,e){return typeof e=="string"?S1(t,e):e instanceof sm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s9(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ge(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class a9{convertValue(e,n="none"){switch(Ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Os(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ks(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new _1(Ot(e.latitude),Ot(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=J0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Oc(e));default:return null}}convertTimestamp(e){const n=xo(e);return new Ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=pt.fromString(e);nt(OO(r));const i=new Pc(r.get(1),r.get(3)),o=new ve(r.popFirst(5));return i.isEqual(n)||hi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fP extends uP{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Cf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(cP("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Cf extends fP{data(e={}){return super.data(e)}}class l9{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Au(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Cf(this._firestore,this._userDataWriter,r.key,r,new Au(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Cf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Au(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Cf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Au(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,h=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:u9(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function u9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Af(t){t=Ur(t,zn);const e=Ur(t.firestore,Qs);return YV(v1(e),t._key).then(n=>h9(e,t,n))}class dP extends a9{constructor(e){super(),this.firestore=e}convertBytes(e){return new fl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zn(this.firestore,null,n)}}function Xs(t){t=Ur(t,om);const e=Ur(t.firestore,Qs),n=v1(e),r=new dP(e);return s9(t._query),KV(n,t._query).then(i=>new l9(e,r,t,i))}function c9(t,e,n){t=Ur(t,zn);const r=Ur(t.firestore,Qs),i=hP(t.converter,e,n);return cm(r,[oP(E1(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,vr.none())])}function pP(t,e,n,...r){t=Ur(t,zn);const i=Ur(t.firestore,Qs),o=E1(i);let s;return s=typeof(e=gt(e))=="string"||e instanceof sm?r9(o,"updateDoc",t._key,e,n,r):n9(o,"updateDoc",t._key,e),cm(i,[s.toMutation(t._key,vr.exists(!0))])}function Ns(t){return cm(Ur(t.firestore,Qs),[new r1(t._key,vr.none())])}function Ml(t,e){const n=Ur(t.firestore,Qs),r=pr(t),i=hP(t.converter,e);return cm(n,[oP(E1(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,vr.exists(!1))]).then(()=>r)}function cm(t,e){return function(r,i){const o=new oi;return r.asyncQueue.enqueueAndForget(async()=>xV(await zV(r),i,o)),o.promise}(v1(t),e)}function h9(t,e,n){const r=n.docs.get(e._key),i=new dP(t);return new fP(t,i,e._key,r,new Au(n.hasPendingWrites,n.fromCache),e.converter)}function mP(){return new T1("serverTimestamp")}(function(e,n=!0){(function(i){Nl=i})(qo),Po(new Li("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Qs(new p6(r.getProvider("auth-internal")),new v6(r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ge(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pc(u.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),yr(UT,"4.4.2",e),yr(UT,"4.4.2","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP="firebasestorage.googleapis.com",yP="storageBucket",f9=2*60*1e3,d9=10*60*1e3,p9=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et extends mi{constructor(e,n,r=0){super(Rg(e),`Firebase Storage: ${n} (${Rg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Et.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Rg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ht;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ht||(ht={}));function Rg(t){return"storage/"+t}function k1(){const t="An unknown error occurred, please check the error payload for server response.";return new Et(ht.UNKNOWN,t)}function m9(t){return new Et(ht.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function g9(t){return new Et(ht.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function y9(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Et(ht.UNAUTHENTICATED,t)}function v9(){return new Et(ht.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function _9(t){return new Et(ht.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function vP(){return new Et(ht.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function _P(){return new Et(ht.CANCELED,"User canceled the upload/download.")}function w9(t){return new Et(ht.INVALID_URL,"Invalid URL '"+t+"'.")}function E9(t){return new Et(ht.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function T9(){return new Et(ht.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+yP+"' property when initializing the app?")}function wP(){return new Et(ht.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function b9(){return new Et(ht.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function S9(){return new Et(ht.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function k9(t){return new Et(ht.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Dv(t){return new Et(ht.INVALID_ARGUMENT,t)}function EP(){return new Et(ht.APP_DELETED,"The Firebase app was deleted.")}function I9(t){return new Et(ht.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function zu(t,e){return new Et(ht.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ou(t){throw new Et(ht.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Zn.makeFromUrl(e,n)}catch{return new Zn(e,"")}if(r.path==="")return r;throw E9(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(v){v.path.charAt(v.path.length-1)==="/"&&(v.path_=v.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function u(v){v.path_=decodeURIComponent(v.path)}const h="v[A-Za-z0-9_]+",c=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",d=new RegExp(`^https?://${c}/${h}/b/${i}/o${f}`,"i"),g={bucket:1,path:3},y=n===gP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",m=new RegExp(`^https?://${y}/${i}/${w}`,"i"),_=[{regex:a,indices:l,postModify:o},{regex:d,indices:g,postModify:u},{regex:m,indices:{bucket:1,path:2},postModify:u}];for(let v=0;v<_.length;v++){const E=_[v],I=E.regex.exec(e);if(I){const T=I[E.indices.bucket];let b=I[E.indices.path];b||(b=""),r=new Zn(T,b),E.postModify(r);break}}if(r==null)throw w9(e);return r}}class C9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A9(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let u=!1;function h(...w){u||(u=!0,e.apply(null,w))}function c(w){i=setTimeout(()=>{i=null,t(d,l())},w)}function f(){o&&clearTimeout(o)}function d(w,...m){if(u){f();return}if(w){f(),h.call(null,w,...m);return}if(l()||s){f(),h.call(null,w,...m);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,c(_)}let g=!1;function y(w){g||(g=!0,f(),!u&&(i!==null?(w||(a=2),clearTimeout(i),c(0)):w||(a=1)))}return c(0),o=setTimeout(()=>{s=!0,y(!0)},n),y}function R9(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O9(t){return t!==void 0}function P9(t){return typeof t=="function"}function N9(t){return typeof t=="object"&&!Array.isArray(t)}function hm(t){return typeof t=="string"||t instanceof String}function _b(t){return I1()&&t instanceof Blob}function I1(){return typeof Blob<"u"}function wb(t,e,n,r){if(r<e)throw Dv(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Dv(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function TP(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vs;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(vs||(vs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(e,n,r,i,o,s,a,l,u,h,c,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=h,this.connectionFactory_=c,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((d,g)=>{this.resolve_=d,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Qh(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===vs.NO_ERROR,l=o.getStatus();if(!a||bP(l,this.additionalRetryCodes_)&&this.retry){const h=o.getErrorCode()===vs.ABORT;r(!1,new Qh(!1,null,h));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Qh(u,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());O9(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=k1();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?EP():_P();s(l)}else{const l=vP();s(l)}};this.canceled_?n(!1,new Qh(!1,null,!0)):this.backoffId_=A9(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&R9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Qh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function D9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function M9(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function L9(t,e){e&&(t["X-Firebase-GMPID"]=e)}function F9(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function j9(t,e,n,r,i,o,s=!0){const a=TP(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return L9(u,e),D9(u,n),M9(u,o),F9(u,r),new x9(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U9(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function V9(...t){const e=U9();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(I1())return new Blob(t);throw new Et(ht.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function $9(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B9(t){if(typeof atob>"u")throw k9("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Og{constructor(e,n){this.data=e,this.contentType=n||null}}function q9(t,e){switch(t){case Jr.RAW:return new Og(SP(e));case Jr.BASE64:case Jr.BASE64URL:return new Og(kP(t,e));case Jr.DATA_URL:return new Og(W9(e),z9(e))}throw k1()}function SP(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function H9(t){let e;try{e=decodeURIComponent(t)}catch{throw zu(Jr.DATA_URL,"Malformed data URL.")}return SP(e)}function kP(t,e){switch(t){case Jr.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw zu(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Jr.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw zu(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=B9(e)}catch(i){throw i.message.includes("polyfill")?i:zu(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class IP{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw zu(Jr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Y9(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function W9(t){const e=new IP(t);return e.base64?kP(Jr.BASE64,e.rest):H9(e.rest)}function z9(t){return new IP(t).contentType}function Y9(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,n){let r=0,i="";_b(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(_b(this.data_)){const r=this.data_,i=$9(r,e,n);return i===null?null:new Ei(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ei(r,!0)}}static getBlob(...e){if(I1()){const n=e.map(r=>r instanceof Ei?r.data_:r);return new Ei(V9.apply(null,n))}else{const n=e.map(s=>hm(s)?q9(Jr.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new Ei(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CP(t){let e;try{e=JSON.parse(t)}catch{return null}return N9(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function G9(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function AP(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q9(t,e){return e}class Cn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Q9}}let Xh=null;function X9(t){return!hm(t)||t.length<2?t:AP(t)}function C1(){if(Xh)return Xh;const t=[];t.push(new Cn("bucket")),t.push(new Cn("generation")),t.push(new Cn("metageneration")),t.push(new Cn("name","fullPath",!0));function e(o,s){return X9(s)}const n=new Cn("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new Cn("size");return i.xform=r,t.push(i),t.push(new Cn("timeCreated")),t.push(new Cn("updated")),t.push(new Cn("md5Hash",null,!0)),t.push(new Cn("cacheControl",null,!0)),t.push(new Cn("contentDisposition",null,!0)),t.push(new Cn("contentEncoding",null,!0)),t.push(new Cn("contentLanguage",null,!0)),t.push(new Cn("contentType",null,!0)),t.push(new Cn("metadata","customMetadata",!0)),Xh=t,Xh}function J9(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new Zn(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function Z9(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return J9(r,t),r}function RP(t,e,n){const r=CP(e);return r===null?null:Z9(t,r,n)}function e$(t,e,n,r){const i=CP(e);if(i===null||!hm(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(u=>{const h=t.bucket,c=t.fullPath,f="/b/"+s(h)+"/o/"+s(c),d=Ll(f,n,r),g=TP({alt:"media",token:u});return d+g})[0]}function OP(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class Js{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(t){if(!t)throw k1()}function A1(t,e){function n(r,i){const o=RP(t,i,e);return Oi(o!==null),o}return n}function t$(t,e){function n(r,i){const o=RP(t,i,e);return Oi(o!==null),e$(o,i,t.host,t._protocol)}return n}function gh(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=v9():i=y9():n.getStatus()===402?i=g9(t.bucket):n.getStatus()===403?i=_9(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function R1(t){const e=gh(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=m9(t.path)),o.serverResponse=i.serverResponse,o}return n}function n$(t,e,n){const r=e.fullServerUrl(),i=Ll(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new Js(i,o,A1(t,n),s);return a.errorHandler=R1(e),a}function r$(t,e,n){const r=e.fullServerUrl(),i=Ll(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new Js(i,o,t$(t,n),s);return a.errorHandler=R1(e),a}function i$(t,e){const n=e.fullServerUrl(),r=Ll(n,t.host,t._protocol),i="DELETE",o=t.maxOperationRetryTime;function s(l,u){}const a=new Js(r,i,s,o);return a.successCodes=[200,204],a.errorHandler=R1(e),a}function o$(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function PP(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=o$(null,e)),r}function NP(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let _="";for(let v=0;v<2;v++)_=_+Math.random().toString().slice(2);return _}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const u=PP(e,r,i),h=OP(u,n),c="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",d=Ei.getBlob(c,r,f);if(d===null)throw wP();const g={name:u.fullPath},y=Ll(o,t.host,t._protocol),w="POST",m=t.maxUploadRetryTime,p=new Js(y,w,A1(t,n),m);return p.urlParams=g,p.headers=s,p.body=d.uploadData(),p.errorHandler=gh(e),p}class Rd{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function O1(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Oi(!1)}return Oi(!!n&&(e||["active"]).indexOf(n)!==-1),n}function s$(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s=PP(e,r,i),a={name:s.fullPath},l=Ll(o,t.host,t._protocol),u="POST",h={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},c=OP(s,n),f=t.maxUploadRetryTime;function d(y){O1(y);let w;try{w=y.getResponseHeader("X-Goog-Upload-URL")}catch{Oi(!1)}return Oi(hm(w)),w}const g=new Js(l,u,d,f);return g.urlParams=a,g.headers=h,g.body=c,g.errorHandler=gh(e),g}function a$(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function o(u){const h=O1(u,["active","final"]);let c=null;try{c=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Oi(!1)}c||Oi(!1);const f=Number(c);return Oi(!isNaN(f)),new Rd(f,r.size(),h==="final")}const s="POST",a=t.maxUploadRetryTime,l=new Js(n,s,o,a);return l.headers=i,l.errorHandler=gh(e),l}const Eb=256*1024;function l$(t,e,n,r,i,o,s,a){const l=new Rd(0,0);if(s?(l.current=s.current,l.total=s.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw b9();const u=l.total-l.current;let h=u;i>0&&(h=Math.min(h,i));const c=l.current,f=c+h;let d="";h===0?d="finalize":u===h?d="upload, finalize":d="upload";const g={"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":`${l.current}`},y=r.slice(c,f);if(y===null)throw wP();function w(v,E){const I=O1(v,["active","final"]),T=l.current+h,b=r.size();let O;return I==="final"?O=A1(e,o)(v,E):O=null,new Rd(T,b,I==="final",O)}const m="POST",p=e.maxUploadRetryTime,_=new Js(n,m,w,p);return _.headers=g,_.body=y.uploadData(),_.progressCallback=a||null,_.errorHandler=gh(t),_}const jn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Pg(t){switch(t){case"running":case"pausing":case"canceling":return jn.RUNNING;case"paused":return jn.PAUSED;case"success":return jn.SUCCESS;case"canceled":return jn.CANCELED;case"error":return jn.ERROR;default:return jn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u${constructor(e,n,r){if(P9(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ca(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class c${constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=vs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=vs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=vs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw ou("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ou("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ou("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ou("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ou("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class h$ extends c${initXhr(){this.xhr_.responseType="text"}}function so(){return new h$}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f${constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=C1(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(ht.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(bP(i.status,[]))if(o)i=vP();else{this.sleepTime=Math.max(this.sleepTime*2,p9),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(ht.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,o)=>{this._resolve=i,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=s$(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,so,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=a$(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(i,so,n,r);this._request=o,o.getPromise().then(s=>{s=s,this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=Eb*this._chunkMultiplier,n=new Rd(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,o)=>{let s;try{s=l$(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(s,so,i,o,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){Eb*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=n$(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,so,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=NP(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,so,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=_P(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Pg(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const o=new u$(n||void 0,r||void 0,i||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Pg(this._state)){case jn.SUCCESS:ca(this._resolve.bind(null,this.snapshot))();break;case jn.CANCELED:case jn.ERROR:const n=this._reject;ca(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Pg(this._state)){case jn.RUNNING:case jn.PAUSED:e.next&&ca(e.next.bind(e,this.snapshot))();break;case jn.SUCCESS:e.complete&&ca(e.complete.bind(e))();break;case jn.CANCELED:case jn.ERROR:e.error&&ca(e.error.bind(e,this._error))();break;default:e.error&&ca(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,n){this._service=e,n instanceof Zn?this._location=n:this._location=Zn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new xs(e,n)}get root(){const e=new Zn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return AP(this._location.path)}get storage(){return this._service}get parent(){const e=K9(this._location.path);if(e===null)return null;const n=new Zn(this._location.bucket,e);return new xs(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw I9(e)}}function d$(t,e,n){t._throwIfRoot("uploadBytes");const r=NP(t.storage,t._location,C1(),new Ei(e,!0),n);return t.storage.makeRequestWithTokens(r,so).then(i=>({metadata:i,ref:t}))}function p$(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new f$(t,new Ei(e),n)}function m$(t){t._throwIfRoot("getDownloadURL");const e=r$(t.storage,t._location,C1());return t.storage.makeRequestWithTokens(e,so).then(n=>{if(n===null)throw S9();return n})}function g$(t){t._throwIfRoot("deleteObject");const e=i$(t.storage,t._location);return t.storage.makeRequestWithTokens(e,so)}function y$(t,e){const n=G9(t._location.path,e),r=new Zn(t._location.bucket,n);return new xs(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v$(t){return/^[A-Za-z]+:\/\//.test(t)}function _$(t,e){return new xs(t,e)}function xP(t,e){if(t instanceof P1){const n=t;if(n._bucket==null)throw T9();const r=new xs(n,n._bucket);return e!=null?xP(r,e):r}else return e!==void 0?y$(t,e):t}function w$(t,e){if(e&&v$(e)){if(t instanceof P1)return _$(t,e);throw Dv("To use ref(service, url), the first argument must be a Storage instance.")}else return xP(t,e)}function Tb(t,e){const n=e==null?void 0:e[yP];return n==null?null:Zn.makeFromBucketSpec(n,t)}function E$(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:lA(i,t.app.options.projectId))}class P1{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=gP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=f9,this._maxUploadRetryTime=d9,this._requests=new Set,i!=null?this._bucket=Zn.makeFromBucketSpec(i,this._host):this._bucket=Tb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Zn.makeFromBucketSpec(this._url,e):this._bucket=Tb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){wb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){wb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new xs(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new C9(EP());{const s=j9(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const bb="@firebase/storage",Sb="0.12.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP="storage";function T$(t,e,n){return t=gt(t),d$(t,e,n)}function N1(t,e,n){return t=gt(t),p$(t,e,n)}function fm(t){return t=gt(t),m$(t)}function MP(t){return t=gt(t),g$(t)}function dl(t,e){return t=gt(t),w$(t,e)}function b$(t=m0(),e){t=gt(t);const r=Ip(t,DP).getImmediate({identifier:e}),i=oA("storage");return i&&S$(r,...i),r}function S$(t,e,n,r={}){E$(t,e,n,r)}function k$(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new P1(n,r,i,e,qo)}function I$(){Po(new Li(DP,k$,"PUBLIC").setMultipleInstances(!0)),yr(bb,Sb,""),yr(bb,Sb,"esm2017")}I$();const C$={apiKey:"AIzaSyAA0N8phmD_LQcqu1XxqZX07mxGqj0dy_k",authDomain:"sman1banjarangkan-d25d1.firebaseapp.com",projectId:"sman1banjarangkan-d25d1",storageBucket:"sman1banjarangkan-d25d1.appspot.com",messagingSenderId:"73320561622",appId:"1:73320561622:web:6d7a601bcba1609e788277",measurementId:"G-7PBK45ZWXX"},x1=mA(C$),Od=n5(x1),ut=JV(x1),Ds=b$(x1),A$=()=>{const[t,e]=q.useState(""),[n,r]=q.useState(""),i=Tp(),o=async s=>{s.preventDefault();try{await V3(Od,t,n),console.log("Login successful"),i("/")}catch(a){console.error("Error during login:",a.message)}};return N.jsx("div",{children:N.jsx("div",{className:"Auth-form-container",children:N.jsx("form",{className:"Auth-form",children:N.jsxs("div",{className:"Auth-form-content",children:[N.jsx("h3",{className:"Auth-form-title",children:"Sign In"}),N.jsxs("div",{className:"form-group mt-3",children:[N.jsx("label",{children:"Email address"}),N.jsx("input",{type:"email",className:"form-control mt-1",placeholder:"Enter email",value:t,onChange:s=>e(s.target.value)})]}),N.jsxs("div",{className:"form-group mt-3",children:[N.jsx("label",{children:"Password"}),N.jsx("input",{type:"password",className:"form-control mt-1",placeholder:"Enter password",value:n,onChange:s=>r(s.target.value)})]}),N.jsx("div",{className:"d-grid gap-2 mt-3",children:N.jsx("button",{type:"submit",className:"btn btn-primary",onClick:o,children:"Submit"})})]})})})})};var LP={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},kb=G.createContext&&G.createContext(LP),R$=["attr","size","title"];function O$(t,e){if(t==null)return{};var n=P$(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function P$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Pd(){return Pd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pd.apply(this,arguments)}function Ib(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ib(Object(n),!0).forEach(function(r){N$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ib(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function N$(t,e,n){return e=x$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x$(t){var e=D$(t,"string");return typeof e=="symbol"?e:String(e)}function D$(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FP(t){return t&&t.map((e,n)=>G.createElement(e.tag,Nd({key:n},e.attr),FP(e.child)))}function Zs(t){return e=>G.createElement(M$,Pd({attr:Nd({},t.attr)},e),FP(t.child))}function M$(t){var e=n=>{var{attr:r,size:i,title:o}=t,s=O$(t,R$),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),G.createElement("svg",Pd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:l,style:Nd(Nd({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&G.createElement("title",null,o),t.children)};return kb!==void 0?G.createElement(kb.Consumer,null,n=>e(n)):e(LP)}function L$(t){return Zs({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function F$(t){return Zs({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function j$(t){return Zs({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M480 416v16c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V176c0-26.51 21.49-48 48-48h16v208c0 44.112 35.888 80 80 80h336zm96-80V80c0-26.51-21.49-48-48-48H144c-26.51 0-48 21.49-48 48v256c0 26.51 21.49 48 48 48h384c26.51 0 48-21.49 48-48zM256 128c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-96 144l55.515-55.515c4.686-4.686 12.284-4.686 16.971 0L272 256l135.515-135.515c4.686-4.686 12.284-4.686 16.971 0L512 208v112H160v-48z"},child:[]}]})(t)}function U$(t){return Zs({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H88c-13.255 0-24 10.745-24 24v8H24c-13.255 0-24 10.745-24 24v272c0 30.928 25.072 56 56 56h472c26.51 0 48-21.49 48-48V88c0-13.255-10.745-24-24-24zM56 400a8 8 0 0 1-8-8V144h16v248a8 8 0 0 1-8 8zm236-16H140c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm208 0H348c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm-208-96H140c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm208 0H348c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm0-96H140c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h360c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12z"},child:[]}]})(t)}function V$(t){return Zs({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M608 0H160a32 32 0 0 0-32 32v96h160V64h192v320h128a32 32 0 0 0 32-32V32a32 32 0 0 0-32-32zM232 103a9 9 0 0 1-9 9h-30a9 9 0 0 1-9-9V73a9 9 0 0 1 9-9h30a9 9 0 0 1 9 9zm352 208a9 9 0 0 1-9 9h-30a9 9 0 0 1-9-9v-30a9 9 0 0 1 9-9h30a9 9 0 0 1 9 9zm0-104a9 9 0 0 1-9 9h-30a9 9 0 0 1-9-9v-30a9 9 0 0 1 9-9h30a9 9 0 0 1 9 9zm0-104a9 9 0 0 1-9 9h-30a9 9 0 0 1-9-9V73a9 9 0 0 1 9-9h30a9 9 0 0 1 9 9zm-168 57H32a32 32 0 0 0-32 32v288a32 32 0 0 0 32 32h384a32 32 0 0 0 32-32V192a32 32 0 0 0-32-32zM96 224a32 32 0 1 1-32 32 32 32 0 0 1 32-32zm288 224H64v-32l64-64 32 32 128-128 96 96z"},child:[]}]})(t)}function $$(t){return Zs({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function B$(t){return Zs({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H448V24c0-13.3-10.7-24-24-24H152c-13.3 0-24 10.7-24 24v40H24C10.7 64 0 74.7 0 88v56c0 35.7 22.5 72.4 61.9 100.7 31.5 22.7 69.8 37.1 110 41.7C203.3 338.5 240 360 240 360v72h-48c-35.3 0-64 20.7-64 56v12c0 6.6 5.4 12 12 12h296c6.6 0 12-5.4 12-12v-12c0-35.3-28.7-56-64-56h-48v-72s36.7-21.5 68.1-73.6c40.3-4.6 78.6-19 110-41.7 39.3-28.3 61.9-65 61.9-100.7V88c0-13.3-10.7-24-24-24zM99.3 192.8C74.9 175.2 64 155.6 64 144v-16h64.2c1 32.6 5.8 61.2 12.8 86.2-15.1-5.2-29.2-12.4-41.7-21.4zM512 144c0 16.1-17.7 36.1-35.3 48.8-12.5 9-26.7 16.2-41.8 21.4 7-25 11.8-53.6 12.8-86.2H512v16z"},child:[]}]})(t)}const q$="/assets/logo-BotzUx3e.png";var jP={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",s=0;s<arguments.length;s++){var a=arguments[s];a&&(o=i(o,r(a)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var a in o)e.call(o,a)&&o[a]&&(s=i(s,a));return s}function i(o,s){return s?o?o+" "+s:o+s:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(jP);var H$=jP.exports;const Ve=Hc(H$),W$=["xxl","xl","lg","md","sm","xs"],z$="xs",D1=q.createContext({prefixes:{},breakpoints:W$,minBreakpoint:z$});function Nn(t,e){const{prefixes:n}=q.useContext(D1);return t||n[e]||e}function UP(){const{breakpoints:t}=q.useContext(D1);return t}function VP(){const{minBreakpoint:t}=q.useContext(D1);return t}var $P={exports:{}},Y$="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",K$=Y$,G$=K$;function BP(){}function qP(){}qP.resetWarningCache=BP;var Q$=function(){function t(r,i,o,s,a,l){if(l!==G$){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:qP,resetWarningCache:BP};return n.PropTypes=n,n};$P.exports=Q$();var X$=$P.exports;const za=Hc(X$),J$=["as","disabled"];function Z$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function eB(t){return!t||t.trim()==="#"}function HP({tagName:t,disabled:e,href:n,target:r,rel:i,role:o,onClick:s,tabIndex:a=0,type:l}){t||(n!=null||r!=null||i!=null?t="a":t="button");const u={tagName:t};if(t==="button")return[{type:l||"button",disabled:e},u];const h=f=>{if((e||t==="a"&&eB(n))&&f.preventDefault(),e){f.stopPropagation();return}s==null||s(f)},c=f=>{f.key===" "&&(f.preventDefault(),h(f))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:o??"button",disabled:void 0,tabIndex:e?void 0:a,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?i:void 0,onClick:h,onKeyDown:c},u]}const tB=q.forwardRef((t,e)=>{let{as:n,disabled:r}=t,i=Z$(t,J$);const[o,{tagName:s}]=HP(Object.assign({tagName:n,disabled:r},i));return N.jsx(s,Object.assign({},i,o,{ref:e}))});tB.displayName="Button";const WP=q.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:r,active:i=!1,disabled:o=!1,className:s,...a},l)=>{const u=Nn(e,"btn"),[h,{tagName:c}]=HP({tagName:t,disabled:o,...a}),f=c;return N.jsx(f,{...h,...a,ref:l,disabled:o,className:Ve(s,u,i&&"active",n&&`${u}-${n}`,r&&`${u}-${r}`,a.href&&o&&"disabled")})});WP.displayName="Button";const Zr=WP;function nB(t,e){return q.Children.toArray(t).some(n=>q.isValidElement(n)&&n.type===e)}function rB({as:t,bsPrefix:e,className:n,...r}){e=Nn(e,"col");const i=UP(),o=VP(),s=[],a=[];return i.forEach(l=>{const u=r[l];delete r[l];let h,c,f;typeof u=="object"&&u!=null?{span:h,offset:c,order:f}=u:h=u;const d=l!==o?`-${l}`:"";h&&s.push(h===!0?`${e}${d}`:`${e}${d}-${h}`),f!=null&&a.push(`order${d}-${f}`),c!=null&&a.push(`offset${d}-${c}`)}),[{...r,className:Ve(n,...s,...a)},{as:t,bsPrefix:e,spans:s}]}const zP=q.forwardRef((t,e)=>{const[{className:n,...r},{as:i="div",bsPrefix:o,spans:s}]=rB(t);return N.jsx(i,{...r,ref:e,className:Ve(n,!s.length&&o)})});zP.displayName="Col";const un=zP,YP=q.forwardRef(({bsPrefix:t,fluid:e=!1,as:n="div",className:r,...i},o)=>{const s=Nn(t,"container"),a=typeof e=="string"?`-${e}`:"-fluid";return N.jsx(n,{ref:o,...i,className:Ve(r,e?`${s}${a}`:s)})});YP.displayName="Container";const ea=YP,iB={type:za.string,tooltip:za.bool,as:za.elementType},M1=q.forwardRef(({as:t="div",className:e,type:n="valid",tooltip:r=!1,...i},o)=>N.jsx(t,{...i,ref:o,className:Ve(e,`${n}-${r?"tooltip":"feedback"}`)}));M1.displayName="Feedback";M1.propTypes=iB;const KP=M1,oB=q.createContext({}),Vi=oB,GP=q.forwardRef(({id:t,bsPrefix:e,className:n,type:r="checkbox",isValid:i=!1,isInvalid:o=!1,as:s="input",...a},l)=>{const{controlId:u}=q.useContext(Vi);return e=Nn(e,"form-check-input"),N.jsx(s,{...a,ref:l,type:r,id:t||u,className:Ve(n,e,i&&"is-valid",o&&"is-invalid")})});GP.displayName="FormCheckInput";const QP=GP,XP=q.forwardRef(({bsPrefix:t,className:e,htmlFor:n,...r},i)=>{const{controlId:o}=q.useContext(Vi);return t=Nn(t,"form-check-label"),N.jsx("label",{...r,ref:i,htmlFor:n||o,className:Ve(e,t)})});XP.displayName="FormCheckLabel";const Mv=XP,JP=q.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:n,inline:r=!1,reverse:i=!1,disabled:o=!1,isValid:s=!1,isInvalid:a=!1,feedbackTooltip:l=!1,feedback:u,feedbackType:h,className:c,style:f,title:d="",type:g="checkbox",label:y,children:w,as:m="input",...p},_)=>{e=Nn(e,"form-check"),n=Nn(n,"form-switch");const{controlId:v}=q.useContext(Vi),E=q.useMemo(()=>({controlId:t||v}),[v,t]),I=!w&&y!=null&&y!==!1||nB(w,Mv),T=N.jsx(QP,{...p,type:g==="switch"?"checkbox":g,ref:_,isValid:s,isInvalid:a,disabled:o,as:m});return N.jsx(Vi.Provider,{value:E,children:N.jsx("div",{style:f,className:Ve(c,I&&e,r&&`${e}-inline`,i&&`${e}-reverse`,g==="switch"&&n),children:w||N.jsxs(N.Fragment,{children:[T,I&&N.jsx(Mv,{title:d,children:y}),u&&N.jsx(KP,{type:h,tooltip:l,children:u})]})})})});JP.displayName="FormCheck";const xd=Object.assign(JP,{Input:QP,Label:Mv}),ZP=q.forwardRef(({bsPrefix:t,type:e,size:n,htmlSize:r,id:i,className:o,isValid:s=!1,isInvalid:a=!1,plaintext:l,readOnly:u,as:h="input",...c},f)=>{const{controlId:d}=q.useContext(Vi);return t=Nn(t,"form-control"),N.jsx(h,{...c,type:e,size:r,ref:f,readOnly:u,id:i||d,className:Ve(o,l?`${t}-plaintext`:t,n&&`${t}-${n}`,e==="color"&&`${t}-color`,s&&"is-valid",a&&"is-invalid")})});ZP.displayName="FormControl";const sB=Object.assign(ZP,{Feedback:KP}),eN=q.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=Nn(e,"form-floating"),N.jsx(n,{ref:i,className:Ve(t,e),...r})));eN.displayName="FormFloating";const aB=eN,tN=q.forwardRef(({controlId:t,as:e="div",...n},r)=>{const i=q.useMemo(()=>({controlId:t}),[t]);return N.jsx(Vi.Provider,{value:i,children:N.jsx(e,{...n,ref:r})})});tN.displayName="FormGroup";const nN=tN,rN=q.forwardRef(({as:t="label",bsPrefix:e,column:n=!1,visuallyHidden:r=!1,className:i,htmlFor:o,...s},a)=>{const{controlId:l}=q.useContext(Vi);e=Nn(e,"form-label");let u="col-form-label";typeof n=="string"&&(u=`${u} ${u}-${n}`);const h=Ve(i,e,r&&"visually-hidden",n&&u);return o=o||l,n?N.jsx(un,{ref:a,as:"label",className:h,htmlFor:o,...s}):N.jsx(t,{ref:a,className:h,htmlFor:o,...s})});rN.displayName="FormLabel";const lB=rN,iN=q.forwardRef(({bsPrefix:t,className:e,id:n,...r},i)=>{const{controlId:o}=q.useContext(Vi);return t=Nn(t,"form-range"),N.jsx("input",{...r,type:"range",ref:i,className:Ve(e,t),id:n||o})});iN.displayName="FormRange";const uB=iN,oN=q.forwardRef(({bsPrefix:t,size:e,htmlSize:n,className:r,isValid:i=!1,isInvalid:o=!1,id:s,...a},l)=>{const{controlId:u}=q.useContext(Vi);return t=Nn(t,"form-select"),N.jsx("select",{...a,size:n,ref:l,className:Ve(r,t,e&&`${t}-${e}`,i&&"is-valid",o&&"is-invalid"),id:s||u})});oN.displayName="FormSelect";const cB=oN,sN=q.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:r,...i},o)=>(t=Nn(t,"form-text"),N.jsx(n,{...i,ref:o,className:Ve(e,t,r&&"text-muted")})));sN.displayName="FormText";const hB=sN,aN=q.forwardRef((t,e)=>N.jsx(xd,{...t,ref:e,type:"switch"}));aN.displayName="Switch";const fB=Object.assign(aN,{Input:xd.Input,Label:xd.Label}),lN=q.forwardRef(({bsPrefix:t,className:e,children:n,controlId:r,label:i,...o},s)=>(t=Nn(t,"form-floating"),N.jsxs(nN,{ref:s,className:Ve(e,t),controlId:r,...o,children:[n,N.jsx("label",{htmlFor:r,children:i})]})));lN.displayName="FloatingLabel";const dB=lN,pB={_ref:za.any,validated:za.bool,as:za.elementType},L1=q.forwardRef(({className:t,validated:e,as:n="form",...r},i)=>N.jsx(n,{...r,ref:i,className:Ve(t,e&&"was-validated")}));L1.displayName="Form";L1.propTypes=pB;const ze=Object.assign(L1,{Group:nN,Control:sB,Floating:aB,Check:xd,Switch:fB,Label:lB,Text:hB,Range:uB,Select:cB,FloatingLabel:dB}),uN=q.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},i)=>{const o=Nn(t,"row"),s=UP(),a=VP(),l=`${o}-cols`,u=[];return s.forEach(h=>{const c=r[h];delete r[h];let f;c!=null&&typeof c=="object"?{cols:f}=c:f=c;const d=h!==a?`-${h}`:"";f!=null&&u.push(`${l}${d}-${f}`)}),N.jsx(n,{ref:i,...r,className:Ve(e,o,...u)})});uN.displayName="Row";const $i=uN,ta=()=>{const t=Tp(),[e,n]=q.useState(null);q.useEffect(()=>{const i=q3(Od,o=>{n(o)});return()=>i()},[]);const r=async()=>{try{await H3(Od),console.log("User signed out successfully"),t("/login")}catch(i){console.error("Error signing out:",i)}};return N.jsx(N.Fragment,{children:N.jsxs("div",{children:[N.jsx($i,{className:"sidebar p-2",children:N.jsx(un,{children:N.jsx("img",{src:q$,alt:"Logo"})})}),N.jsx($i,{className:"sidebar p-2",children:N.jsx(un,{children:N.jsx("span",{className:"brand-name fs-4 mt-2",children:"SMA Negeri 1 Banjarangkan"})})}),N.jsx("hr",{className:"text-dark"}),N.jsxs("div",{className:"list-group lish-group-flush",children:[N.jsxs(Ji,{className:"list-group-item py-2 mt-2",to:"/",children:[N.jsx(F$,{className:"fs-5 me-2"}),N.jsx("span",{className:"fs-5",children:"Home"})]}),N.jsxs(Ji,{className:"list-group-item py-2 mt-2",to:"/agenda",children:[N.jsx(L$,{className:"fs-5 me-2"}),N.jsx("span",{className:"fs-5",children:"Agenda"})]}),N.jsxs(Ji,{className:"list-group-item py-2 mt-2",to:"/posts",children:[N.jsx(U$,{className:"fs-5 me-2"}),N.jsx("span",{className:"fs-5",children:"Postingan Terbit"})]}),N.jsxs(Ji,{className:"list-group-item py-2 mt-2",to:"/galeri",children:[N.jsx(j$,{className:"fs-5 me-2"}),N.jsx("span",{className:"fs-5",children:"Galeri"})]}),N.jsxs(Ji,{className:"list-group-item py-2 mt-2",to:"/prestasi",children:[N.jsx(B$,{className:"fs-5 me-2"}),N.jsx("span",{className:"fs-5",children:"Prestasi"})]}),N.jsxs(Ji,{className:"list-group-item py-2 mt-2",to:"/carousel",children:[N.jsx(V$,{className:"fs-5 me-2"}),N.jsx("span",{className:"fs-5",children:"Foto Carousel"})]}),N.jsx("h2",{children:"Admin Saat Ini"}),e&&e.email&&N.jsx("p",{className:"mt-2 fs-5",children:e.email}),N.jsx("button",{className:"mt-5",onClick:r,children:"Logout"})]})]})})};var Cb={};const Ab="@firebase/database",Rb="1.0.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cN="";function mB(t){cN=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gB{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),nn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:gc(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Hi(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new gB(e)}}catch{}return new yB},fs=hN("localStorage"),Lv=hN("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya=new kp("@firebase/database"),vB=function(){let t=1;return function(){return t++}}(),fN=function(t){const e=D4(t),n=new R4;n.update(e);const r=n.digest();return h0.encodeByteArray(r)},yh=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=yh.apply(null,r):typeof r=="object"?e+=nn(r):e+=r,e+=" "}return e};let _s=null,Ob=!0;const _B=function(t,e){le(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Ya.logLevel=Ne.VERBOSE,_s=Ya.log.bind(Ya),e&&Lv.set("logging_enabled",!0)):typeof t=="function"?_s=t:(_s=null,Lv.remove("logging_enabled"))},vn=function(...t){if(Ob===!0&&(Ob=!1,_s===null&&Lv.get("logging_enabled")===!0&&_B(!0)),_s){const e=yh.apply(null,t);_s(e)}},vh=function(t){return function(...e){vn(t,...e)}},Fv=function(...t){const e="FIREBASE INTERNAL ERROR: "+yh(...t);Ya.error(e)},Ms=function(...t){const e=`FIREBASE FATAL ERROR: ${yh(...t)}`;throw Ya.error(e),new Error(e)},nr=function(...t){const e="FIREBASE WARNING: "+yh(...t);Ya.warn(e)},wB=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&nr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},dN=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},EB=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},pl="[MIN_NAME]",Ls="[MAX_NAME]",Fl=function(t,e){if(t===e)return 0;if(t===pl||e===Ls)return-1;if(e===pl||t===Ls)return 1;{const n=Pb(t),r=Pb(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},TB=function(t,e){return t===e?0:t<e?-1:1},su=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+nn(e))},F1=function(t){if(typeof t!="object"||t===null)return nn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=nn(e[r]),n+=":",n+=F1(t[e[r]]);return n+="}",n},pN=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Er(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const mN=function(t){le(!dN(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,o,s,a,l;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);for(l=e;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);u.push(i?1:0),u.reverse();const h=u.join("");let c="";for(l=0;l<64;l+=8){let f=parseInt(h.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),c=c+f}return c.toLowerCase()},bB=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},SB=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},kB=new RegExp("^-?(0*)\\d{1,10}$"),IB=-2147483648,CB=2147483647,Pb=function(t){if(kB.test(t)){const e=Number(t);if(e>=IB&&e<=CB)return e}return null},_h=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw nr("Exception was thrown by user callback.",n),e},Math.floor(0))}},AB=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Yu=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RB{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){nr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(vn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',nr(e)}}class jv{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}jv.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="5",gN="v",yN="s",vN="r",_N="f",wN=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,EN="ls",TN="p",Uv="ac",bN="websocket",SN="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(e,n,r,i,o=!1,s="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=fs.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&fs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function NB(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function kN(t,e,n){le(typeof e=="string","typeof type must == string"),le(typeof n=="object","typeof params must == object");let r;if(e===bN)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===SN)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);NB(t)&&(n.ns=t.namespace);const i=[];return Er(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(){this.counters_={}}incrementCounter(e,n=1){Hi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return d4(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng={},xg={};function U1(t){const e=t.toString();return Ng[e]||(Ng[e]=new xB),Ng[e]}function DB(t,e){const n=t.toString();return xg[n]||(xg[n]=e()),xg[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&_h(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="start",LB="close",FB="pLPCommand",jB="pRTLPCB",IN="id",CN="pw",AN="ser",UB="cb",VB="seg",$B="ts",BB="d",qB="dframe",RN=1870,ON=30,HB=RN-ON,WB=25e3,zB=3e4;class Pa{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=vh(e),this.stats_=U1(n),this.urlFn=l=>(this.appCheckToken&&(l[Uv]=this.appCheckToken),kN(n,SN,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new MB(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(zB)),EB(()=>{if(this.isClosed_)return;this.scriptTagHolder=new V1((...o)=>{const[s,a,l,u,h]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===Nb)this.id=a,this.password=l;else if(s===LB)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[Nb]="t",r[AN]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[UB]=this.scriptTagHolder.uniqueCallbackIdentifier),r[gN]=j1,this.transportSessionId&&(r[yN]=this.transportSessionId),this.lastSessionId&&(r[EN]=this.lastSessionId),this.applicationId&&(r[TN]=this.applicationId),this.appCheckToken&&(r[Uv]=this.appCheckToken),typeof location<"u"&&location.hostname&&wN.test(location.hostname)&&(r[vN]=_N);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Pa.forceAllow_=!0}static forceDisallow(){Pa.forceDisallow_=!0}static isAvailable(){return Pa.forceAllow_?!0:!Pa.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!bB()&&!SB()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=nn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=nA(n),i=pN(r,HB);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[qB]="t",r[IN]=e,r[CN]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=nn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class V1{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=vB(),window[FB+this.uniqueCallbackIdentifier]=e,window[jB+this.uniqueCallbackIdentifier]=n,this.myIFrame=V1.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){vn("frame writing exception"),a.stack&&vn(a.stack),vn(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||vn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[IN]=this.myID,e[CN]=this.myPW,e[AN]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+ON+r.length<=RN;){const s=this.pendingSegs.shift();r=r+"&"+VB+i+"="+s.seg+"&"+$B+i+"="+s.ts+"&"+BB+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(WB)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{vn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YB=16384,KB=45e3;let Dd=null;typeof MozWebSocket<"u"?Dd=MozWebSocket:typeof WebSocket<"u"&&(Dd=WebSocket);class Or{constructor(e,n,r,i,o,s,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=vh(this.connId),this.stats_=U1(n),this.connURL=Or.connectionURL_(n,s,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,o){const s={};return s[gN]=j1,typeof location<"u"&&location.hostname&&wN.test(location.hostname)&&(s[vN]=_N),n&&(s[yN]=n),r&&(s[EN]=r),i&&(s[Uv]=i),o&&(s[TN]=o),kN(e,bN,s)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,fs.set("previous_websocket_failure",!0);try{let r;cA(),this.mySock=new Dd(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Or.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Dd!==null&&!Or.forceDisallow_}static previouslyFailed(){return fs.isInMemoryStorage||fs.get("previous_websocket_failure")===!0}markConnectionHealthy(){fs.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=gc(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(le(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=nn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=pN(n,YB);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(KB))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Or.responsesRequiredToBeHealthy=2;Or.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Pa,Or]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Or&&Or.isAvailable();let r=n&&!Or.previouslyFailed();if(e.webSocketOnly&&(n||nr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Or];else{const i=this.transports_=[];for(const o of Lc.ALL_TRANSPORTS)o&&o.isAvailable()&&i.push(o);Lc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Lc.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GB=6e4,QB=5e3,XB=10*1024,JB=100*1024,Dg="t",xb="d",ZB="s",Db="r",eq="e",Mb="o",Lb="a",Fb="n",jb="p",tq="h";class nq{constructor(e,n,r,i,o,s,a,l,u,h){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=vh("c:"+this.id+":"),this.transportManager_=new Lc(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Yu(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>JB?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>XB?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Dg in e){const n=e[Dg];n===Lb?this.upgradeIfSecondaryHealthy_():n===Db?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Mb&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=su("t",e),r=su("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:jb,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Lb,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Fb,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=su("t",e),r=su("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=su(Dg,e);if(xb in e){const r=e[xb];if(n===tq){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Fb){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===ZB?this.onConnectionShutdown_(r):n===Db?this.onReset_(r):n===eq?Fv("Server Error: "+r):n===Mb?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Fv("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),j1!==r&&nr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Yu(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(GB))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Yu(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(QB))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:jb,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(fs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e){this.allowedEvents_=e,this.listeners_={},le(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){le(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md extends NN{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!d0()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Md}getInitialEvent(e){return le(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub=32,Vb=768;class ft{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Qe(){return new ft("")}function je(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Mo(t){return t.pieces_.length-t.pieceNum_}function at(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ft(t.pieces_,e)}function xN(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function rq(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function DN(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function MN(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ft(e,0)}function zt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ft)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ft(n,0)}function Me(t){return t.pieceNum_>=t.pieces_.length}function mr(t,e){const n=je(t),r=je(e);if(n===null)return e;if(n===r)return mr(at(t),at(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function LN(t,e){if(Mo(t)!==Mo(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Pr(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Mo(t)>Mo(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class iq{constructor(e,n){this.errorPrefix_=n,this.parts_=DN(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Sp(this.parts_[r]);FN(this)}}function oq(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Sp(e),FN(t)}function sq(t){const e=t.parts_.pop();t.byteLength_-=Sp(e),t.parts_.length>0&&(t.byteLength_-=1)}function FN(t){if(t.byteLength_>Vb)throw new Error(t.errorPrefix_+"has a key path longer than "+Vb+" bytes ("+t.byteLength_+").");if(t.parts_.length>Ub)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Ub+") or object contains a cycle "+es(t))}function es(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1 extends NN{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new $1}getInitialEvent(e){return le(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au=1e3,aq=60*5*1e3,$b=30*1e3,lq=1.3,uq=3e4,cq="server_kill",Bb=3;class Pi extends PN{constructor(e,n,r,i,o,s,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=o,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Pi.nextPersistentConnectionId_++,this.log_=vh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=au,this.maxReconnectDelay_=aq,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!cA())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");$1.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Md.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,o={r:i,a:e,b:n};this.log_(nn(o)),le(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new f0,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:s=>{const a=s.d;s.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,r,i){this.initConnection_();const o=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+o),this.listens.has(s)||this.listens.set(s,new Map),le(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),le(!this.listens.get(s).has(o),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(s).set(o,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const o={p:r},s="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(s,o,a=>{const l=a.d,u=a.s;Pi.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Hi(e,"w")){const r=rl(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();nr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||A4(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=$b)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=C4(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const o=i.s,s=i.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,s))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),le(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const o={p:e},s="n";i&&(o.q=r,o.t=i),this.sendRequest(s,o)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const o={p:n,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,s=>{i&&setTimeout(()=>{i(s.s,s.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,o){this.initConnection_();const s={p:n,d:r};o!==void 0&&(s.h=o),this.outstandingPuts_.push({action:e,request:s,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+nn(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Fv("Unrecognized action received from server: "+nn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){le(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=au,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=au,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>uq&&(this.reconnectDelay_=au),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*lq)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Pi.nextConnectionId_++,o=this.lastSessionId;let s=!1,a=null;const l=function(){a?a.close():(s=!0,r())},u=function(c){le(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(c)};this.realtime_={close:l,sendRequest:u};const h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[c,f]=await Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);s?vn("getToken() completed but was canceled"):(vn("getToken() completed. Creating connection."),this.authToken_=c&&c.accessToken,this.appCheckToken_=f&&f.token,a=new nq(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,d=>{nr(d+" ("+this.repoInfo_.toString()+")"),this.interrupt(cq)},o))}catch(c){this.log_("Failed to get token: "+c),s||(this.repoInfo_.nodeAdmin&&nr(c),l())}}}interrupt(e){vn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){vn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],tv(this.interruptReasons_)&&(this.reconnectDelay_=au,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(o=>F1(o)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new ft(e).toString();let i;if(this.listens.has(r)){const o=this.listens.get(r);i=o.get(n),o.delete(n),o.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){vn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Bb&&(this.reconnectDelay_=$b,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){vn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Bb&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+cN.replace(/\./g,"-")]=1,d0()?e["framework.cordova"]=1:uA()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Md.getInstance().currentlyOnline();return tv(this.interruptReasons_)&&e}}Pi.nextPersistentConnectionId_=0;Pi.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Ue(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Ue(pl,e),i=new Ue(pl,n);return this.compare(r,i)!==0}minPost(){return Ue.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jh;class jN extends dm{static get __EMPTY_NODE(){return Jh}static set __EMPTY_NODE(e){Jh=e}compare(e,n){return Fl(e.name,n.name)}isDefinedOn(e){throw Il("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Ue.MIN}maxPost(){return new Ue(Ls,Jh)}makePost(e,n){return le(typeof e=="string","KeyIndex indexValue must always be a string."),new Ue(e,Jh)}toString(){return".key"}}const Ka=new jN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Wt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Wt.RED,this.left=i??Bn.EMPTY_NODE,this.right=o??Bn.EMPTY_NODE}copy(e,n,r,i,o){return new Wt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Bn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Bn.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Wt.RED=!0;Wt.BLACK=!1;class hq{copy(e,n,r,i,o){return this}insert(e,n,r){return new Wt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Bn{constructor(e,n=Bn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Bn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Wt.BLACK,null,null))}remove(e){return new Bn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Wt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Zh(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Zh(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Zh(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Zh(this.root_,null,this.comparator_,!0,e)}}Bn.EMPTY_NODE=new hq;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fq(t,e){return Fl(t.name,e.name)}function B1(t,e){return Fl(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vv;function dq(t){Vv=t}const UN=function(t){return typeof t=="number"?"number:"+mN(t):"string:"+t},VN=function(t){if(t.isLeafNode()){const e=t.val();le(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Hi(e,".sv"),"Priority must be a string or number.")}else le(t===Vv||t.isEmpty(),"priority of unexpected type.");le(t===Vv||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qb;class Bt{constructor(e,n=Bt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,le(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),VN(this.priorityNode_)}static set __childrenNodeConstructor(e){qb=e}static get __childrenNodeConstructor(){return qb}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Bt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Bt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Me(e)?this:je(e)===".priority"?this.priorityNode_:Bt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Bt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=je(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(le(r!==".priority"||Mo(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Bt.__childrenNodeConstructor.EMPTY_NODE.updateChild(at(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+UN(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=mN(this.value_):e+=this.value_,this.lazyHash_=fN(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Bt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Bt.__childrenNodeConstructor?-1:(le(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Bt.VALUE_TYPE_ORDER.indexOf(n),o=Bt.VALUE_TYPE_ORDER.indexOf(r);return le(i>=0,"Unknown leaf type: "+n),le(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Bt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $N,BN;function pq(t){$N=t}function mq(t){BN=t}class gq extends dm{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?Fl(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Ue.MIN}maxPost(){return new Ue(Ls,new Bt("[PRIORITY-POST]",BN))}makePost(e,n){const r=$N(e);return new Ue(n,new Bt("[PRIORITY-POST]",r))}toString(){return".priority"}}const En=new gq;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yq=Math.log(2);class vq{constructor(e){const n=o=>parseInt(Math.log(o)/yq,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ld=function(t,e,n,r){t.sort(e);const i=function(l,u){const h=u-l;let c,f;if(h===0)return null;if(h===1)return c=t[l],f=n?n(c):c,new Wt(f,c.node,Wt.BLACK,null,null);{const d=parseInt(h/2,10)+l,g=i(l,d),y=i(d+1,u);return c=t[d],f=n?n(c):c,new Wt(f,c.node,Wt.BLACK,g,y)}},o=function(l){let u=null,h=null,c=t.length;const f=function(g,y){const w=c-g,m=c;c-=g;const p=i(w+1,m),_=t[w],v=n?n(_):_;d(new Wt(v,_.node,y,null,p))},d=function(g){u?(u.left=g,u=g):(h=g,u=g)};for(let g=0;g<l.count;++g){const y=l.nextBitIsOne(),w=Math.pow(2,l.count-(g+1));y?f(w,Wt.BLACK):(f(w,Wt.BLACK),f(w,Wt.RED))}return h},s=new vq(t.length),a=o(s);return new Bn(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mg;const ha={};class Ai{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return le(ha&&En,"ChildrenNode.ts has not been loaded"),Mg=Mg||new Ai({".priority":ha},{".priority":En}),Mg}get(e){const n=rl(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Bn?n:null}hasIndex(e){return Hi(this.indexSet_,e.toString())}addIndex(e,n){le(e!==Ka,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(Ue.Wrap);let s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=Ld(r,e.getCompare()):a=ha;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const h=Object.assign({},this.indexes_);return h[l]=a,new Ai(h,u)}addToIndexes(e,n){const r=ld(this.indexes_,(i,o)=>{const s=rl(this.indexSet_,o);if(le(s,"Missing index implementation for "+o),i===ha)if(s.isDefinedOn(e.node)){const a=[],l=n.getIterator(Ue.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),Ld(a,s.getCompare())}else return ha;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Ue(e.name,a))),l.insert(e,e.node)}});return new Ai(r,this.indexSet_)}removeFromIndexes(e,n){const r=ld(this.indexes_,i=>{if(i===ha)return i;{const o=n.get(e.name);return o?i.remove(new Ue(e.name,o)):i}});return new Ai(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lu;class He{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&VN(this.priorityNode_),this.children_.isEmpty()&&le(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return lu||(lu=new He(new Bn(B1),null,Ai.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||lu}updatePriority(e){return this.children_.isEmpty()?this:new He(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?lu:n}}getChild(e){const n=je(e);return n===null?this:this.getImmediateChild(n).getChild(at(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(le(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Ue(e,n);let i,o;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));const s=i.isEmpty()?lu:this.priorityNode_;return new He(i,s,o)}}updateChild(e,n){const r=je(e);if(r===null)return n;{le(je(e)!==".priority"||Mo(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(at(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,o=!0;if(this.forEachChild(En,(s,a)=>{n[s]=a.val(e),r++,o&&He.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1}),!e&&o&&i<2*r){const s=[];for(const a in n)s[a]=n[a];return s}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+UN(this.getPriority().val())+":"),this.forEachChild(En,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":fN(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const o=i.getPredecessorKey(new Ue(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Ue(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Ue(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Ue.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)<0;)i.getNext(),o=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Ue.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)>0;)i.getNext(),o=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===wh?-1:0}withIndex(e){if(e===Ka||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new He(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ka||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(En),i=n.getIterator(En);let o=r.getNext(),s=i.getNext();for(;o&&s;){if(o.name!==s.name||!o.node.equals(s.node))return!1;o=r.getNext(),s=i.getNext()}return o===null&&s===null}else return!1;else return!1}}resolveIndex_(e){return e===Ka?null:this.indexMap_.get(e.toString())}}He.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class _q extends He{constructor(){super(new Bn(B1),He.EMPTY_NODE,Ai.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return He.EMPTY_NODE}isEmpty(){return!1}}const wh=new _q;Object.defineProperties(Ue,{MIN:{value:new Ue(pl,He.EMPTY_NODE)},MAX:{value:new Ue(Ls,wh)}});jN.__EMPTY_NODE=He.EMPTY_NODE;Bt.__childrenNodeConstructor=He;dq(wh);mq(wh);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wq=!0;function _n(t,e=null){if(t===null)return He.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),le(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Bt(n,_n(e))}if(!(t instanceof Array)&&wq){const n=[];let r=!1;if(Er(t,(s,a)=>{if(s.substring(0,1)!=="."){const l=_n(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Ue(s,l)))}}),n.length===0)return He.EMPTY_NODE;const o=Ld(n,fq,s=>s.name,B1);if(r){const s=Ld(n,En.getCompare());return new He(o,_n(e),new Ai({".priority":s},{".priority":En}))}else return new He(o,_n(e),Ai.Default)}else{let n=He.EMPTY_NODE;return Er(t,(r,i)=>{if(Hi(t,r)&&r.substring(0,1)!=="."){const o=_n(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(_n(e))}}pq(_n);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eq extends dm{constructor(e){super(),this.indexPath_=e,le(!Me(e)&&je(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?Fl(e.name,n.name):o}makePost(e,n){const r=_n(e),i=He.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ue(n,i)}maxPost(){const e=He.EMPTY_NODE.updateChild(this.indexPath_,wh);return new Ue(Ls,e)}toString(){return DN(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tq extends dm{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Fl(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Ue.MIN}maxPost(){return Ue.MAX}makePost(e,n){const r=_n(e);return new Ue(n,r)}toString(){return".value"}}const bq=new Tq;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sq(t){return{type:"value",snapshotNode:t}}function kq(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Iq(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Hb(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Cq(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=En}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return le(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return le(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:pl}hasEnd(){return this.endSet_}getIndexEndValue(){return le(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return le(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ls}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return le(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===En}copy(){const e=new q1;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Wb(t){const e={};if(t.isDefault())return e;let n;if(t.index_===En?n="$priority":t.index_===bq?n="$value":t.index_===Ka?n="$key":(le(t.index_ instanceof Eq,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=nn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=nn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+nn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=nn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+nn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function zb(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==En&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd extends PN{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=vh("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(le(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=Fd.getListenId_(e,r),a={};this.listens_[s]=a;const l=Wb(e._queryParams);this.restRequest_(o+".json",l,(u,h)=>{let c=h;if(u===404&&(c=null,u=null),u===null&&this.onDataUpdate_(o,c,!1,r),rl(this.listens_,s)===a){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",i(f,null)}})}unlisten(e,n){const r=Fd.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Wb(e._queryParams),r=e._path.toString(),i=new f0;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Cl(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=gc(a.responseText)}catch{nr("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&nr("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aq{constructor(){this.rootNode_=He.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(){return{value:null,children:new Map}}function qN(t,e,n){if(Me(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=je(e);t.children.has(r)||t.children.set(r,jd());const i=t.children.get(r);e=at(e),qN(i,e,n)}}function $v(t,e,n){t.value!==null?n(e,t.value):Rq(t,(r,i)=>{const o=new ft(e.toString()+"/"+r);$v(i,o,n)})}function Rq(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oq{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Er(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb=10*1e3,Pq=30*1e3,Nq=5*60*1e3;class xq{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Oq(e);const r=Yb+(Pq-Yb)*Math.random();Yu(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Er(e,(i,o)=>{o>0&&Hi(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),Yu(this.reportStats_.bind(this),Math.floor(Math.random()*2*Nq))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ei;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ei||(ei={}));function HN(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function WN(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function zN(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=ei.ACK_USER_WRITE,this.source=HN()}operationForChild(e){if(Me(this.path)){if(this.affectedTree.value!=null)return le(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ft(e));return new Ud(Qe(),n,this.revert)}}else return le(je(this.path)===e,"operationForChild called for unrelated child."),new Ud(at(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=ei.OVERWRITE}operationForChild(e){return Me(this.path)?new Fs(this.source,Qe(),this.snap.getImmediateChild(e)):new Fs(this.source,at(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=ei.MERGE}operationForChild(e){if(Me(this.path)){const n=this.children.subtree(new ft(e));return n.isEmpty()?null:n.value?new Fs(this.source,Qe(),n.value):new Fc(this.source,Qe(),n)}else return le(je(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Fc(this.source,at(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Me(e))return this.isFullyInitialized()&&!this.filtered_;const n=je(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function Dq(t,e,n,r){const i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(Cq(s.childName,s.snapshotNode))}),uu(t,i,"child_removed",e,r,n),uu(t,i,"child_added",e,r,n),uu(t,i,"child_moved",o,r,n),uu(t,i,"child_changed",e,r,n),uu(t,i,"value",e,r,n),i}function uu(t,e,n,r,i,o){const s=r.filter(a=>a.type===n);s.sort((a,l)=>Lq(t,a,l)),s.forEach(a=>{const l=Mq(t,a,o);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function Mq(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Lq(t,e,n){if(e.childName==null||n.childName==null)throw Il("Should only compare child_ events.");const r=new Ue(e.childName,e.snapshotNode),i=new Ue(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(t,e){return{eventCache:t,serverCache:e}}function Ku(t,e,n,r){return YN(new H1(e,n,r),t.serverCache)}function KN(t,e,n,r){return YN(t.eventCache,new H1(e,n,r))}function Bv(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function js(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lg;const Fq=()=>(Lg||(Lg=new Bn(TB)),Lg);class st{constructor(e,n=Fq()){this.value=e,this.children=n}static fromObject(e){let n=new st(null);return Er(e,(r,i)=>{n=n.set(new ft(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Qe(),value:this.value};if(Me(e))return null;{const r=je(e),i=this.children.get(r);if(i!==null){const o=i.findRootMostMatchingPathAndValue(at(e),n);return o!=null?{path:zt(new ft(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Me(e))return this;{const n=je(e),r=this.children.get(n);return r!==null?r.subtree(at(e)):new st(null)}}set(e,n){if(Me(e))return new st(n,this.children);{const r=je(e),o=(this.children.get(r)||new st(null)).set(at(e),n),s=this.children.insert(r,o);return new st(this.value,s)}}remove(e){if(Me(e))return this.children.isEmpty()?new st(null):new st(null,this.children);{const n=je(e),r=this.children.get(n);if(r){const i=r.remove(at(e));let o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new st(null):new st(this.value,o)}else return this}}get(e){if(Me(e))return this.value;{const n=je(e),r=this.children.get(n);return r?r.get(at(e)):null}}setTree(e,n){if(Me(e))return n;{const r=je(e),o=(this.children.get(r)||new st(null)).setTree(at(e),n);let s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new st(this.value,s)}}fold(e){return this.fold_(Qe(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(zt(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Qe(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Me(e))return null;{const o=je(e),s=this.children.get(o);return s?s.findOnPath_(at(e),zt(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Qe(),n)}foreachOnPath_(e,n,r){if(Me(e))return this;{this.value&&r(n,this.value);const i=je(e),o=this.children.get(i);return o?o.foreachOnPath_(at(e),zt(n,i),r):new st(null)}}foreach(e){this.foreach_(Qe(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(zt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e){this.writeTree_=e}static empty(){return new Mr(new st(null))}}function Gu(t,e,n){if(Me(e))return new Mr(new st(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let o=r.value;const s=mr(i,e);return o=o.updateChild(s,n),new Mr(t.writeTree_.set(i,o))}else{const i=new st(n),o=t.writeTree_.setTree(e,i);return new Mr(o)}}}function Kb(t,e,n){let r=t;return Er(n,(i,o)=>{r=Gu(r,zt(e,i),o)}),r}function Gb(t,e){if(Me(e))return Mr.empty();{const n=t.writeTree_.setTree(e,new st(null));return new Mr(n)}}function qv(t,e){return na(t,e)!=null}function na(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(mr(n.path,e)):null}function Qb(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(En,(r,i)=>{e.push(new Ue(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Ue(r,i.value))}),e}function Io(t,e){if(Me(e))return t;{const n=na(t,e);return n!=null?new Mr(new st(n)):new Mr(t.writeTree_.subtree(e))}}function Hv(t){return t.writeTree_.isEmpty()}function ml(t,e){return GN(Qe(),t.writeTree_,e)}function GN(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(le(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=GN(zt(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(zt(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(t,e){return tx(e,t)}function jq(t,e,n,r,i){le(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Gu(t.visibleWrites,e,n)),t.lastWriteId=r}function Uq(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function Vq(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);le(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){const a=t.allWrites[s];a.visible&&(s>=n&&$q(a,r.path)?i=!1:Pr(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return Bq(t),!0;if(r.snap)t.visibleWrites=Gb(t.visibleWrites,r.path);else{const a=r.children;Er(a,l=>{t.visibleWrites=Gb(t.visibleWrites,zt(r.path,l))})}return!0}else return!1}function $q(t,e){if(t.snap)return Pr(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Pr(zt(t.path,n),e))return!0;return!1}function Bq(t){t.visibleWrites=XN(t.allWrites,qq,Qe()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function qq(t){return t.visible}function XN(t,e,n){let r=Mr.empty();for(let i=0;i<t.length;++i){const o=t[i];if(e(o)){const s=o.path;let a;if(o.snap)Pr(n,s)?(a=mr(n,s),r=Gu(r,a,o.snap)):Pr(s,n)&&(a=mr(s,n),r=Gu(r,Qe(),o.snap.getChild(a)));else if(o.children){if(Pr(n,s))a=mr(n,s),r=Kb(r,a,o.children);else if(Pr(s,n))if(a=mr(s,n),Me(a))r=Kb(r,Qe(),o.children);else{const l=rl(o.children,je(a));if(l){const u=l.getChild(at(a));r=Gu(r,Qe(),u)}}}else throw Il("WriteRecord should have .snap or .children")}}return r}function JN(t,e,n,r,i){if(!r&&!i){const o=na(t.visibleWrites,e);if(o!=null)return o;{const s=Io(t.visibleWrites,e);if(Hv(s))return n;if(n==null&&!qv(s,Qe()))return null;{const a=n||He.EMPTY_NODE;return ml(s,a)}}}else{const o=Io(t.visibleWrites,e);if(!i&&Hv(o))return n;if(!i&&n==null&&!qv(o,Qe()))return null;{const s=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Pr(u.path,e)||Pr(e,u.path))},a=XN(t.allWrites,s,e),l=n||He.EMPTY_NODE;return ml(a,l)}}}function Hq(t,e,n){let r=He.EMPTY_NODE;const i=na(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(En,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=Io(t.visibleWrites,e);return n.forEachChild(En,(s,a)=>{const l=ml(Io(o,new ft(s)),a);r=r.updateImmediateChild(s,l)}),Qb(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{const o=Io(t.visibleWrites,e);return Qb(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function Wq(t,e,n,r,i){le(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=zt(e,n);if(qv(t.visibleWrites,o))return null;{const s=Io(t.visibleWrites,o);return Hv(s)?i.getChild(n):ml(s,i.getChild(n))}}function zq(t,e,n,r){const i=zt(e,n),o=na(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){const s=Io(t.visibleWrites,i);return ml(s,r.getNode().getImmediateChild(n))}else return null}function Yq(t,e){return na(t.visibleWrites,e)}function Kq(t,e,n,r,i,o,s){let a;const l=Io(t.visibleWrites,e),u=na(l,Qe());if(u!=null)a=u;else if(n!=null)a=ml(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){const h=[],c=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let d=f.getNext();for(;d&&h.length<i;)c(d,r)!==0&&h.push(d),d=f.getNext();return h}else return[]}function Gq(){return{visibleWrites:Mr.empty(),allWrites:[],lastWriteId:-1}}function Wv(t,e,n,r){return JN(t.writeTree,t.treePath,e,n,r)}function ZN(t,e){return Hq(t.writeTree,t.treePath,e)}function Xb(t,e,n,r){return Wq(t.writeTree,t.treePath,e,n,r)}function Vd(t,e){return Yq(t.writeTree,zt(t.treePath,e))}function Qq(t,e,n,r,i,o){return Kq(t.writeTree,t.treePath,e,n,r,i,o)}function W1(t,e,n){return zq(t.writeTree,t.treePath,e,n)}function ex(t,e){return tx(zt(t.treePath,e),t.writeTree)}function tx(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xq{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;le(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),le(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,Hb(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,Iq(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,kq(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,Hb(r,e.snapshotNode,i.oldSnap));else throw Il("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jq{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const nx=new Jq;class z1{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new H1(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return W1(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:js(this.viewCache_),o=Qq(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}}function Zq(t,e){le(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),le(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function e8(t,e,n,r,i){const o=new Xq;let s,a;if(n.type===ei.OVERWRITE){const u=n;u.source.fromUser?s=zv(t,e,u.path,u.snap,r,i,o):(le(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!Me(u.path),s=$d(t,e,u.path,u.snap,r,i,a,o))}else if(n.type===ei.MERGE){const u=n;u.source.fromUser?s=n8(t,e,u.path,u.children,r,i,o):(le(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),s=Yv(t,e,u.path,u.children,r,i,a,o))}else if(n.type===ei.ACK_USER_WRITE){const u=n;u.revert?s=o8(t,e,u.path,r,i,o):s=r8(t,e,u.path,u.affectedTree,r,i,o)}else if(n.type===ei.LISTEN_COMPLETE)s=i8(t,e,n.path,r,o);else throw Il("Unknown operation type: "+n.type);const l=o.getChanges();return t8(e,s,l),{viewCache:s,changes:l}}function t8(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Bv(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(Sq(Bv(e)))}}function rx(t,e,n,r,i,o){const s=e.eventCache;if(Vd(r,n)!=null)return e;{let a,l;if(Me(n))if(le(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=js(e),h=u instanceof He?u:He.EMPTY_NODE,c=ZN(r,h);a=t.filter.updateFullNode(e.eventCache.getNode(),c,o)}else{const u=Wv(r,js(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,o)}else{const u=je(n);if(u===".priority"){le(Mo(n)===1,"Can't have a priority with additional path components");const h=s.getNode();l=e.serverCache.getNode();const c=Xb(r,n,h,l);c!=null?a=t.filter.updatePriority(h,c):a=s.getNode()}else{const h=at(n);let c;if(s.isCompleteForChild(u)){l=e.serverCache.getNode();const f=Xb(r,n,s.getNode(),l);f!=null?c=s.getNode().getImmediateChild(u).updateChild(h,f):c=s.getNode().getImmediateChild(u)}else c=W1(r,u,e.serverCache);c!=null?a=t.filter.updateChild(s.getNode(),u,c,h,i,o):a=s.getNode()}}return Ku(e,a,s.isFullyInitialized()||Me(n),t.filter.filtersNodes())}}function $d(t,e,n,r,i,o,s,a){const l=e.serverCache;let u;const h=s?t.filter:t.filter.getIndexedFilter();if(Me(n))u=h.updateFullNode(l.getNode(),r,null);else if(h.filtersNodes()&&!l.isFiltered()){const d=l.getNode().updateChild(n,r);u=h.updateFullNode(l.getNode(),d,null)}else{const d=je(n);if(!l.isCompleteForPath(n)&&Mo(n)>1)return e;const g=at(n),w=l.getNode().getImmediateChild(d).updateChild(g,r);d===".priority"?u=h.updatePriority(l.getNode(),w):u=h.updateChild(l.getNode(),d,w,g,nx,null)}const c=KN(e,u,l.isFullyInitialized()||Me(n),h.filtersNodes()),f=new z1(i,c,o);return rx(t,c,n,i,f,a)}function zv(t,e,n,r,i,o,s){const a=e.eventCache;let l,u;const h=new z1(i,e,o);if(Me(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,s),l=Ku(e,u,!0,t.filter.filtersNodes());else{const c=je(n);if(c===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=Ku(e,u,a.isFullyInitialized(),a.isFiltered());else{const f=at(n),d=a.getNode().getImmediateChild(c);let g;if(Me(f))g=r;else{const y=h.getCompleteChild(c);y!=null?xN(f)===".priority"&&y.getChild(MN(f)).isEmpty()?g=y:g=y.updateChild(f,r):g=He.EMPTY_NODE}if(d.equals(g))l=e;else{const y=t.filter.updateChild(a.getNode(),c,g,f,h,s);l=Ku(e,y,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function Jb(t,e){return t.eventCache.isCompleteForChild(e)}function n8(t,e,n,r,i,o,s){let a=e;return r.foreach((l,u)=>{const h=zt(n,l);Jb(e,je(h))&&(a=zv(t,a,h,u,i,o,s))}),r.foreach((l,u)=>{const h=zt(n,l);Jb(e,je(h))||(a=zv(t,a,h,u,i,o,s))}),a}function Zb(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Yv(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;Me(n)?u=r:u=new st(null).setTree(n,r);const h=e.serverCache.getNode();return u.children.inorderTraversal((c,f)=>{if(h.hasChild(c)){const d=e.serverCache.getNode().getImmediateChild(c),g=Zb(t,d,f);l=$d(t,l,new ft(c),g,i,o,s,a)}}),u.children.inorderTraversal((c,f)=>{const d=!e.serverCache.isCompleteForChild(c)&&f.value===null;if(!h.hasChild(c)&&!d){const g=e.serverCache.getNode().getImmediateChild(c),y=Zb(t,g,f);l=$d(t,l,new ft(c),y,i,o,s,a)}}),l}function r8(t,e,n,r,i,o,s){if(Vd(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Me(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return $d(t,e,n,l.getNode().getChild(n),i,o,a,s);if(Me(n)){let u=new st(null);return l.getNode().forEachChild(Ka,(h,c)=>{u=u.set(new ft(h),c)}),Yv(t,e,n,u,i,o,a,s)}else return e}else{let u=new st(null);return r.foreach((h,c)=>{const f=zt(n,h);l.isCompleteForPath(f)&&(u=u.set(h,l.getNode().getChild(f)))}),Yv(t,e,n,u,i,o,a,s)}}function i8(t,e,n,r,i){const o=e.serverCache,s=KN(e,o.getNode(),o.isFullyInitialized()||Me(n),o.isFiltered());return rx(t,s,n,r,nx,i)}function o8(t,e,n,r,i,o){let s;if(Vd(r,n)!=null)return e;{const a=new z1(r,e,i),l=e.eventCache.getNode();let u;if(Me(n)||je(n)===".priority"){let h;if(e.serverCache.isFullyInitialized())h=Wv(r,js(e));else{const c=e.serverCache.getNode();le(c instanceof He,"serverChildren would be complete if leaf node"),h=ZN(r,c)}h=h,u=t.filter.updateFullNode(l,h,o)}else{const h=je(n);let c=W1(r,h,e.serverCache);c==null&&e.serverCache.isCompleteForChild(h)&&(c=l.getImmediateChild(h)),c!=null?u=t.filter.updateChild(l,h,c,at(n),a,o):e.eventCache.getNode().hasChild(h)?u=t.filter.updateChild(l,h,He.EMPTY_NODE,at(n),a,o):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Wv(r,js(e)),s.isLeafNode()&&(u=t.filter.updateFullNode(u,s,o)))}return s=e.serverCache.isFullyInitialized()||Vd(r,Qe())!=null,Ku(e,u,s,t.filter.filtersNodes())}}function s8(t,e){const n=js(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Me(e)&&!n.getImmediateChild(je(e)).isEmpty())?n.getChild(e):null}function eS(t,e,n,r){e.type===ei.MERGE&&e.source.queryId!==null&&(le(js(t.viewCache_),"We should always have a full cache before handling merges"),le(Bv(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,o=e8(t.processor_,i,e,n,r);return Zq(t.processor_,o.viewCache),le(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,a8(t,o.changes,o.viewCache.eventCache.getNode(),null)}function a8(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return Dq(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tS;function l8(t){le(!tS,"__referenceConstructor has already been defined"),tS=t}function Y1(t,e,n,r){const i=e.source.queryId;if(i!==null){const o=t.views.get(i);return le(o!=null,"SyncTree gave us an op for an invalid query."),eS(o,e,n,r)}else{let o=[];for(const s of t.views.values())o=o.concat(eS(s,e,n,r));return o}}function K1(t,e){let n=null;for(const r of t.views.values())n=n||s8(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nS;function u8(t){le(!nS,"__referenceConstructor has already been defined"),nS=t}class rS{constructor(e){this.listenProvider_=e,this.syncPointTree_=new st(null),this.pendingWriteTree_=Gq(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function c8(t,e,n,r,i){return jq(t.pendingWriteTree_,e,n,r,i),i?mm(t,new Fs(HN(),e,n)):[]}function Na(t,e,n=!1){const r=Uq(t.pendingWriteTree_,e);if(Vq(t.pendingWriteTree_,e)){let o=new st(null);return r.snap!=null?o=o.set(Qe(),!0):Er(r.children,s=>{o=o.set(new ft(s),!0)}),mm(t,new Ud(r.path,o,n))}else return[]}function pm(t,e,n){return mm(t,new Fs(WN(),e,n))}function h8(t,e,n){const r=st.fromObject(n);return mm(t,new Fc(WN(),e,r))}function f8(t,e,n,r){const i=ax(t,r);if(i!=null){const o=lx(i),s=o.path,a=o.queryId,l=mr(s,e),u=new Fs(zN(a),l,n);return ux(t,s,u)}else return[]}function d8(t,e,n,r){const i=ax(t,r);if(i){const o=lx(i),s=o.path,a=o.queryId,l=mr(s,e),u=st.fromObject(n),h=new Fc(zN(a),l,u);return ux(t,s,h)}else return[]}function ix(t,e,n){const i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{const l=mr(s,e),u=K1(a,l);if(u)return u});return JN(i,e,o,n,!0)}function mm(t,e){return ox(e,t.syncPointTree_,null,QN(t.pendingWriteTree_,Qe()))}function ox(t,e,n,r){if(Me(t.path))return sx(t,e,n,r);{const i=e.get(Qe());n==null&&i!=null&&(n=K1(i,Qe()));let o=[];const s=je(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){const u=n?n.getImmediateChild(s):null,h=ex(r,s);o=o.concat(ox(a,l,u,h))}return i&&(o=o.concat(Y1(i,t,r,n))),o}}function sx(t,e,n,r){const i=e.get(Qe());n==null&&i!=null&&(n=K1(i,Qe()));let o=[];return e.children.inorderTraversal((s,a)=>{const l=n?n.getImmediateChild(s):null,u=ex(r,s),h=t.operationForChild(s);h&&(o=o.concat(sx(h,a,l,u)))}),i&&(o=o.concat(Y1(i,t,r,n))),o}function ax(t,e){return t.tagToQueryMap.get(e)}function lx(t){const e=t.indexOf("$");return le(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ft(t.substr(0,e))}}function ux(t,e,n){const r=t.syncPointTree_.get(e);le(r,"Missing sync point for query tag that we're tracking");const i=QN(t.pendingWriteTree_,e);return Y1(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new G1(n)}node(){return this.node_}}class Q1{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=zt(this.path_,e);return new Q1(this.syncTree_,n)}node(){return ix(this.syncTree_,this.path_)}}const p8=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},iS=function(t,e,n){if(!t||typeof t!="object")return t;if(le(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return m8(t[".sv"],e,n);if(typeof t[".sv"]=="object")return g8(t[".sv"],e);le(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},m8=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:le(!1,"Unexpected server value: "+t)}},g8=function(t,e,n){t.hasOwnProperty("increment")||le(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&le(!1,"Unexpected increment value: "+r);const i=e.node();if(le(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return typeof s!="number"?r:s+r},y8=function(t,e,n,r){return X1(e,new Q1(n,t),r)},v8=function(t,e,n){return X1(t,new G1(e),n)};function X1(t,e,n){const r=t.getPriority().val(),i=iS(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const s=t,a=iS(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new Bt(a,_n(i)):t}else{const s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new Bt(i))),s.forEachChild(En,(a,l)=>{const u=X1(l,e.getImmediateChild(a),n);u!==l&&(o=o.updateImmediateChild(a,u))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Z1(t,e){let n=e instanceof ft?e:new ft(e),r=t,i=je(n);for(;i!==null;){const o=rl(r.node.children,i)||{children:{},childCount:0};r=new J1(i,r,o),n=at(n),i=je(n)}return r}function jl(t){return t.node.value}function cx(t,e){t.node.value=e,Kv(t)}function hx(t){return t.node.childCount>0}function _8(t){return jl(t)===void 0&&!hx(t)}function gm(t,e){Er(t.node.children,(n,r)=>{e(new J1(n,t,r))})}function fx(t,e,n,r){n&&!r&&e(t),gm(t,i=>{fx(i,e,!0,r)}),n&&r&&e(t)}function w8(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Eh(t){return new ft(t.parent===null?t.name:Eh(t.parent)+"/"+t.name)}function Kv(t){t.parent!==null&&E8(t.parent,t.name,t)}function E8(t,e,n){const r=_8(n),i=Hi(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Kv(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Kv(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T8=/[\[\].#$\/\u0000-\u001F\u007F]/,b8=/[\[\].#$\u0000-\u001F\u007F]/,Fg=10*1024*1024,dx=function(t){return typeof t=="string"&&t.length!==0&&!T8.test(t)},S8=function(t){return typeof t=="string"&&t.length!==0&&!b8.test(t)},k8=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),S8(t)},px=function(t,e,n){const r=n instanceof ft?new iq(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+es(r));if(typeof e=="function")throw new Error(t+"contains a function "+es(r)+" with contents = "+e.toString());if(dN(e))throw new Error(t+"contains "+e.toString()+" "+es(r));if(typeof e=="string"&&e.length>Fg/3&&Sp(e)>Fg)throw new Error(t+"contains a string greater than "+Fg+" utf8 bytes "+es(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(Er(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!dx(s)))throw new Error(t+" contains an invalid key ("+s+") "+es(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);oq(r,s),px(t,a,r),sq(r)}),i&&o)throw new Error(t+' contains ".value" child '+es(r)+" in addition to actual children.")}},I8=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!dx(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!k8(n))throw new Error(x4(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C8{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function A8(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();n!==null&&!LN(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function ra(t,e,n){A8(t,n),R8(t,r=>Pr(r,e)||Pr(e,r))}function R8(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const o=i.path;e(o)?(O8(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function O8(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();_s&&vn("event: "+n.toString()),_h(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P8="repo_interrupt",N8=25;class x8{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new C8,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=jd(),this.transactionQueueTree_=new J1,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function D8(t,e,n){if(t.stats_=U1(t.repoInfo_),t.forceRestClient_||AB())t.server_=new Fd(t.repoInfo_,(r,i,o,s)=>{oS(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>sS(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{nn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Pi(t.repoInfo_,e,(r,i,o,s)=>{oS(t,r,i,o,s)},r=>{sS(t,r)},r=>{L8(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=DB(t.repoInfo_,()=>new xq(t.stats_,t.server_)),t.infoData_=new Aq,t.infoSyncTree_=new rS({startListening:(r,i,o,s)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=pm(t.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),ew(t,"connected",!1),t.serverSyncTree_=new rS({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,l)=>{const u=s(a,l);ra(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function M8(t){const n=t.infoData_.getNode(new ft(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function mx(t){return p8({timestamp:M8(t)})}function oS(t,e,n,r,i){t.dataUpdateCount++;const o=new ft(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){const l=ld(n,u=>_n(u));s=d8(t.serverSyncTree_,o,l,i)}else{const l=_n(n);s=f8(t.serverSyncTree_,o,l,i)}else if(r){const l=ld(n,u=>_n(u));s=h8(t.serverSyncTree_,o,l)}else{const l=_n(n);s=pm(t.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=nw(t,o)),ra(t.eventQueue_,a,s)}function sS(t,e){ew(t,"connected",e),e===!1&&j8(t)}function L8(t,e){Er(e,(n,r)=>{ew(t,n,r)})}function ew(t,e,n){const r=new ft("/.info/"+e),i=_n(n);t.infoData_.updateSnapshot(r,i);const o=pm(t.infoSyncTree_,r,i);ra(t.eventQueue_,r,o)}function F8(t){return t.nextWriteId_++}function j8(t){gx(t,"onDisconnectEvents");const e=mx(t),n=jd();$v(t.onDisconnect_,Qe(),(i,o)=>{const s=y8(i,o,t.serverSyncTree_,e);qN(n,i,s)});let r=[];$v(n,Qe(),(i,o)=>{r=r.concat(pm(t.serverSyncTree_,i,o));const s=B8(t,i);nw(t,s)}),t.onDisconnect_=jd(),ra(t.eventQueue_,Qe(),r)}function U8(t){t.persistentConnection_&&t.persistentConnection_.interrupt(P8)}function gx(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),vn(n,...e)}function yx(t,e,n){return ix(t.serverSyncTree_,e,n)||He.EMPTY_NODE}function tw(t,e=t.transactionQueueTree_){if(e||ym(t,e),jl(e)){const n=_x(t,e);le(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&V8(t,Eh(e),n)}else hx(e)&&gm(e,n=>{tw(t,n)})}function V8(t,e,n){const r=n.map(u=>u.currentWriteId),i=yx(t,e,r);let o=i;const s=i.hash();for(let u=0;u<n.length;u++){const h=n[u];le(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const c=mr(e,h.path);o=o.updateChild(c,h.currentOutputSnapshotRaw)}const a=o.val(!0),l=e;t.server_.put(l.toString(),a,u=>{gx(t,"transaction put response",{path:l.toString(),status:u});let h=[];if(u==="ok"){const c=[];for(let f=0;f<n.length;f++)n[f].status=2,h=h.concat(Na(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&c.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();ym(t,Z1(t.transactionQueueTree_,e)),tw(t,t.transactionQueueTree_),ra(t.eventQueue_,e,h);for(let f=0;f<c.length;f++)_h(c[f])}else{if(u==="datastale")for(let c=0;c<n.length;c++)n[c].status===3?n[c].status=4:n[c].status=0;else{nr("transaction at "+l.toString()+" failed: "+u);for(let c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=u}nw(t,e)}},s)}function nw(t,e){const n=vx(t,e),r=Eh(n),i=_x(t,n);return $8(t,i,r),r}function $8(t,e,n){if(e.length===0)return;const r=[];let i=[];const s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=mr(n,l.path);let h=!1,c;if(le(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)h=!0,c=l.abortReason,i=i.concat(Na(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=N8)h=!0,c="maxretry",i=i.concat(Na(t.serverSyncTree_,l.currentWriteId,!0));else{const f=yx(t,l.path,s);l.currentInputSnapshot=f;const d=e[a].update(f.val());if(d!==void 0){px("transaction failed: Data returned ",d,l.path);let g=_n(d);typeof d=="object"&&d!=null&&Hi(d,".priority")||(g=g.updatePriority(f.getPriority()));const w=l.currentWriteId,m=mx(t),p=v8(g,f,m);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=p,l.currentWriteId=F8(t),s.splice(s.indexOf(w),1),i=i.concat(c8(t.serverSyncTree_,l.path,p,l.currentWriteId,l.applyLocally)),i=i.concat(Na(t.serverSyncTree_,w,!0))}else h=!0,c="nodata",i=i.concat(Na(t.serverSyncTree_,l.currentWriteId,!0))}ra(t.eventQueue_,n,i),i=[],h&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(c==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(c),!1,null))))}ym(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)_h(r[a]);tw(t,t.transactionQueueTree_)}function vx(t,e){let n,r=t.transactionQueueTree_;for(n=je(e);n!==null&&jl(r)===void 0;)r=Z1(r,n),e=at(e),n=je(e);return r}function _x(t,e){const n=[];return wx(t,e,n),n.sort((r,i)=>r.order-i.order),n}function wx(t,e,n){const r=jl(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);gm(e,i=>{wx(t,i,n)})}function ym(t,e){const n=jl(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,cx(e,n.length>0?n:void 0)}gm(e,r=>{ym(t,r)})}function B8(t,e){const n=Eh(vx(t,e)),r=Z1(t.transactionQueueTree_,e);return w8(r,i=>{jg(t,i)}),jg(t,r),fx(r,i=>{jg(t,i)}),n}function jg(t,e){const n=jl(e);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(le(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(le(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Na(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?cx(e,void 0):n.length=o+1,ra(t.eventQueue_,Eh(e),i);for(let s=0;s<r.length;s++)_h(r[s])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q8(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function H8(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):nr(`Invalid query segment '${n}' in query '${t}'`)}return e}const aS=function(t,e){const n=W8(t),r=n.namespace;n.domain==="firebase.com"&&Ms(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Ms("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||wB();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new PB(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new ft(n.pathString)}},W8=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let h=t.indexOf("/");h===-1&&(h=t.length);let c=t.indexOf("?");c===-1&&(c=t.length),e=t.substring(0,Math.min(h,c)),h<c&&(i=q8(t.substring(h,c)));const f=H8(t.substring(Math.min(t.length,c)));u=e.indexOf(":"),u>=0?(s=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const d=e.slice(0,u);if(d.toLowerCase()==="localhost")n="localhost";else if(d.split(".").length<=2)n=d;else{const g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),o=r}"ns"in f&&(o=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Me(this._path)?null:xN(this._path)}get ref(){return new Ul(this._repo,this._path)}get _queryIdentifier(){const e=zb(this._queryParams),n=F1(e);return n==="{}"?"default":n}get _queryObject(){return zb(this._queryParams)}isEqual(e){if(e=gt(e),!(e instanceof rw))return!1;const n=this._repo===e._repo,r=LN(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+rq(this._path)}}class Ul extends rw{constructor(e,n){super(e,n,new q1,!1)}get parent(){const e=MN(this._path);return e===null?null:new Ul(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}l8(Ul);u8(Ul);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z8="FIREBASE_DATABASE_EMULATOR_HOST",Gv={};let Y8=!1;function K8(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||Ms("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),vn("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=aS(o,i),a=s.repoInfo,l,u;typeof process<"u"&&Cb&&(u=Cb[z8]),u?(l=!0,o=`http://${u}?ns=${a.namespace}`,s=aS(o,i),a=s.repoInfo):l=!s.repoInfo.secure;const h=i&&l?new jv(jv.OWNER):new OB(t.name,t.options,e);I8("Invalid Firebase Database URL",s),Me(s.path)||Ms("Database URL must point to the root of a Firebase Database (not including a child path).");const c=Q8(a,t,h,new RB(t.name,n));return new X8(c,t)}function G8(t,e){const n=Gv[e];(!n||n[t.key]!==t)&&Ms(`Database ${e}(${t.repoInfo_}) has already been deleted.`),U8(t),delete n[t.key]}function Q8(t,e,n,r){let i=Gv[e.name];i||(i={},Gv[e.name]=i);let o=i[t.toURLString()];return o&&Ms("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new x8(t,Y8,n,r),i[t.toURLString()]=o,o}class X8{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(D8(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ul(this._repo,Qe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(G8(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Ms("Cannot call "+e+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J8(t){mB(qo),Po(new Li("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return K8(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),yr(Ab,Rb,t),yr(Ab,Rb,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z8={".sv":"timestamp"};function eH(){return Z8}Pi.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Pi.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};J8();function tH(){this.__data__=[],this.size=0}var nH=tH;function rH(t,e){return t===e||t!==t&&e!==e}var Ex=rH,iH=Ex;function oH(t,e){for(var n=t.length;n--;)if(iH(t[n][0],e))return n;return-1}var vm=oH,sH=vm,aH=Array.prototype,lH=aH.splice;function uH(t){var e=this.__data__,n=sH(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():lH.call(e,n,1),--this.size,!0}var cH=uH,hH=vm;function fH(t){var e=this.__data__,n=hH(e,t);return n<0?void 0:e[n][1]}var dH=fH,pH=vm;function mH(t){return pH(this.__data__,t)>-1}var gH=mH,yH=vm;function vH(t,e){var n=this.__data__,r=yH(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var _H=vH,wH=nH,EH=cH,TH=dH,bH=gH,SH=_H;function Vl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Vl.prototype.clear=wH;Vl.prototype.delete=EH;Vl.prototype.get=TH;Vl.prototype.has=bH;Vl.prototype.set=SH;var _m=Vl,kH=_m;function IH(){this.__data__=new kH,this.size=0}var CH=IH;function AH(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var RH=AH;function OH(t){return this.__data__.get(t)}var PH=OH;function NH(t){return this.__data__.has(t)}var xH=NH,DH=typeof Qn=="object"&&Qn&&Qn.Object===Object&&Qn,Tx=DH,MH=Tx,LH=typeof self=="object"&&self&&self.Object===Object&&self,FH=MH||LH||Function("return this")(),Wi=FH,jH=Wi,UH=jH.Symbol,iw=UH,lS=iw,bx=Object.prototype,VH=bx.hasOwnProperty,$H=bx.toString,cu=lS?lS.toStringTag:void 0;function BH(t){var e=VH.call(t,cu),n=t[cu];try{t[cu]=void 0;var r=!0}catch{}var i=$H.call(t);return r&&(e?t[cu]=n:delete t[cu]),i}var qH=BH,HH=Object.prototype,WH=HH.toString;function zH(t){return WH.call(t)}var YH=zH,uS=iw,KH=qH,GH=YH,QH="[object Null]",XH="[object Undefined]",cS=uS?uS.toStringTag:void 0;function JH(t){return t==null?t===void 0?XH:QH:cS&&cS in Object(t)?KH(t):GH(t)}var wm=JH;function ZH(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Sx=ZH,eW=wm,tW=Sx,nW="[object AsyncFunction]",rW="[object Function]",iW="[object GeneratorFunction]",oW="[object Proxy]";function sW(t){if(!tW(t))return!1;var e=eW(t);return e==rW||e==iW||e==nW||e==oW}var kx=sW,aW=Wi,lW=aW["__core-js_shared__"],uW=lW,Ug=uW,hS=function(){var t=/[^.]+$/.exec(Ug&&Ug.keys&&Ug.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function cW(t){return!!hS&&hS in t}var hW=cW,fW=Function.prototype,dW=fW.toString;function pW(t){if(t!=null){try{return dW.call(t)}catch{}try{return t+""}catch{}}return""}var Ix=pW,mW=kx,gW=hW,yW=Sx,vW=Ix,_W=/[\\^$.*+?()[\]{}|]/g,wW=/^\[object .+?Constructor\]$/,EW=Function.prototype,TW=Object.prototype,bW=EW.toString,SW=TW.hasOwnProperty,kW=RegExp("^"+bW.call(SW).replace(_W,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function IW(t){if(!yW(t)||gW(t))return!1;var e=mW(t)?kW:wW;return e.test(vW(t))}var CW=IW;function AW(t,e){return t==null?void 0:t[e]}var RW=AW,OW=CW,PW=RW;function NW(t,e){var n=PW(t,e);return OW(n)?n:void 0}var $l=NW,xW=$l,DW=Wi,MW=xW(DW,"Map"),ow=MW,LW=$l,FW=LW(Object,"create"),Em=FW,fS=Em;function jW(){this.__data__=fS?fS(null):{},this.size=0}var UW=jW;function VW(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var $W=VW,BW=Em,qW="__lodash_hash_undefined__",HW=Object.prototype,WW=HW.hasOwnProperty;function zW(t){var e=this.__data__;if(BW){var n=e[t];return n===qW?void 0:n}return WW.call(e,t)?e[t]:void 0}var YW=zW,KW=Em,GW=Object.prototype,QW=GW.hasOwnProperty;function XW(t){var e=this.__data__;return KW?e[t]!==void 0:QW.call(e,t)}var JW=XW,ZW=Em,e7="__lodash_hash_undefined__";function t7(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ZW&&e===void 0?e7:e,this}var n7=t7,r7=UW,i7=$W,o7=YW,s7=JW,a7=n7;function Bl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Bl.prototype.clear=r7;Bl.prototype.delete=i7;Bl.prototype.get=o7;Bl.prototype.has=s7;Bl.prototype.set=a7;var l7=Bl,dS=l7,u7=_m,c7=ow;function h7(){this.size=0,this.__data__={hash:new dS,map:new(c7||u7),string:new dS}}var f7=h7;function d7(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var p7=d7,m7=p7;function g7(t,e){var n=t.__data__;return m7(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Tm=g7,y7=Tm;function v7(t){var e=y7(this,t).delete(t);return this.size-=e?1:0,e}var _7=v7,w7=Tm;function E7(t){return w7(this,t).get(t)}var T7=E7,b7=Tm;function S7(t){return b7(this,t).has(t)}var k7=S7,I7=Tm;function C7(t,e){var n=I7(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var A7=C7,R7=f7,O7=_7,P7=T7,N7=k7,x7=A7;function ql(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ql.prototype.clear=R7;ql.prototype.delete=O7;ql.prototype.get=P7;ql.prototype.has=N7;ql.prototype.set=x7;var Cx=ql,D7=_m,M7=ow,L7=Cx,F7=200;function j7(t,e){var n=this.__data__;if(n instanceof D7){var r=n.__data__;if(!M7||r.length<F7-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new L7(r)}return n.set(t,e),this.size=n.size,this}var U7=j7,V7=_m,$7=CH,B7=RH,q7=PH,H7=xH,W7=U7;function Hl(t){var e=this.__data__=new V7(t);this.size=e.size}Hl.prototype.clear=$7;Hl.prototype.delete=B7;Hl.prototype.get=q7;Hl.prototype.has=H7;Hl.prototype.set=W7;var z7=Hl,Y7="__lodash_hash_undefined__";function K7(t){return this.__data__.set(t,Y7),this}var G7=K7;function Q7(t){return this.__data__.has(t)}var X7=Q7,J7=Cx,Z7=G7,ez=X7;function Bd(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new J7;++e<n;)this.add(t[e])}Bd.prototype.add=Bd.prototype.push=Z7;Bd.prototype.has=ez;var tz=Bd;function nz(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var rz=nz;function iz(t,e){return t.has(e)}var oz=iz,sz=tz,az=rz,lz=oz,uz=1,cz=2;function hz(t,e,n,r,i,o){var s=n&uz,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),h=o.get(e);if(u&&h)return u==e&&h==t;var c=-1,f=!0,d=n&cz?new sz:void 0;for(o.set(t,e),o.set(e,t);++c<a;){var g=t[c],y=e[c];if(r)var w=s?r(y,g,c,e,t,o):r(g,y,c,t,e,o);if(w!==void 0){if(w)continue;f=!1;break}if(d){if(!az(e,function(m,p){if(!lz(d,p)&&(g===m||i(g,m,n,r,o)))return d.push(p)})){f=!1;break}}else if(!(g===y||i(g,y,n,r,o))){f=!1;break}}return o.delete(t),o.delete(e),f}var Ax=hz,fz=Wi,dz=fz.Uint8Array,pz=dz;function mz(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var gz=mz;function yz(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var vz=yz,pS=iw,mS=pz,_z=Ex,wz=Ax,Ez=gz,Tz=vz,bz=1,Sz=2,kz="[object Boolean]",Iz="[object Date]",Cz="[object Error]",Az="[object Map]",Rz="[object Number]",Oz="[object RegExp]",Pz="[object Set]",Nz="[object String]",xz="[object Symbol]",Dz="[object ArrayBuffer]",Mz="[object DataView]",gS=pS?pS.prototype:void 0,Vg=gS?gS.valueOf:void 0;function Lz(t,e,n,r,i,o,s){switch(n){case Mz:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Dz:return!(t.byteLength!=e.byteLength||!o(new mS(t),new mS(e)));case kz:case Iz:case Rz:return _z(+t,+e);case Cz:return t.name==e.name&&t.message==e.message;case Oz:case Nz:return t==e+"";case Az:var a=Ez;case Pz:var l=r&bz;if(a||(a=Tz),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=Sz,s.set(t,e);var h=wz(a(t),a(e),r,i,o,s);return s.delete(t),h;case xz:if(Vg)return Vg.call(t)==Vg.call(e)}return!1}var Fz=Lz;function jz(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var Uz=jz,Vz=Array.isArray,sw=Vz,$z=Uz,Bz=sw;function qz(t,e,n){var r=e(t);return Bz(t)?r:$z(r,n(t))}var Hz=qz;function Wz(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var zz=Wz;function Yz(){return[]}var Kz=Yz,Gz=zz,Qz=Kz,Xz=Object.prototype,Jz=Xz.propertyIsEnumerable,yS=Object.getOwnPropertySymbols,Zz=yS?function(t){return t==null?[]:(t=Object(t),Gz(yS(t),function(e){return Jz.call(t,e)}))}:Qz,eY=Zz;function tY(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var nY=tY;function rY(t){return t!=null&&typeof t=="object"}var bm=rY,iY=wm,oY=bm,sY="[object Arguments]";function aY(t){return oY(t)&&iY(t)==sY}var lY=aY,vS=lY,uY=bm,Rx=Object.prototype,cY=Rx.hasOwnProperty,hY=Rx.propertyIsEnumerable,fY=vS(function(){return arguments}())?vS:function(t){return uY(t)&&cY.call(t,"callee")&&!hY.call(t,"callee")},dY=fY,qd={exports:{}};function pY(){return!1}var mY=pY;qd.exports;(function(t,e){var n=Wi,r=mY,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(qd,qd.exports);var Ox=qd.exports,gY=9007199254740991,yY=/^(?:0|[1-9]\d*)$/;function vY(t,e){var n=typeof t;return e=e??gY,!!e&&(n=="number"||n!="symbol"&&yY.test(t))&&t>-1&&t%1==0&&t<e}var _Y=vY,wY=9007199254740991;function EY(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=wY}var Px=EY,TY=wm,bY=Px,SY=bm,kY="[object Arguments]",IY="[object Array]",CY="[object Boolean]",AY="[object Date]",RY="[object Error]",OY="[object Function]",PY="[object Map]",NY="[object Number]",xY="[object Object]",DY="[object RegExp]",MY="[object Set]",LY="[object String]",FY="[object WeakMap]",jY="[object ArrayBuffer]",UY="[object DataView]",VY="[object Float32Array]",$Y="[object Float64Array]",BY="[object Int8Array]",qY="[object Int16Array]",HY="[object Int32Array]",WY="[object Uint8Array]",zY="[object Uint8ClampedArray]",YY="[object Uint16Array]",KY="[object Uint32Array]",ot={};ot[VY]=ot[$Y]=ot[BY]=ot[qY]=ot[HY]=ot[WY]=ot[zY]=ot[YY]=ot[KY]=!0;ot[kY]=ot[IY]=ot[jY]=ot[CY]=ot[UY]=ot[AY]=ot[RY]=ot[OY]=ot[PY]=ot[NY]=ot[xY]=ot[DY]=ot[MY]=ot[LY]=ot[FY]=!1;function GY(t){return SY(t)&&bY(t.length)&&!!ot[TY(t)]}var QY=GY;function XY(t){return function(e){return t(e)}}var JY=XY,Hd={exports:{}};Hd.exports;(function(t,e){var n=Tx,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(Hd,Hd.exports);var ZY=Hd.exports,eK=QY,tK=JY,_S=ZY,wS=_S&&_S.isTypedArray,nK=wS?tK(wS):eK,Nx=nK,rK=nY,iK=dY,oK=sw,sK=Ox,aK=_Y,lK=Nx,uK=Object.prototype,cK=uK.hasOwnProperty;function hK(t,e){var n=oK(t),r=!n&&iK(t),i=!n&&!r&&sK(t),o=!n&&!r&&!i&&lK(t),s=n||r||i||o,a=s?rK(t.length,String):[],l=a.length;for(var u in t)(e||cK.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||aK(u,l)))&&a.push(u);return a}var fK=hK,dK=Object.prototype;function pK(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||dK;return t===n}var mK=pK;function gK(t,e){return function(n){return t(e(n))}}var yK=gK,vK=yK,_K=vK(Object.keys,Object),wK=_K,EK=mK,TK=wK,bK=Object.prototype,SK=bK.hasOwnProperty;function kK(t){if(!EK(t))return TK(t);var e=[];for(var n in Object(t))SK.call(t,n)&&n!="constructor"&&e.push(n);return e}var IK=kK,CK=kx,AK=Px;function RK(t){return t!=null&&AK(t.length)&&!CK(t)}var OK=RK,PK=fK,NK=IK,xK=OK;function DK(t){return xK(t)?PK(t):NK(t)}var MK=DK,LK=Hz,FK=eY,jK=MK;function UK(t){return LK(t,jK,FK)}var VK=UK,ES=VK,$K=1,BK=Object.prototype,qK=BK.hasOwnProperty;function HK(t,e,n,r,i,o){var s=n&$K,a=ES(t),l=a.length,u=ES(e),h=u.length;if(l!=h&&!s)return!1;for(var c=l;c--;){var f=a[c];if(!(s?f in e:qK.call(e,f)))return!1}var d=o.get(t),g=o.get(e);if(d&&g)return d==e&&g==t;var y=!0;o.set(t,e),o.set(e,t);for(var w=s;++c<l;){f=a[c];var m=t[f],p=e[f];if(r)var _=s?r(p,m,f,e,t,o):r(m,p,f,t,e,o);if(!(_===void 0?m===p||i(m,p,n,r,o):_)){y=!1;break}w||(w=f=="constructor")}if(y&&!w){var v=t.constructor,E=e.constructor;v!=E&&"constructor"in t&&"constructor"in e&&!(typeof v=="function"&&v instanceof v&&typeof E=="function"&&E instanceof E)&&(y=!1)}return o.delete(t),o.delete(e),y}var WK=HK,zK=$l,YK=Wi,KK=zK(YK,"DataView"),GK=KK,QK=$l,XK=Wi,JK=QK(XK,"Promise"),ZK=JK,eG=$l,tG=Wi,nG=eG(tG,"Set"),rG=nG,iG=$l,oG=Wi,sG=iG(oG,"WeakMap"),aG=sG,Qv=GK,Xv=ow,Jv=ZK,Zv=rG,e_=aG,xx=wm,Wl=Ix,TS="[object Map]",lG="[object Object]",bS="[object Promise]",SS="[object Set]",kS="[object WeakMap]",IS="[object DataView]",uG=Wl(Qv),cG=Wl(Xv),hG=Wl(Jv),fG=Wl(Zv),dG=Wl(e_),ts=xx;(Qv&&ts(new Qv(new ArrayBuffer(1)))!=IS||Xv&&ts(new Xv)!=TS||Jv&&ts(Jv.resolve())!=bS||Zv&&ts(new Zv)!=SS||e_&&ts(new e_)!=kS)&&(ts=function(t){var e=xx(t),n=e==lG?t.constructor:void 0,r=n?Wl(n):"";if(r)switch(r){case uG:return IS;case cG:return TS;case hG:return bS;case fG:return SS;case dG:return kS}return e});var pG=ts,$g=z7,mG=Ax,gG=Fz,yG=WK,CS=pG,AS=sw,RS=Ox,vG=Nx,_G=1,OS="[object Arguments]",PS="[object Array]",ef="[object Object]",wG=Object.prototype,NS=wG.hasOwnProperty;function EG(t,e,n,r,i,o){var s=AS(t),a=AS(e),l=s?PS:CS(t),u=a?PS:CS(e);l=l==OS?ef:l,u=u==OS?ef:u;var h=l==ef,c=u==ef,f=l==u;if(f&&RS(t)){if(!RS(e))return!1;s=!0,h=!1}if(f&&!h)return o||(o=new $g),s||vG(t)?mG(t,e,n,r,i,o):gG(t,e,l,n,r,i,o);if(!(n&_G)){var d=h&&NS.call(t,"__wrapped__"),g=c&&NS.call(e,"__wrapped__");if(d||g){var y=d?t.value():t,w=g?e.value():e;return o||(o=new $g),i(y,w,n,r,o)}}return f?(o||(o=new $g),yG(t,e,n,r,i,o)):!1}var TG=EG,bG=TG,xS=bm;function Dx(t,e,n,r,i){return t===e?!0:t==null||e==null||!xS(t)&&!xS(e)?t!==t&&e!==e:bG(t,e,n,r,Dx,i)}var SG=Dx,kG=SG;function IG(t,e){return kG(t,e)}var CG=IG,Mx={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:Qn,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:a})},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=109)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(17),s=i(18),a=i(19),l=i(45),u=i(46),h=i(47),c=i(48),f=i(49),d=i(12),g=i(32),y=i(33),w=i(31),m=i(1),p={Scope:m.Scope,create:m.create,find:m.find,query:m.query,register:m.register,Container:o.default,Format:s.default,Leaf:a.default,Embed:c.default,Scroll:l.default,Block:h.default,Inline:u.default,Text:f.default,Attributor:{Attribute:d.default,Class:g.default,Style:y.default,Store:w.default}};r.default=p},function(n,r,i){var o=this&&this.__extends||function(){var w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,p){m.__proto__=p}||function(m,p){for(var _ in p)p.hasOwnProperty(_)&&(m[_]=p[_])};return function(m,p){w(m,p);function _(){this.constructor=m}m.prototype=p===null?Object.create(p):(_.prototype=p.prototype,new _)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=function(w){o(m,w);function m(p){var _=this;return p="[Parchment] "+p,_=w.call(this,p)||this,_.message=p,_.name=_.constructor.name,_}return m}(Error);r.ParchmentError=s;var a={},l={},u={},h={};r.DATA_KEY="__blot";var c;(function(w){w[w.TYPE=3]="TYPE",w[w.LEVEL=12]="LEVEL",w[w.ATTRIBUTE=13]="ATTRIBUTE",w[w.BLOT=14]="BLOT",w[w.INLINE=7]="INLINE",w[w.BLOCK=11]="BLOCK",w[w.BLOCK_BLOT=10]="BLOCK_BLOT",w[w.INLINE_BLOT=6]="INLINE_BLOT",w[w.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",w[w.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",w[w.ANY=15]="ANY"})(c=r.Scope||(r.Scope={}));function f(w,m){var p=g(w);if(p==null)throw new s("Unable to create "+w+" blot");var _=p,v=w instanceof Node||w.nodeType===Node.TEXT_NODE?w:_.create(m);return new _(v,m)}r.create=f;function d(w,m){return m===void 0&&(m=!1),w==null?null:w[r.DATA_KEY]!=null?w[r.DATA_KEY].blot:m?d(w.parentNode,m):null}r.find=d;function g(w,m){m===void 0&&(m=c.ANY);var p;if(typeof w=="string")p=h[w]||a[w];else if(w instanceof Text||w.nodeType===Node.TEXT_NODE)p=h.text;else if(typeof w=="number")w&c.LEVEL&c.BLOCK?p=h.block:w&c.LEVEL&c.INLINE&&(p=h.inline);else if(w instanceof HTMLElement){var _=(w.getAttribute("class")||"").split(/\s+/);for(var v in _)if(p=l[_[v]],p)break;p=p||u[w.tagName]}return p==null?null:m&c.LEVEL&p.scope&&m&c.TYPE&p.scope?p:null}r.query=g;function y(){for(var w=[],m=0;m<arguments.length;m++)w[m]=arguments[m];if(w.length>1)return w.map(function(v){return y(v)});var p=w[0];if(typeof p.blotName!="string"&&typeof p.attrName!="string")throw new s("Invalid definition");if(p.blotName==="abstract")throw new s("Cannot register abstract class");if(h[p.blotName||p.attrName]=p,typeof p.keyName=="string")a[p.keyName]=p;else if(p.className!=null&&(l[p.className]=p),p.tagName!=null){Array.isArray(p.tagName)?p.tagName=p.tagName.map(function(v){return v.toUpperCase()}):p.tagName=p.tagName.toUpperCase();var _=Array.isArray(p.tagName)?p.tagName:[p.tagName];_.forEach(function(v){(u[v]==null||p.className==null)&&(u[v]=p)})}return p}r.register=y},function(n,r,i){var o=i(51),s=i(11),a=i(3),l=i(20),u="\0",h=function(c){Array.isArray(c)?this.ops=c:c!=null&&Array.isArray(c.ops)?this.ops=c.ops:this.ops=[]};h.prototype.insert=function(c,f){var d={};return c.length===0?this:(d.insert=c,f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(d.attributes=f),this.push(d))},h.prototype.delete=function(c){return c<=0?this:this.push({delete:c})},h.prototype.retain=function(c,f){if(c<=0)return this;var d={retain:c};return f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(d.attributes=f),this.push(d)},h.prototype.push=function(c){var f=this.ops.length,d=this.ops[f-1];if(c=a(!0,{},c),typeof d=="object"){if(typeof c.delete=="number"&&typeof d.delete=="number")return this.ops[f-1]={delete:d.delete+c.delete},this;if(typeof d.delete=="number"&&c.insert!=null&&(f-=1,d=this.ops[f-1],typeof d!="object"))return this.ops.unshift(c),this;if(s(c.attributes,d.attributes)){if(typeof c.insert=="string"&&typeof d.insert=="string")return this.ops[f-1]={insert:d.insert+c.insert},typeof c.attributes=="object"&&(this.ops[f-1].attributes=c.attributes),this;if(typeof c.retain=="number"&&typeof d.retain=="number")return this.ops[f-1]={retain:d.retain+c.retain},typeof c.attributes=="object"&&(this.ops[f-1].attributes=c.attributes),this}}return f===this.ops.length?this.ops.push(c):this.ops.splice(f,0,c),this},h.prototype.chop=function(){var c=this.ops[this.ops.length-1];return c&&c.retain&&!c.attributes&&this.ops.pop(),this},h.prototype.filter=function(c){return this.ops.filter(c)},h.prototype.forEach=function(c){this.ops.forEach(c)},h.prototype.map=function(c){return this.ops.map(c)},h.prototype.partition=function(c){var f=[],d=[];return this.forEach(function(g){var y=c(g)?f:d;y.push(g)}),[f,d]},h.prototype.reduce=function(c,f){return this.ops.reduce(c,f)},h.prototype.changeLength=function(){return this.reduce(function(c,f){return f.insert?c+l.length(f):f.delete?c-f.delete:c},0)},h.prototype.length=function(){return this.reduce(function(c,f){return c+l.length(f)},0)},h.prototype.slice=function(c,f){c=c||0,typeof f!="number"&&(f=1/0);for(var d=[],g=l.iterator(this.ops),y=0;y<f&&g.hasNext();){var w;y<c?w=g.next(c-y):(w=g.next(f-y),d.push(w)),y+=l.length(w)}return new h(d)},h.prototype.compose=function(c){var f=l.iterator(this.ops),d=l.iterator(c.ops),g=[],y=d.peek();if(y!=null&&typeof y.retain=="number"&&y.attributes==null){for(var w=y.retain;f.peekType()==="insert"&&f.peekLength()<=w;)w-=f.peekLength(),g.push(f.next());y.retain-w>0&&d.next(y.retain-w)}for(var m=new h(g);f.hasNext()||d.hasNext();)if(d.peekType()==="insert")m.push(d.next());else if(f.peekType()==="delete")m.push(f.next());else{var p=Math.min(f.peekLength(),d.peekLength()),_=f.next(p),v=d.next(p);if(typeof v.retain=="number"){var E={};typeof _.retain=="number"?E.retain=p:E.insert=_.insert;var I=l.attributes.compose(_.attributes,v.attributes,typeof _.retain=="number");if(I&&(E.attributes=I),m.push(E),!d.hasNext()&&s(m.ops[m.ops.length-1],E)){var T=new h(f.rest());return m.concat(T).chop()}}else typeof v.delete=="number"&&typeof _.retain=="number"&&m.push(v)}return m.chop()},h.prototype.concat=function(c){var f=new h(this.ops.slice());return c.ops.length>0&&(f.push(c.ops[0]),f.ops=f.ops.concat(c.ops.slice(1))),f},h.prototype.diff=function(c,f){if(this.ops===c.ops)return new h;var d=[this,c].map(function(p){return p.map(function(_){if(_.insert!=null)return typeof _.insert=="string"?_.insert:u;var v=p===c?"on":"with";throw new Error("diff() called "+v+" non-document")}).join("")}),g=new h,y=o(d[0],d[1],f),w=l.iterator(this.ops),m=l.iterator(c.ops);return y.forEach(function(p){for(var _=p[1].length;_>0;){var v=0;switch(p[0]){case o.INSERT:v=Math.min(m.peekLength(),_),g.push(m.next(v));break;case o.DELETE:v=Math.min(_,w.peekLength()),w.next(v),g.delete(v);break;case o.EQUAL:v=Math.min(w.peekLength(),m.peekLength(),_);var E=w.next(v),I=m.next(v);s(E.insert,I.insert)?g.retain(v,l.attributes.diff(E.attributes,I.attributes)):g.push(I).delete(v);break}_-=v}}),g.chop()},h.prototype.eachLine=function(c,f){f=f||`
`;for(var d=l.iterator(this.ops),g=new h,y=0;d.hasNext();){if(d.peekType()!=="insert")return;var w=d.peek(),m=l.length(w)-d.peekLength(),p=typeof w.insert=="string"?w.insert.indexOf(f,m)-m:-1;if(p<0)g.push(d.next());else if(p>0)g.push(d.next(p));else{if(c(g,d.next(1).attributes||{},y)===!1)return;y+=1,g=new h}}g.length()>0&&c(g,{},y)},h.prototype.transform=function(c,f){if(f=!!f,typeof c=="number")return this.transformPosition(c,f);for(var d=l.iterator(this.ops),g=l.iterator(c.ops),y=new h;d.hasNext()||g.hasNext();)if(d.peekType()==="insert"&&(f||g.peekType()!=="insert"))y.retain(l.length(d.next()));else if(g.peekType()==="insert")y.push(g.next());else{var w=Math.min(d.peekLength(),g.peekLength()),m=d.next(w),p=g.next(w);if(m.delete)continue;p.delete?y.push(p):y.retain(w,l.attributes.transform(m.attributes,p.attributes,f))}return y.chop()},h.prototype.transformPosition=function(c,f){f=!!f;for(var d=l.iterator(this.ops),g=0;d.hasNext()&&g<=c;){var y=d.peekLength(),w=d.peekType();if(d.next(),w==="delete"){c-=Math.min(y,c-g);continue}else w==="insert"&&(g<c||!f)&&(c+=y);g+=y}return c},n.exports=h},function(n,r){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=function(d){return typeof Array.isArray=="function"?Array.isArray(d):o.call(d)==="[object Array]"},u=function(d){if(!d||o.call(d)!=="[object Object]")return!1;var g=i.call(d,"constructor"),y=d.constructor&&d.constructor.prototype&&i.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!g&&!y)return!1;var w;for(w in d);return typeof w>"u"||i.call(d,w)},h=function(d,g){s&&g.name==="__proto__"?s(d,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):d[g.name]=g.newValue},c=function(d,g){if(g==="__proto__")if(i.call(d,g)){if(a)return a(d,g).value}else return;return d[g]};n.exports=function f(){var d,g,y,w,m,p,_=arguments[0],v=1,E=arguments.length,I=!1;for(typeof _=="boolean"&&(I=_,_=arguments[1]||{},v=2),(_==null||typeof _!="object"&&typeof _!="function")&&(_={});v<E;++v)if(d=arguments[v],d!=null)for(g in d)y=c(_,g),w=c(d,g),_!==w&&(I&&w&&(u(w)||(m=l(w)))?(m?(m=!1,p=y&&l(y)?y:[]):p=y&&u(y)?y:{},h(_,{name:g,newValue:f(I,p,w)})):typeof w<"u"&&h(_,{name:g,newValue:w}));return _}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var o=function(){function k(C,R){for(var P=0;P<R.length;P++){var j=R[P];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(C,j.key,j)}}return function(C,R,P){return R&&k(C.prototype,R),P&&k(C,P),C}}(),s=function k(C,R,P){C===null&&(C=Function.prototype);var j=Object.getOwnPropertyDescriptor(C,R);if(j===void 0){var H=Object.getPrototypeOf(C);return H===null?void 0:k(H,R,P)}else{if("value"in j)return j.value;var B=j.get;return B===void 0?void 0:B.call(P)}},a=i(3),l=_(a),u=i(2),h=_(u),c=i(0),f=_(c),d=i(16),g=_(d),y=i(6),w=_(y),m=i(7),p=_(m);function _(k){return k&&k.__esModule?k:{default:k}}function v(k,C){if(!(k instanceof C))throw new TypeError("Cannot call a class as a function")}function E(k,C){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:k}function I(k,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);k.prototype=Object.create(C&&C.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(k,C):k.__proto__=C)}var T=1,b=function(k){I(C,k);function C(){return v(this,C),E(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return o(C,[{key:"attach",value:function(){s(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"attach",this).call(this),this.attributes=new f.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new h.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(P,j){var H=f.default.query(P,f.default.Scope.BLOCK_ATTRIBUTE);H!=null&&this.attributes.attribute(H,j)}},{key:"formatAt",value:function(P,j,H,B){this.format(H,B)}},{key:"insertAt",value:function(P,j,H){if(typeof j=="string"&&j.endsWith(`
`)){var B=f.default.create(O.blotName);this.parent.insertBefore(B,P===0?this:this.next),B.insertAt(0,j.slice(0,-1))}else s(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"insertAt",this).call(this,P,j,H)}}]),C}(f.default.Embed);b.scope=f.default.Scope.BLOCK_BLOT;var O=function(k){I(C,k);function C(R){v(this,C);var P=E(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,R));return P.cache={},P}return o(C,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(f.default.Leaf).reduce(function(P,j){return j.length()===0?P:P.insert(j.value(),S(j))},new h.default).insert(`
`,S(this))),this.cache.delta}},{key:"deleteAt",value:function(P,j){s(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"deleteAt",this).call(this,P,j),this.cache={}}},{key:"formatAt",value:function(P,j,H,B){j<=0||(f.default.query(H,f.default.Scope.BLOCK)?P+j===this.length()&&this.format(H,B):s(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"formatAt",this).call(this,P,Math.min(j,this.length()-P-1),H,B),this.cache={})}},{key:"insertAt",value:function(P,j,H){if(H!=null)return s(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"insertAt",this).call(this,P,j,H);if(j.length!==0){var B=j.split(`
`),K=B.shift();K.length>0&&(P<this.length()-1||this.children.tail==null?s(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"insertAt",this).call(this,Math.min(P,this.length()-1),K):this.children.tail.insertAt(this.children.tail.length(),K),this.cache={});var U=this;B.reduce(function(M,A){return U=U.split(M,!0),U.insertAt(0,A),A.length},P+K.length)}}},{key:"insertBefore",value:function(P,j){var H=this.children.head;s(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"insertBefore",this).call(this,P,j),H instanceof g.default&&H.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=s(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"length",this).call(this)+T),this.cache.length}},{key:"moveChildren",value:function(P,j){s(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"moveChildren",this).call(this,P,j),this.cache={}}},{key:"optimize",value:function(P){s(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"optimize",this).call(this,P),this.cache={}}},{key:"path",value:function(P){return s(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"path",this).call(this,P,!0)}},{key:"removeChild",value:function(P){s(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"removeChild",this).call(this,P),this.cache={}}},{key:"split",value:function(P){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(j&&(P===0||P>=this.length()-T)){var H=this.clone();return P===0?(this.parent.insertBefore(H,this),this):(this.parent.insertBefore(H,this.next),H)}else{var B=s(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"split",this).call(this,P,j);return this.cache={},B}}}]),C}(f.default.Block);O.blotName="block",O.tagName="P",O.defaultChild="break",O.allowedChildren=[w.default,f.default.Embed,p.default];function S(k){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return k==null||(typeof k.formats=="function"&&(C=(0,l.default)(C,k.formats())),k.parent==null||k.parent.blotName=="scroll"||k.parent.statics.scope!==k.statics.scope)?C:S(k.parent,C)}r.bubbleFormats=S,r.BlockEmbed=b,r.default=O},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},s=function(){function U(M,A){var D=[],F=!0,Y=!1,W=void 0;try{for(var x=M[Symbol.iterator](),$;!(F=($=x.next()).done)&&(D.push($.value),!(A&&D.length===A));F=!0);}catch(Q){Y=!0,W=Q}finally{try{!F&&x.return&&x.return()}finally{if(Y)throw W}}return D}return function(M,A){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return U(M,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function U(M,A){for(var D=0;D<A.length;D++){var F=A[D];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(M,F.key,F)}}return function(M,A,D){return A&&U(M.prototype,A),D&&U(M,D),M}}();i(50);var l=i(2),u=S(l),h=i(14),c=S(h),f=i(8),d=S(f),g=i(9),y=S(g),w=i(0),m=S(w),p=i(15),_=S(p),v=i(3),E=S(v),I=i(10),T=S(I),b=i(34),O=S(b);function S(U){return U&&U.__esModule?U:{default:U}}function k(U,M,A){return M in U?Object.defineProperty(U,M,{value:A,enumerable:!0,configurable:!0,writable:!0}):U[M]=A,U}function C(U,M){if(!(U instanceof M))throw new TypeError("Cannot call a class as a function")}var R=(0,T.default)("quill"),P=function(){a(U,null,[{key:"debug",value:function(A){A===!0&&(A="log"),T.default.level(A)}},{key:"find",value:function(A){return A.__quill||m.default.find(A)}},{key:"import",value:function(A){return this.imports[A]==null&&R.error("Cannot import "+A+". Are you sure it was registered?"),this.imports[A]}},{key:"register",value:function(A,D){var F=this,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof A!="string"){var W=A.attrName||A.blotName;typeof W=="string"?this.register("formats/"+W,A,D):Object.keys(A).forEach(function(x){F.register(x,A[x],D)})}else this.imports[A]!=null&&!Y&&R.warn("Overwriting "+A+" with",D),this.imports[A]=D,(A.startsWith("blots/")||A.startsWith("formats/"))&&D.blotName!=="abstract"?m.default.register(D):A.startsWith("modules")&&typeof D.register=="function"&&D.register()}}]);function U(M){var A=this,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(C(this,U),this.options=j(M,D),this.container=this.options.container,this.container==null)return R.error("Invalid Quill container",M);this.options.debug&&U.debug(this.options.debug);var F=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new d.default,this.scroll=m.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new c.default(this.scroll),this.selection=new _.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(d.default.events.EDITOR_CHANGE,function(W){W===d.default.events.TEXT_CHANGE&&A.root.classList.toggle("ql-blank",A.editor.isBlank())}),this.emitter.on(d.default.events.SCROLL_UPDATE,function(W,x){var $=A.selection.lastRange,Q=$&&$.length===0?$.index:void 0;H.call(A,function(){return A.editor.update(null,x,Q)},W)});var Y=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+F+"<p><br></p></div>");this.setContents(Y),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return a(U,[{key:"addContainer",value:function(A){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof A=="string"){var F=A;A=document.createElement("div"),A.classList.add(F)}return this.container.insertBefore(A,D),A}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(A,D,F){var Y=this,W=B(A,D,F),x=s(W,4);return A=x[0],D=x[1],F=x[3],H.call(this,function(){return Y.editor.deleteText(A,D)},F,A,-1*D)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(A),this.container.classList.toggle("ql-disabled",!A)}},{key:"focus",value:function(){var A=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=A,this.scrollIntoView()}},{key:"format",value:function(A,D){var F=this,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:d.default.sources.API;return H.call(this,function(){var W=F.getSelection(!0),x=new u.default;if(W==null)return x;if(m.default.query(A,m.default.Scope.BLOCK))x=F.editor.formatLine(W.index,W.length,k({},A,D));else{if(W.length===0)return F.selection.format(A,D),x;x=F.editor.formatText(W.index,W.length,k({},A,D))}return F.setSelection(W,d.default.sources.SILENT),x},Y)}},{key:"formatLine",value:function(A,D,F,Y,W){var x=this,$=void 0,Q=B(A,D,F,Y,W),X=s(Q,4);return A=X[0],D=X[1],$=X[2],W=X[3],H.call(this,function(){return x.editor.formatLine(A,D,$)},W,A,0)}},{key:"formatText",value:function(A,D,F,Y,W){var x=this,$=void 0,Q=B(A,D,F,Y,W),X=s(Q,4);return A=X[0],D=X[1],$=X[2],W=X[3],H.call(this,function(){return x.editor.formatText(A,D,$)},W,A,0)}},{key:"getBounds",value:function(A){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,F=void 0;typeof A=="number"?F=this.selection.getBounds(A,D):F=this.selection.getBounds(A.index,A.length);var Y=this.container.getBoundingClientRect();return{bottom:F.bottom-Y.top,height:F.height,left:F.left-Y.left,right:F.right-Y.left,top:F.top-Y.top,width:F.width}}},{key:"getContents",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-A,F=B(A,D),Y=s(F,2);return A=Y[0],D=Y[1],this.editor.getContents(A,D)}},{key:"getFormat",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof A=="number"?this.editor.getFormat(A,D):this.editor.getFormat(A.index,A.length)}},{key:"getIndex",value:function(A){return A.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(A){return this.scroll.leaf(A)}},{key:"getLine",value:function(A){return this.scroll.line(A)}},{key:"getLines",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof A!="number"?this.scroll.lines(A.index,A.length):this.scroll.lines(A,D)}},{key:"getModule",value:function(A){return this.theme.modules[A]}},{key:"getSelection",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return A&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-A,F=B(A,D),Y=s(F,2);return A=Y[0],D=Y[1],this.editor.getText(A,D)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(A,D,F){var Y=this,W=arguments.length>3&&arguments[3]!==void 0?arguments[3]:U.sources.API;return H.call(this,function(){return Y.editor.insertEmbed(A,D,F)},W,A)}},{key:"insertText",value:function(A,D,F,Y,W){var x=this,$=void 0,Q=B(A,0,F,Y,W),X=s(Q,4);return A=X[0],$=X[2],W=X[3],H.call(this,function(){return x.editor.insertText(A,D,$)},W,A,D.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(A,D,F){this.clipboard.dangerouslyPasteHTML(A,D,F)}},{key:"removeFormat",value:function(A,D,F){var Y=this,W=B(A,D,F),x=s(W,4);return A=x[0],D=x[1],F=x[3],H.call(this,function(){return Y.editor.removeFormat(A,D)},F,A)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(A){var D=this,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.default.sources.API;return H.call(this,function(){A=new u.default(A);var Y=D.getLength(),W=D.editor.deleteText(0,Y),x=D.editor.applyDelta(A),$=x.ops[x.ops.length-1];$!=null&&typeof $.insert=="string"&&$.insert[$.insert.length-1]===`
`&&(D.editor.deleteText(D.getLength()-1,1),x.delete(1));var Q=W.compose(x);return Q},F)}},{key:"setSelection",value:function(A,D,F){if(A==null)this.selection.setRange(null,D||U.sources.API);else{var Y=B(A,D,F),W=s(Y,4);A=W[0],D=W[1],F=W[3],this.selection.setRange(new p.Range(A,D),F),F!==d.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(A){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.default.sources.API,F=new u.default().insert(A);return this.setContents(F,D)}},{key:"update",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d.default.sources.USER,D=this.scroll.update(A);return this.selection.update(A),D}},{key:"updateContents",value:function(A){var D=this,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.default.sources.API;return H.call(this,function(){return A=new u.default(A),D.editor.applyDelta(A,F)},F,!0)}}]),U}();P.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},P.events=d.default.events,P.sources=d.default.sources,P.version="1.3.7",P.imports={delta:u.default,parchment:m.default,"core/module":y.default,"core/theme":O.default};function j(U,M){if(M=(0,E.default)(!0,{container:U,modules:{clipboard:!0,keyboard:!0,history:!0}},M),!M.theme||M.theme===P.DEFAULTS.theme)M.theme=O.default;else if(M.theme=P.import("themes/"+M.theme),M.theme==null)throw new Error("Invalid theme "+M.theme+". Did you register it?");var A=(0,E.default)(!0,{},M.theme.DEFAULTS);[A,M].forEach(function(Y){Y.modules=Y.modules||{},Object.keys(Y.modules).forEach(function(W){Y.modules[W]===!0&&(Y.modules[W]={})})});var D=Object.keys(A.modules).concat(Object.keys(M.modules)),F=D.reduce(function(Y,W){var x=P.import("modules/"+W);return x==null?R.error("Cannot load "+W+" module. Are you sure you registered it?"):Y[W]=x.DEFAULTS||{},Y},{});return M.modules!=null&&M.modules.toolbar&&M.modules.toolbar.constructor!==Object&&(M.modules.toolbar={container:M.modules.toolbar}),M=(0,E.default)(!0,{},P.DEFAULTS,{modules:F},A,M),["bounds","container","scrollingContainer"].forEach(function(Y){typeof M[Y]=="string"&&(M[Y]=document.querySelector(M[Y]))}),M.modules=Object.keys(M.modules).reduce(function(Y,W){return M.modules[W]&&(Y[W]=M.modules[W]),Y},{}),M}function H(U,M,A,D){if(this.options.strict&&!this.isEnabled()&&M===d.default.sources.USER)return new u.default;var F=A==null?null:this.getSelection(),Y=this.editor.delta,W=U();if(F!=null&&(A===!0&&(A=F.index),D==null?F=K(F,W,M):D!==0&&(F=K(F,A,D,M)),this.setSelection(F,d.default.sources.SILENT)),W.length()>0){var x,$=[d.default.events.TEXT_CHANGE,W,Y,M];if((x=this.emitter).emit.apply(x,[d.default.events.EDITOR_CHANGE].concat($)),M!==d.default.sources.SILENT){var Q;(Q=this.emitter).emit.apply(Q,$)}}return W}function B(U,M,A,D,F){var Y={};return typeof U.index=="number"&&typeof U.length=="number"?typeof M!="number"?(F=D,D=A,A=M,M=U.length,U=U.index):(M=U.length,U=U.index):typeof M!="number"&&(F=D,D=A,A=M,M=0),(typeof A>"u"?"undefined":o(A))==="object"?(Y=A,F=D):typeof A=="string"&&(D!=null?Y[A]=D:F=A),F=F||d.default.sources.API,[U,M,Y,F]}function K(U,M,A,D){if(U==null)return null;var F=void 0,Y=void 0;if(M instanceof u.default){var W=[U.index,U.index+U.length].map(function(X){return M.transformPosition(X,D!==d.default.sources.USER)}),x=s(W,2);F=x[0],Y=x[1]}else{var $=[U.index,U.index+U.length].map(function(X){return X<M||X===M&&D===d.default.sources.USER?X:A>=0?X+A:Math.max(M,X+A)}),Q=s($,2);F=Q[0],Y=Q[1]}return new p.Range(F,Y-F)}r.expandConfig=j,r.overload=B,r.default=P},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function w(m,p){for(var _=0;_<p.length;_++){var v=p[_];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,v.key,v)}}return function(m,p,_){return p&&w(m.prototype,p),_&&w(m,_),m}}(),s=function w(m,p,_){m===null&&(m=Function.prototype);var v=Object.getOwnPropertyDescriptor(m,p);if(v===void 0){var E=Object.getPrototypeOf(m);return E===null?void 0:w(E,p,_)}else{if("value"in v)return v.value;var I=v.get;return I===void 0?void 0:I.call(_)}},a=i(7),l=c(a),u=i(0),h=c(u);function c(w){return w&&w.__esModule?w:{default:w}}function f(w,m){if(!(w instanceof m))throw new TypeError("Cannot call a class as a function")}function d(w,m){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:w}function g(w,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);w.prototype=Object.create(m&&m.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(w,m):w.__proto__=m)}var y=function(w){g(m,w);function m(){return f(this,m),d(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"formatAt",value:function(_,v,E,I){if(m.compare(this.statics.blotName,E)<0&&h.default.query(E,h.default.Scope.BLOT)){var T=this.isolate(_,v);I&&T.wrap(E,I)}else s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"formatAt",this).call(this,_,v,E,I)}},{key:"optimize",value:function(_){if(s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"optimize",this).call(this,_),this.parent instanceof m&&m.compare(this.statics.blotName,this.parent.statics.blotName)>0){var v=this.parent.isolate(this.offset(),this.length());this.moveChildren(v),v.wrap(this)}}}],[{key:"compare",value:function(_,v){var E=m.order.indexOf(_),I=m.order.indexOf(v);return E>=0||I>=0?E-I:_===v?0:_<v?-1:1}}]),m}(h.default.Inline);y.allowedChildren=[y,h.default.Embed,l.default],y.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function u(f,d){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:f}function h(f,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);f.prototype=Object.create(d&&d.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(f,d):f.__proto__=d)}var c=function(f){h(d,f);function d(){return l(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default.Text);r.default=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(_,v){for(var E=0;E<v.length;E++){var I=v[E];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(_,I.key,I)}}return function(_,v,E){return v&&p(_.prototype,v),E&&p(_,E),_}}(),s=function p(_,v,E){_===null&&(_=Function.prototype);var I=Object.getOwnPropertyDescriptor(_,v);if(I===void 0){var T=Object.getPrototypeOf(_);return T===null?void 0:p(T,v,E)}else{if("value"in I)return I.value;var b=I.get;return b===void 0?void 0:b.call(E)}},a=i(54),l=c(a),u=i(10),h=c(u);function c(p){return p&&p.__esModule?p:{default:p}}function f(p,_){if(!(p instanceof _))throw new TypeError("Cannot call a class as a function")}function d(p,_){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:p}function g(p,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);p.prototype=Object.create(_&&_.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(p,_):p.__proto__=_)}var y=(0,h.default)("quill:events"),w=["selectionchange","mousedown","mouseup","click"];w.forEach(function(p){document.addEventListener(p,function(){for(var _=arguments.length,v=Array(_),E=0;E<_;E++)v[E]=arguments[E];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(I){if(I.__quill&&I.__quill.emitter){var T;(T=I.__quill.emitter).handleDOM.apply(T,v)}})})});var m=function(p){g(_,p);function _(){f(this,_);var v=d(this,(_.__proto__||Object.getPrototypeOf(_)).call(this));return v.listeners={},v.on("error",y.error),v}return o(_,[{key:"emit",value:function(){y.log.apply(y,arguments),s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(E){for(var I=arguments.length,T=Array(I>1?I-1:0),b=1;b<I;b++)T[b-1]=arguments[b];(this.listeners[E.type]||[]).forEach(function(O){var S=O.node,k=O.handler;(E.target===S||S.contains(E.target))&&k.apply(void 0,[E].concat(T))})}},{key:"listenDOM",value:function(E,I,T){this.listeners[E]||(this.listeners[E]=[]),this.listeners[E].push({node:I,handler:T})}}]),_}(l.default);m.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},m.sources={API:"api",SILENT:"silent",USER:"user"},r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function o(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var s=function a(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,a),this.quill=l,this.options=u};s.DEFAULTS={},r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=["error","warn","log","info"],s="warn";function a(u){if(o.indexOf(u)<=o.indexOf(s)){for(var h,c=arguments.length,f=Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];(h=console)[u].apply(h,f)}}function l(u){return o.reduce(function(h,c){return h[c]=a.bind(console,c,u),h},{})}a.level=l.level=function(u){s=u},r.default=l},function(n,r,i){var o=Array.prototype.slice,s=i(52),a=i(53),l=n.exports=function(f,d,g){return g||(g={}),f===d?!0:f instanceof Date&&d instanceof Date?f.getTime()===d.getTime():!f||!d||typeof f!="object"&&typeof d!="object"?g.strict?f===d:f==d:c(f,d,g)};function u(f){return f==null}function h(f){return!(!f||typeof f!="object"||typeof f.length!="number"||typeof f.copy!="function"||typeof f.slice!="function"||f.length>0&&typeof f[0]!="number")}function c(f,d,g){var y,w;if(u(f)||u(d)||f.prototype!==d.prototype)return!1;if(a(f))return a(d)?(f=o.call(f),d=o.call(d),l(f,d,g)):!1;if(h(f)){if(!h(d)||f.length!==d.length)return!1;for(y=0;y<f.length;y++)if(f[y]!==d[y])return!1;return!0}try{var m=s(f),p=s(d)}catch{return!1}if(m.length!=p.length)return!1;for(m.sort(),p.sort(),y=m.length-1;y>=0;y--)if(m[y]!=p[y])return!1;for(y=m.length-1;y>=0;y--)if(w=m[y],!l(f[w],d[w],g))return!1;return typeof f==typeof d}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l,u,h){h===void 0&&(h={}),this.attrName=l,this.keyName=u;var c=o.Scope.TYPE&o.Scope.ATTRIBUTE;h.scope!=null?this.scope=h.scope&o.Scope.LEVEL|c:this.scope=o.Scope.ATTRIBUTE,h.whitelist!=null&&(this.whitelist=h.whitelist)}return a.keys=function(l){return[].map.call(l.attributes,function(u){return u.name})},a.prototype.add=function(l,u){return this.canAdd(l,u)?(l.setAttribute(this.keyName,u),!0):!1},a.prototype.canAdd=function(l,u){var h=o.query(l,o.Scope.BLOT&(this.scope|o.Scope.TYPE));return h==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},a.prototype.remove=function(l){l.removeAttribute(this.keyName)},a.prototype.value=function(l){var u=l.getAttribute(this.keyName);return this.canAdd(l,u)&&u?u:""},a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var o=function(){function b(O,S){var k=[],C=!0,R=!1,P=void 0;try{for(var j=O[Symbol.iterator](),H;!(C=(H=j.next()).done)&&(k.push(H.value),!(S&&k.length===S));C=!0);}catch(B){R=!0,P=B}finally{try{!C&&j.return&&j.return()}finally{if(R)throw P}}return k}return function(O,S){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return b(O,S);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function b(O,S){for(var k=0;k<S.length;k++){var C=S[k];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(O,C.key,C)}}return function(O,S,k){return S&&b(O.prototype,S),k&&b(O,k),O}}(),a=function b(O,S,k){O===null&&(O=Function.prototype);var C=Object.getOwnPropertyDescriptor(O,S);if(C===void 0){var R=Object.getPrototypeOf(O);return R===null?void 0:b(R,S,k)}else{if("value"in C)return C.value;var P=C.get;return P===void 0?void 0:P.call(k)}},l=i(2),u=p(l),h=i(0),c=p(h),f=i(4),d=p(f),g=i(6),y=p(g),w=i(7),m=p(w);function p(b){return b&&b.__esModule?b:{default:b}}function _(b,O){if(!(b instanceof O))throw new TypeError("Cannot call a class as a function")}function v(b,O){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:b}function E(b,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);b.prototype=Object.create(O&&O.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(b,O):b.__proto__=O)}var I=function(b){E(O,b);function O(){return _(this,O),v(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return O}(y.default);I.blotName="code",I.tagName="CODE";var T=function(b){E(O,b);function O(){return _(this,O),v(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return s(O,[{key:"delta",value:function(){var k=this,C=this.domNode.textContent;return C.endsWith(`
`)&&(C=C.slice(0,-1)),C.split(`
`).reduce(function(R,P){return R.insert(P).insert(`
`,k.formats())},new u.default)}},{key:"format",value:function(k,C){if(!(k===this.statics.blotName&&C)){var R=this.descendant(m.default,this.length()-1),P=o(R,1),j=P[0];j!=null&&j.deleteAt(j.length()-1,1),a(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"format",this).call(this,k,C)}}},{key:"formatAt",value:function(k,C,R,P){if(C!==0&&!(c.default.query(R,c.default.Scope.BLOCK)==null||R===this.statics.blotName&&P===this.statics.formats(this.domNode))){var j=this.newlineIndex(k);if(!(j<0||j>=k+C)){var H=this.newlineIndex(k,!0)+1,B=j-H+1,K=this.isolate(H,B),U=K.next;K.format(R,P),U instanceof O&&U.formatAt(0,k-H+C-B,R,P)}}}},{key:"insertAt",value:function(k,C,R){if(R==null){var P=this.descendant(m.default,k),j=o(P,2),H=j[0],B=j[1];H.insertAt(B,C)}}},{key:"length",value:function(){var k=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?k:k+1}},{key:"newlineIndex",value:function(k){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(C)return this.domNode.textContent.slice(0,k).lastIndexOf(`
`);var R=this.domNode.textContent.slice(k).indexOf(`
`);return R>-1?k+R:-1}},{key:"optimize",value:function(k){this.domNode.textContent.endsWith(`
`)||this.appendChild(c.default.create("text",`
`)),a(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"optimize",this).call(this,k);var C=this.next;C!=null&&C.prev===this&&C.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===C.statics.formats(C.domNode)&&(C.optimize(k),C.moveChildren(this),C.remove())}},{key:"replace",value:function(k){a(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"replace",this).call(this,k),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(C){var R=c.default.find(C);R==null?C.parentNode.removeChild(C):R instanceof c.default.Embed?R.remove():R.unwrap()})}}],[{key:"create",value:function(k){var C=a(O.__proto__||Object.getPrototypeOf(O),"create",this).call(this,k);return C.setAttribute("spellcheck",!1),C}},{key:"formats",value:function(){return!0}}]),O}(d.default);T.blotName="code-block",T.tagName="PRE",T.TAB="  ",r.Code=I,r.default=T},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},s=function(){function U(M,A){var D=[],F=!0,Y=!1,W=void 0;try{for(var x=M[Symbol.iterator](),$;!(F=($=x.next()).done)&&(D.push($.value),!(A&&D.length===A));F=!0);}catch(Q){Y=!0,W=Q}finally{try{!F&&x.return&&x.return()}finally{if(Y)throw W}}return D}return function(M,A){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return U(M,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function U(M,A){for(var D=0;D<A.length;D++){var F=A[D];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(M,F.key,F)}}return function(M,A,D){return A&&U(M.prototype,A),D&&U(M,D),M}}(),l=i(2),u=C(l),h=i(20),c=C(h),f=i(0),d=C(f),g=i(13),y=C(g),w=i(24),m=C(w),p=i(4),_=C(p),v=i(16),E=C(v),I=i(21),T=C(I),b=i(11),O=C(b),S=i(3),k=C(S);function C(U){return U&&U.__esModule?U:{default:U}}function R(U,M,A){return M in U?Object.defineProperty(U,M,{value:A,enumerable:!0,configurable:!0,writable:!0}):U[M]=A,U}function P(U,M){if(!(U instanceof M))throw new TypeError("Cannot call a class as a function")}var j=/^[ -~]*$/,H=function(){function U(M){P(this,U),this.scroll=M,this.delta=this.getDelta()}return a(U,[{key:"applyDelta",value:function(A){var D=this,F=!1;this.scroll.update();var Y=this.scroll.length();return this.scroll.batchStart(),A=K(A),A.reduce(function(W,x){var $=x.retain||x.delete||x.insert.length||1,Q=x.attributes||{};if(x.insert!=null){if(typeof x.insert=="string"){var X=x.insert;X.endsWith(`
`)&&F&&(F=!1,X=X.slice(0,-1)),W>=Y&&!X.endsWith(`
`)&&(F=!0),D.scroll.insertAt(W,X);var ee=D.scroll.line(W),he=s(ee,2),_e=he[0],we=he[1],Ie=(0,k.default)({},(0,p.bubbleFormats)(_e));if(_e instanceof _.default){var Le=_e.descendant(d.default.Leaf,we),Mt=s(Le,1),Tt=Mt[0];Ie=(0,k.default)(Ie,(0,p.bubbleFormats)(Tt))}Q=c.default.attributes.diff(Ie,Q)||{}}else if(o(x.insert)==="object"){var J=Object.keys(x.insert)[0];if(J==null)return W;D.scroll.insertAt(W,J,x.insert[J])}Y+=$}return Object.keys(Q).forEach(function(Z){D.scroll.formatAt(W,$,Z,Q[Z])}),W+$},0),A.reduce(function(W,x){return typeof x.delete=="number"?(D.scroll.deleteAt(W,x.delete),W):W+(x.retain||x.insert.length||1)},0),this.scroll.batchEnd(),this.update(A)}},{key:"deleteText",value:function(A,D){return this.scroll.deleteAt(A,D),this.update(new u.default().retain(A).delete(D))}},{key:"formatLine",value:function(A,D){var F=this,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(Y).forEach(function(W){if(!(F.scroll.whitelist!=null&&!F.scroll.whitelist[W])){var x=F.scroll.lines(A,Math.max(D,1)),$=D;x.forEach(function(Q){var X=Q.length();if(!(Q instanceof y.default))Q.format(W,Y[W]);else{var ee=A-Q.offset(F.scroll),he=Q.newlineIndex(ee+$)-ee+1;Q.formatAt(ee,he,W,Y[W])}$-=X})}}),this.scroll.optimize(),this.update(new u.default().retain(A).retain(D,(0,T.default)(Y)))}},{key:"formatText",value:function(A,D){var F=this,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(Y).forEach(function(W){F.scroll.formatAt(A,D,W,Y[W])}),this.update(new u.default().retain(A).retain(D,(0,T.default)(Y)))}},{key:"getContents",value:function(A,D){return this.delta.slice(A,A+D)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(A,D){return A.concat(D.delta())},new u.default)}},{key:"getFormat",value:function(A){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,F=[],Y=[];D===0?this.scroll.path(A).forEach(function(x){var $=s(x,1),Q=$[0];Q instanceof _.default?F.push(Q):Q instanceof d.default.Leaf&&Y.push(Q)}):(F=this.scroll.lines(A,D),Y=this.scroll.descendants(d.default.Leaf,A,D));var W=[F,Y].map(function(x){if(x.length===0)return{};for(var $=(0,p.bubbleFormats)(x.shift());Object.keys($).length>0;){var Q=x.shift();if(Q==null)return $;$=B((0,p.bubbleFormats)(Q),$)}return $});return k.default.apply(k.default,W)}},{key:"getText",value:function(A,D){return this.getContents(A,D).filter(function(F){return typeof F.insert=="string"}).map(function(F){return F.insert}).join("")}},{key:"insertEmbed",value:function(A,D,F){return this.scroll.insertAt(A,D,F),this.update(new u.default().retain(A).insert(R({},D,F)))}},{key:"insertText",value:function(A,D){var F=this,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return D=D.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(A,D),Object.keys(Y).forEach(function(W){F.scroll.formatAt(A,D.length,W,Y[W])}),this.update(new u.default().retain(A).insert(D,(0,T.default)(Y)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var A=this.scroll.children.head;return A.statics.blotName!==_.default.blotName||A.children.length>1?!1:A.children.head instanceof E.default}},{key:"removeFormat",value:function(A,D){var F=this.getText(A,D),Y=this.scroll.line(A+D),W=s(Y,2),x=W[0],$=W[1],Q=0,X=new u.default;x!=null&&(x instanceof y.default?Q=x.newlineIndex($)-$+1:Q=x.length()-$,X=x.delta().slice($,$+Q-1).insert(`
`));var ee=this.getContents(A,D+Q),he=ee.diff(new u.default().insert(F).concat(X)),_e=new u.default().retain(A).concat(he);return this.applyDelta(_e)}},{key:"update",value:function(A){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,Y=this.delta;if(D.length===1&&D[0].type==="characterData"&&D[0].target.data.match(j)&&d.default.find(D[0].target)){var W=d.default.find(D[0].target),x=(0,p.bubbleFormats)(W),$=W.offset(this.scroll),Q=D[0].oldValue.replace(m.default.CONTENTS,""),X=new u.default().insert(Q),ee=new u.default().insert(W.value()),he=new u.default().retain($).concat(X.diff(ee,F));A=he.reduce(function(_e,we){return we.insert?_e.insert(we.insert,x):_e.push(we)},new u.default),this.delta=Y.compose(A)}else this.delta=this.getDelta(),(!A||!(0,O.default)(Y.compose(A),this.delta))&&(A=Y.diff(this.delta,F));return A}}]),U}();function B(U,M){return Object.keys(M).reduce(function(A,D){return U[D]==null||(M[D]===U[D]?A[D]=M[D]:Array.isArray(M[D])?M[D].indexOf(U[D])<0&&(A[D]=M[D].concat([U[D]])):A[D]=[M[D],U[D]]),A},{})}function K(U){return U.reduce(function(M,A){if(A.insert===1){var D=(0,T.default)(A.attributes);return delete D.image,M.insert({image:A.attributes.image},D)}if(A.attributes!=null&&(A.attributes.list===!0||A.attributes.bullet===!0)&&(A=(0,T.default)(A),A.attributes.list?A.attributes.list="ordered":(A.attributes.list="bullet",delete A.attributes.bullet)),typeof A.insert=="string"){var F=A.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return M.insert(F,A.attributes)}return M.push(A)},new u.default)}r.default=H},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var o=function(){function b(O,S){var k=[],C=!0,R=!1,P=void 0;try{for(var j=O[Symbol.iterator](),H;!(C=(H=j.next()).done)&&(k.push(H.value),!(S&&k.length===S));C=!0);}catch(B){R=!0,P=B}finally{try{!C&&j.return&&j.return()}finally{if(R)throw P}}return k}return function(O,S){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return b(O,S);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function b(O,S){for(var k=0;k<S.length;k++){var C=S[k];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(O,C.key,C)}}return function(O,S,k){return S&&b(O.prototype,S),k&&b(O,k),O}}(),a=i(0),l=m(a),u=i(21),h=m(u),c=i(11),f=m(c),d=i(8),g=m(d),y=i(10),w=m(y);function m(b){return b&&b.__esModule?b:{default:b}}function p(b){if(Array.isArray(b)){for(var O=0,S=Array(b.length);O<b.length;O++)S[O]=b[O];return S}else return Array.from(b)}function _(b,O){if(!(b instanceof O))throw new TypeError("Cannot call a class as a function")}var v=(0,w.default)("quill:selection"),E=function b(O){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;_(this,b),this.index=O,this.length=S},I=function(){function b(O,S){var k=this;_(this,b),this.emitter=S,this.scroll=O,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new E(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){k.mouseDown||setTimeout(k.update.bind(k,g.default.sources.USER),1)}),this.emitter.on(g.default.events.EDITOR_CHANGE,function(C,R){C===g.default.events.TEXT_CHANGE&&R.length()>0&&k.update(g.default.sources.SILENT)}),this.emitter.on(g.default.events.SCROLL_BEFORE_UPDATE,function(){if(k.hasFocus()){var C=k.getNativeRange();C!=null&&C.start.node!==k.cursor.textNode&&k.emitter.once(g.default.events.SCROLL_UPDATE,function(){try{k.setNativeRange(C.start.node,C.start.offset,C.end.node,C.end.offset)}catch{}})}}),this.emitter.on(g.default.events.SCROLL_OPTIMIZE,function(C,R){if(R.range){var P=R.range,j=P.startNode,H=P.startOffset,B=P.endNode,K=P.endOffset;k.setNativeRange(j,H,B,K)}}),this.update(g.default.sources.SILENT)}return s(b,[{key:"handleComposition",value:function(){var S=this;this.root.addEventListener("compositionstart",function(){S.composing=!0}),this.root.addEventListener("compositionend",function(){if(S.composing=!1,S.cursor.parent){var k=S.cursor.restore();if(!k)return;setTimeout(function(){S.setNativeRange(k.startNode,k.startOffset,k.endNode,k.endOffset)},1)}})}},{key:"handleDragging",value:function(){var S=this;this.emitter.listenDOM("mousedown",document.body,function(){S.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){S.mouseDown=!1,S.update(g.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(S,k){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[S])){this.scroll.update();var C=this.getNativeRange();if(!(C==null||!C.native.collapsed||l.default.query(S,l.default.Scope.BLOCK))){if(C.start.node!==this.cursor.textNode){var R=l.default.find(C.start.node,!1);if(R==null)return;if(R instanceof l.default.Leaf){var P=R.split(C.start.offset);R.parent.insertBefore(this.cursor,P)}else R.insertBefore(this.cursor,C.start.node);this.cursor.attach()}this.cursor.format(S,k),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(S){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,C=this.scroll.length();S=Math.min(S,C-1),k=Math.min(S+k,C-1)-S;var R=void 0,P=this.scroll.leaf(S),j=o(P,2),H=j[0],B=j[1];if(H==null)return null;var K=H.position(B,!0),U=o(K,2);R=U[0],B=U[1];var M=document.createRange();if(k>0){M.setStart(R,B);var A=this.scroll.leaf(S+k),D=o(A,2);if(H=D[0],B=D[1],H==null)return null;var F=H.position(B,!0),Y=o(F,2);return R=Y[0],B=Y[1],M.setEnd(R,B),M.getBoundingClientRect()}else{var W="left",x=void 0;return R instanceof Text?(B<R.data.length?(M.setStart(R,B),M.setEnd(R,B+1)):(M.setStart(R,B-1),M.setEnd(R,B),W="right"),x=M.getBoundingClientRect()):(x=H.domNode.getBoundingClientRect(),B>0&&(W="right")),{bottom:x.top+x.height,height:x.height,left:x[W],right:x[W],top:x.top,width:0}}}},{key:"getNativeRange",value:function(){var S=document.getSelection();if(S==null||S.rangeCount<=0)return null;var k=S.getRangeAt(0);if(k==null)return null;var C=this.normalizeNative(k);return v.info("getNativeRange",C),C}},{key:"getRange",value:function(){var S=this.getNativeRange();if(S==null)return[null,null];var k=this.normalizedToRange(S);return[k,S]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(S){var k=this,C=[[S.start.node,S.start.offset]];S.native.collapsed||C.push([S.end.node,S.end.offset]);var R=C.map(function(H){var B=o(H,2),K=B[0],U=B[1],M=l.default.find(K,!0),A=M.offset(k.scroll);return U===0?A:M instanceof l.default.Container?A+M.length():A+M.index(K,U)}),P=Math.min(Math.max.apply(Math,p(R)),this.scroll.length()-1),j=Math.min.apply(Math,[P].concat(p(R)));return new E(j,P-j)}},{key:"normalizeNative",value:function(S){if(!T(this.root,S.startContainer)||!S.collapsed&&!T(this.root,S.endContainer))return null;var k={start:{node:S.startContainer,offset:S.startOffset},end:{node:S.endContainer,offset:S.endOffset},native:S};return[k.start,k.end].forEach(function(C){for(var R=C.node,P=C.offset;!(R instanceof Text)&&R.childNodes.length>0;)if(R.childNodes.length>P)R=R.childNodes[P],P=0;else if(R.childNodes.length===P)R=R.lastChild,P=R instanceof Text?R.data.length:R.childNodes.length+1;else break;C.node=R,C.offset=P}),k}},{key:"rangeToNative",value:function(S){var k=this,C=S.collapsed?[S.index]:[S.index,S.index+S.length],R=[],P=this.scroll.length();return C.forEach(function(j,H){j=Math.min(P-1,j);var B=void 0,K=k.scroll.leaf(j),U=o(K,2),M=U[0],A=U[1],D=M.position(A,H!==0),F=o(D,2);B=F[0],A=F[1],R.push(B,A)}),R.length<2&&(R=R.concat(R)),R}},{key:"scrollIntoView",value:function(S){var k=this.lastRange;if(k!=null){var C=this.getBounds(k.index,k.length);if(C!=null){var R=this.scroll.length()-1,P=this.scroll.line(Math.min(k.index,R)),j=o(P,1),H=j[0],B=H;if(k.length>0){var K=this.scroll.line(Math.min(k.index+k.length,R)),U=o(K,1);B=U[0]}if(!(H==null||B==null)){var M=S.getBoundingClientRect();C.top<M.top?S.scrollTop-=M.top-C.top:C.bottom>M.bottom&&(S.scrollTop+=C.bottom-M.bottom)}}}}},{key:"setNativeRange",value:function(S,k){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:S,R=arguments.length>3&&arguments[3]!==void 0?arguments[3]:k,P=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(v.info("setNativeRange",S,k,C,R),!(S!=null&&(this.root.parentNode==null||S.parentNode==null||C.parentNode==null))){var j=document.getSelection();if(j!=null)if(S!=null){this.hasFocus()||this.root.focus();var H=(this.getNativeRange()||{}).native;if(H==null||P||S!==H.startContainer||k!==H.startOffset||C!==H.endContainer||R!==H.endOffset){S.tagName=="BR"&&(k=[].indexOf.call(S.parentNode.childNodes,S),S=S.parentNode),C.tagName=="BR"&&(R=[].indexOf.call(C.parentNode.childNodes,C),C=C.parentNode);var B=document.createRange();B.setStart(S,k),B.setEnd(C,R),j.removeAllRanges(),j.addRange(B)}}else j.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(S){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.default.sources.API;if(typeof k=="string"&&(C=k,k=!1),v.info("setRange",S),S!=null){var R=this.rangeToNative(S);this.setNativeRange.apply(this,p(R).concat([k]))}else this.setNativeRange(null);this.update(C)}},{key:"update",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g.default.sources.USER,k=this.lastRange,C=this.getRange(),R=o(C,2),P=R[0],j=R[1];if(this.lastRange=P,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,f.default)(k,this.lastRange)){var H;!this.composing&&j!=null&&j.native.collapsed&&j.start.node!==this.cursor.textNode&&this.cursor.restore();var B=[g.default.events.SELECTION_CHANGE,(0,h.default)(this.lastRange),(0,h.default)(k),S];if((H=this.emitter).emit.apply(H,[g.default.events.EDITOR_CHANGE].concat(B)),S!==g.default.sources.SILENT){var K;(K=this.emitter).emit.apply(K,B)}}}}]),b}();function T(b,O){try{O.parentNode}catch{return!1}return O instanceof Text&&(O=O.parentNode),b.contains(O)}r.Range=E,r.default=I},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function g(y,w){for(var m=0;m<w.length;m++){var p=w[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(y,p.key,p)}}return function(y,w,m){return w&&g(y.prototype,w),m&&g(y,m),y}}(),s=function g(y,w,m){y===null&&(y=Function.prototype);var p=Object.getOwnPropertyDescriptor(y,w);if(p===void 0){var _=Object.getPrototypeOf(y);return _===null?void 0:g(_,w,m)}else{if("value"in p)return p.value;var v=p.get;return v===void 0?void 0:v.call(m)}},a=i(0),l=u(a);function u(g){return g&&g.__esModule?g:{default:g}}function h(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function c(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function f(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var d=function(g){f(y,g);function y(){return h(this,y),c(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,[{key:"insertInto",value:function(m,p){m.children.length===0?s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"insertInto",this).call(this,m,p):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),y}(l.default.Embed);d.blotName="break",d.tagName="BR",r.default=d},function(n,r,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var g in d)d.hasOwnProperty(g)&&(f[g]=d[g])};return function(f,d){c(f,d);function g(){this.constructor=f}f.prototype=d===null?Object.create(d):(g.prototype=d.prototype,new g)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(44),a=i(30),l=i(1),u=function(c){o(f,c);function f(d){var g=c.call(this,d)||this;return g.build(),g}return f.prototype.appendChild=function(d){this.insertBefore(d)},f.prototype.attach=function(){c.prototype.attach.call(this),this.children.forEach(function(d){d.attach()})},f.prototype.build=function(){var d=this;this.children=new s.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(g){try{var y=h(g);d.insertBefore(y,d.children.head||void 0)}catch(w){if(w instanceof l.ParchmentError)return;throw w}})},f.prototype.deleteAt=function(d,g){if(d===0&&g===this.length())return this.remove();this.children.forEachAt(d,g,function(y,w,m){y.deleteAt(w,m)})},f.prototype.descendant=function(d,g){var y=this.children.find(g),w=y[0],m=y[1];return d.blotName==null&&d(w)||d.blotName!=null&&w instanceof d?[w,m]:w instanceof f?w.descendant(d,m):[null,-1]},f.prototype.descendants=function(d,g,y){g===void 0&&(g=0),y===void 0&&(y=Number.MAX_VALUE);var w=[],m=y;return this.children.forEachAt(g,y,function(p,_,v){(d.blotName==null&&d(p)||d.blotName!=null&&p instanceof d)&&w.push(p),p instanceof f&&(w=w.concat(p.descendants(d,_,m))),m-=v}),w},f.prototype.detach=function(){this.children.forEach(function(d){d.detach()}),c.prototype.detach.call(this)},f.prototype.formatAt=function(d,g,y,w){this.children.forEachAt(d,g,function(m,p,_){m.formatAt(p,_,y,w)})},f.prototype.insertAt=function(d,g,y){var w=this.children.find(d),m=w[0],p=w[1];if(m)m.insertAt(p,g,y);else{var _=y==null?l.create("text",g):l.create(g,y);this.appendChild(_)}},f.prototype.insertBefore=function(d,g){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(y){return d instanceof y}))throw new l.ParchmentError("Cannot insert "+d.statics.blotName+" into "+this.statics.blotName);d.insertInto(this,g)},f.prototype.length=function(){return this.children.reduce(function(d,g){return d+g.length()},0)},f.prototype.moveChildren=function(d,g){this.children.forEach(function(y){d.insertBefore(y,g)})},f.prototype.optimize=function(d){if(c.prototype.optimize.call(this,d),this.children.length===0)if(this.statics.defaultChild!=null){var g=l.create(this.statics.defaultChild);this.appendChild(g),g.optimize(d)}else this.remove()},f.prototype.path=function(d,g){g===void 0&&(g=!1);var y=this.children.find(d,g),w=y[0],m=y[1],p=[[this,d]];return w instanceof f?p.concat(w.path(m,g)):(w!=null&&p.push([w,m]),p)},f.prototype.removeChild=function(d){this.children.remove(d)},f.prototype.replace=function(d){d instanceof f&&d.moveChildren(this),c.prototype.replace.call(this,d)},f.prototype.split=function(d,g){if(g===void 0&&(g=!1),!g){if(d===0)return this;if(d===this.length())return this.next}var y=this.clone();return this.parent.insertBefore(y,this.next),this.children.forEachAt(d,this.length(),function(w,m,p){w=w.split(m,g),y.appendChild(w)}),y},f.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},f.prototype.update=function(d,g){var y=this,w=[],m=[];d.forEach(function(p){p.target===y.domNode&&p.type==="childList"&&(w.push.apply(w,p.addedNodes),m.push.apply(m,p.removedNodes))}),m.forEach(function(p){if(!(p.parentNode!=null&&p.tagName!=="IFRAME"&&document.body.compareDocumentPosition(p)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var _=l.find(p);_!=null&&(_.domNode.parentNode==null||_.domNode.parentNode===y.domNode)&&_.detach()}}),w.filter(function(p){return p.parentNode==y.domNode}).sort(function(p,_){return p===_?0:p.compareDocumentPosition(_)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(p){var _=null;p.nextSibling!=null&&(_=l.find(p.nextSibling));var v=h(p);(v.next!=_||v.next==null)&&(v.parent!=null&&v.parent.removeChild(y),y.insertBefore(v,_||void 0))})},f}(a.default);function h(c){var f=l.find(c);if(f==null)try{f=l.create(c)}catch{f=l.create(l.Scope.INLINE),[].slice.call(c.childNodes).forEach(function(g){f.domNode.appendChild(g)}),c.parentNode&&c.parentNode.replaceChild(f.domNode,c),f.attach()}return f}r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var g in d)d.hasOwnProperty(g)&&(f[g]=d[g])};return function(f,d){c(f,d);function g(){this.constructor=f}f.prototype=d===null?Object.create(d):(g.prototype=d.prototype,new g)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),a=i(31),l=i(17),u=i(1),h=function(c){o(f,c);function f(d){var g=c.call(this,d)||this;return g.attributes=new a.default(g.domNode),g}return f.formats=function(d){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return d.tagName.toLowerCase()},f.prototype.format=function(d,g){var y=u.query(d);y instanceof s.default?this.attributes.attribute(y,g):g&&y!=null&&(d!==this.statics.blotName||this.formats()[d]!==g)&&this.replaceWith(d,g)},f.prototype.formats=function(){var d=this.attributes.values(),g=this.statics.formats(this.domNode);return g!=null&&(d[this.statics.blotName]=g),d},f.prototype.replaceWith=function(d,g){var y=c.prototype.replaceWith.call(this,d,g);return this.attributes.copy(y),y},f.prototype.update=function(d,g){var y=this;c.prototype.update.call(this,d,g),d.some(function(w){return w.target===y.domNode&&w.type==="attributes"})&&this.attributes.build()},f.prototype.wrap=function(d,g){var y=c.prototype.wrap.call(this,d,g);return y instanceof f&&y.statics.scope===this.statics.scope&&this.attributes.move(y),y},f}(l.default);r.default=h},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var f in c)c.hasOwnProperty(f)&&(h[f]=c[f])};return function(h,c){u(h,c);function f(){this.constructor=h}h.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(30),a=i(1),l=function(u){o(h,u);function h(){return u!==null&&u.apply(this,arguments)||this}return h.value=function(c){return!0},h.prototype.index=function(c,f){return this.domNode===c||this.domNode.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(f,1):-1},h.prototype.position=function(c,f){var d=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return c>0&&(d+=1),[this.parent.domNode,d]},h.prototype.value=function(){var c;return c={},c[this.statics.blotName]=this.statics.value(this.domNode)||!0,c},h.scope=a.Scope.INLINE_BLOT,h}(s.default);r.default=l},function(n,r,i){var o=i(11),s=i(3),a={attributes:{compose:function(u,h,c){typeof u!="object"&&(u={}),typeof h!="object"&&(h={});var f=s(!0,{},h);c||(f=Object.keys(f).reduce(function(g,y){return f[y]!=null&&(g[y]=f[y]),g},{}));for(var d in u)u[d]!==void 0&&h[d]===void 0&&(f[d]=u[d]);return Object.keys(f).length>0?f:void 0},diff:function(u,h){typeof u!="object"&&(u={}),typeof h!="object"&&(h={});var c=Object.keys(u).concat(Object.keys(h)).reduce(function(f,d){return o(u[d],h[d])||(f[d]=h[d]===void 0?null:h[d]),f},{});return Object.keys(c).length>0?c:void 0},transform:function(u,h,c){if(typeof u!="object")return h;if(typeof h=="object"){if(!c)return h;var f=Object.keys(h).reduce(function(d,g){return u[g]===void 0&&(d[g]=h[g]),d},{});return Object.keys(f).length>0?f:void 0}}},iterator:function(u){return new l(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function l(u){this.ops=u,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(u){u||(u=1/0);var h=this.ops[this.index];if(h){var c=this.offset,f=a.length(h);if(u>=f-c?(u=f-c,this.index+=1,this.offset=0):this.offset+=u,typeof h.delete=="number")return{delete:u};var d={};return h.attributes&&(d.attributes=h.attributes),typeof h.retain=="number"?d.retain=u:typeof h.insert=="string"?d.insert=h.insert.substr(c,u):d.insert=h.insert,d}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,h=this.index,c=this.next(),f=this.ops.slice(this.index);return this.offset=u,this.index=h,[c].concat(f)}else return[]},n.exports=a},function(n,r){var i=function(){function o(y,w){return w!=null&&y instanceof w}var s;try{s=Map}catch{s=function(){}}var a;try{a=Set}catch{a=function(){}}var l;try{l=Promise}catch{l=function(){}}function u(y,w,m,p,_){typeof w=="object"&&(m=w.depth,p=w.prototype,_=w.includeNonEnumerable,w=w.circular);var v=[],E=[],I=typeof Buffer<"u";typeof w>"u"&&(w=!0),typeof m>"u"&&(m=1/0);function T(b,O){if(b===null)return null;if(O===0)return b;var S,k;if(typeof b!="object")return b;if(o(b,s))S=new s;else if(o(b,a))S=new a;else if(o(b,l))S=new l(function(M,A){b.then(function(D){M(T(D,O-1))},function(D){A(T(D,O-1))})});else if(u.__isArray(b))S=[];else if(u.__isRegExp(b))S=new RegExp(b.source,g(b)),b.lastIndex&&(S.lastIndex=b.lastIndex);else if(u.__isDate(b))S=new Date(b.getTime());else{if(I&&Buffer.isBuffer(b))return Buffer.allocUnsafe?S=Buffer.allocUnsafe(b.length):S=new Buffer(b.length),b.copy(S),S;o(b,Error)?S=Object.create(b):typeof p>"u"?(k=Object.getPrototypeOf(b),S=Object.create(k)):(S=Object.create(p),k=p)}if(w){var C=v.indexOf(b);if(C!=-1)return E[C];v.push(b),E.push(S)}o(b,s)&&b.forEach(function(M,A){var D=T(A,O-1),F=T(M,O-1);S.set(D,F)}),o(b,a)&&b.forEach(function(M){var A=T(M,O-1);S.add(A)});for(var R in b){var P;k&&(P=Object.getOwnPropertyDescriptor(k,R)),!(P&&P.set==null)&&(S[R]=T(b[R],O-1))}if(Object.getOwnPropertySymbols)for(var j=Object.getOwnPropertySymbols(b),R=0;R<j.length;R++){var H=j[R],B=Object.getOwnPropertyDescriptor(b,H);B&&!B.enumerable&&!_||(S[H]=T(b[H],O-1),B.enumerable||Object.defineProperty(S,H,{enumerable:!1}))}if(_)for(var K=Object.getOwnPropertyNames(b),R=0;R<K.length;R++){var U=K[R],B=Object.getOwnPropertyDescriptor(b,U);B&&B.enumerable||(S[U]=T(b[U],O-1),Object.defineProperty(S,U,{enumerable:!1}))}return S}return T(y,m)}u.clonePrototype=function(w){if(w===null)return null;var m=function(){};return m.prototype=w,new m};function h(y){return Object.prototype.toString.call(y)}u.__objToStr=h;function c(y){return typeof y=="object"&&h(y)==="[object Date]"}u.__isDate=c;function f(y){return typeof y=="object"&&h(y)==="[object Array]"}u.__isArray=f;function d(y){return typeof y=="object"&&h(y)==="[object RegExp]"}u.__isRegExp=d;function g(y){var w="";return y.global&&(w+="g"),y.ignoreCase&&(w+="i"),y.multiline&&(w+="m"),w}return u.__getRegExpFlags=g,u}();typeof n=="object"&&n.exports&&(n.exports=i)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function S(k,C){var R=[],P=!0,j=!1,H=void 0;try{for(var B=k[Symbol.iterator](),K;!(P=(K=B.next()).done)&&(R.push(K.value),!(C&&R.length===C));P=!0);}catch(U){j=!0,H=U}finally{try{!P&&B.return&&B.return()}finally{if(j)throw H}}return R}return function(k,C){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return S(k,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function S(k,C){for(var R=0;R<C.length;R++){var P=C[R];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(k,P.key,P)}}return function(k,C,R){return C&&S(k.prototype,C),R&&S(k,R),k}}(),a=function S(k,C,R){k===null&&(k=Function.prototype);var P=Object.getOwnPropertyDescriptor(k,C);if(P===void 0){var j=Object.getPrototypeOf(k);return j===null?void 0:S(j,C,R)}else{if("value"in P)return P.value;var H=P.get;return H===void 0?void 0:H.call(R)}},l=i(0),u=v(l),h=i(8),c=v(h),f=i(4),d=v(f),g=i(16),y=v(g),w=i(13),m=v(w),p=i(25),_=v(p);function v(S){return S&&S.__esModule?S:{default:S}}function E(S,k){if(!(S instanceof k))throw new TypeError("Cannot call a class as a function")}function I(S,k){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:S}function T(S,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);S.prototype=Object.create(k&&k.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(S,k):S.__proto__=k)}function b(S){return S instanceof d.default||S instanceof f.BlockEmbed}var O=function(S){T(k,S);function k(C,R){E(this,k);var P=I(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,C));return P.emitter=R.emitter,Array.isArray(R.whitelist)&&(P.whitelist=R.whitelist.reduce(function(j,H){return j[H]=!0,j},{})),P.domNode.addEventListener("DOMNodeInserted",function(){}),P.optimize(),P.enable(),P}return s(k,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(R,P){var j=this.line(R),H=o(j,2),B=H[0],K=H[1],U=this.line(R+P),M=o(U,1),A=M[0];if(a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"deleteAt",this).call(this,R,P),A!=null&&B!==A&&K>0){if(B instanceof f.BlockEmbed||A instanceof f.BlockEmbed){this.optimize();return}if(B instanceof m.default){var D=B.newlineIndex(B.length(),!0);if(D>-1&&(B=B.split(D+1),B===A)){this.optimize();return}}else if(A instanceof m.default){var F=A.newlineIndex(0);F>-1&&A.split(F+1)}var Y=A.children.head instanceof y.default?null:A.children.head;B.moveChildren(A,Y),B.remove()}this.optimize()}},{key:"enable",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",R)}},{key:"formatAt",value:function(R,P,j,H){this.whitelist!=null&&!this.whitelist[j]||(a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"formatAt",this).call(this,R,P,j,H),this.optimize())}},{key:"insertAt",value:function(R,P,j){if(!(j!=null&&this.whitelist!=null&&!this.whitelist[P])){if(R>=this.length())if(j==null||u.default.query(P,u.default.Scope.BLOCK)==null){var H=u.default.create(this.statics.defaultChild);this.appendChild(H),j==null&&P.endsWith(`
`)&&(P=P.slice(0,-1)),H.insertAt(0,P,j)}else{var B=u.default.create(P,j);this.appendChild(B)}else a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertAt",this).call(this,R,P,j);this.optimize()}}},{key:"insertBefore",value:function(R,P){if(R.statics.scope===u.default.Scope.INLINE_BLOT){var j=u.default.create(this.statics.defaultChild);j.appendChild(R),R=j}a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertBefore",this).call(this,R,P)}},{key:"leaf",value:function(R){return this.path(R).pop()||[null,-1]}},{key:"line",value:function(R){return R===this.length()?this.line(R-1):this.descendant(b,R)}},{key:"lines",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,j=function H(B,K,U){var M=[],A=U;return B.children.forEachAt(K,U,function(D,F,Y){b(D)?M.push(D):D instanceof u.default.Container&&(M=M.concat(H(D,F,A))),A-=Y}),M};return j(this,R,P)}},{key:"optimize",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,R,P),R.length>0&&this.emitter.emit(c.default.events.SCROLL_OPTIMIZE,R,P))}},{key:"path",value:function(R){return a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"path",this).call(this,R).slice(1)}},{key:"update",value:function(R){if(this.batch!==!0){var P=c.default.sources.USER;typeof R=="string"&&(P=R),Array.isArray(R)||(R=this.observer.takeRecords()),R.length>0&&this.emitter.emit(c.default.events.SCROLL_BEFORE_UPDATE,P,R),a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"update",this).call(this,R.concat([])),R.length>0&&this.emitter.emit(c.default.events.SCROLL_UPDATE,P,R)}}}]),k}(u.default.Scroll);O.blotName="scroll",O.className="ql-editor",O.tagName="DIV",O.defaultChild="block",O.allowedChildren=[d.default,f.BlockEmbed,_.default],r.default=O},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},s=function(){function x($,Q){var X=[],ee=!0,he=!1,_e=void 0;try{for(var we=$[Symbol.iterator](),Ie;!(ee=(Ie=we.next()).done)&&(X.push(Ie.value),!(Q&&X.length===Q));ee=!0);}catch(Le){he=!0,_e=Le}finally{try{!ee&&we.return&&we.return()}finally{if(he)throw _e}}return X}return function($,Q){if(Array.isArray($))return $;if(Symbol.iterator in Object($))return x($,Q);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function x($,Q){for(var X=0;X<Q.length;X++){var ee=Q[X];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty($,ee.key,ee)}}return function($,Q,X){return Q&&x($.prototype,Q),X&&x($,X),$}}(),l=i(21),u=S(l),h=i(11),c=S(h),f=i(3),d=S(f),g=i(2),y=S(g),w=i(20),m=S(w),p=i(0),_=S(p),v=i(5),E=S(v),I=i(10),T=S(I),b=i(9),O=S(b);function S(x){return x&&x.__esModule?x:{default:x}}function k(x,$,Q){return $ in x?Object.defineProperty(x,$,{value:Q,enumerable:!0,configurable:!0,writable:!0}):x[$]=Q,x}function C(x,$){if(!(x instanceof $))throw new TypeError("Cannot call a class as a function")}function R(x,$){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $&&(typeof $=="object"||typeof $=="function")?$:x}function P(x,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof $);x.prototype=Object.create($&&$.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),$&&(Object.setPrototypeOf?Object.setPrototypeOf(x,$):x.__proto__=$)}var j=(0,T.default)("quill:keyboard"),H=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",B=function(x){P($,x),a($,null,[{key:"match",value:function(X,ee){return ee=W(ee),["altKey","ctrlKey","metaKey","shiftKey"].some(function(he){return!!ee[he]!==X[he]&&ee[he]!==null})?!1:ee.key===(X.which||X.keyCode)}}]);function $(Q,X){C(this,$);var ee=R(this,($.__proto__||Object.getPrototypeOf($)).call(this,Q,X));return ee.bindings={},Object.keys(ee.options.bindings).forEach(function(he){he==="list autofill"&&Q.scroll.whitelist!=null&&!Q.scroll.whitelist.list||ee.options.bindings[he]&&ee.addBinding(ee.options.bindings[he])}),ee.addBinding({key:$.keys.ENTER,shiftKey:null},D),ee.addBinding({key:$.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(ee.addBinding({key:$.keys.BACKSPACE},{collapsed:!0},U),ee.addBinding({key:$.keys.DELETE},{collapsed:!0},M)):(ee.addBinding({key:$.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},U),ee.addBinding({key:$.keys.DELETE},{collapsed:!0,suffix:/^.?$/},M)),ee.addBinding({key:$.keys.BACKSPACE},{collapsed:!1},A),ee.addBinding({key:$.keys.DELETE},{collapsed:!1},A),ee.addBinding({key:$.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},U),ee.listen(),ee}return a($,[{key:"addBinding",value:function(X){var ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},_e=W(X);if(_e==null||_e.key==null)return j.warn("Attempted to add invalid keyboard binding",_e);typeof ee=="function"&&(ee={handler:ee}),typeof he=="function"&&(he={handler:he}),_e=(0,d.default)(_e,ee,he),this.bindings[_e.key]=this.bindings[_e.key]||[],this.bindings[_e.key].push(_e)}},{key:"listen",value:function(){var X=this;this.quill.root.addEventListener("keydown",function(ee){if(!ee.defaultPrevented){var he=ee.which||ee.keyCode,_e=(X.bindings[he]||[]).filter(function(rt){return $.match(ee,rt)});if(_e.length!==0){var we=X.quill.getSelection();if(!(we==null||!X.quill.hasFocus())){var Ie=X.quill.getLine(we.index),Le=s(Ie,2),Mt=Le[0],Tt=Le[1],J=X.quill.getLeaf(we.index),Z=s(J,2),se=Z[0],ce=Z[1],ne=we.length===0?[se,ce]:X.quill.getLeaf(we.index+we.length),be=s(ne,2),Ae=be[0],Re=be[1],In=se instanceof _.default.Text?se.value().slice(0,ce):"",Yn=Ae instanceof _.default.Text?Ae.value().slice(Re):"",Ze={collapsed:we.length===0,empty:we.length===0&&Mt.length()<=1,format:X.quill.getFormat(we),offset:Tt,prefix:In,suffix:Yn},oa=_e.some(function(rt){if(rt.collapsed!=null&&rt.collapsed!==Ze.collapsed||rt.empty!=null&&rt.empty!==Ze.empty||rt.offset!=null&&rt.offset!==Ze.offset)return!1;if(Array.isArray(rt.format)){if(rt.format.every(function(Vt){return Ze.format[Vt]==null}))return!1}else if(o(rt.format)==="object"&&!Object.keys(rt.format).every(function(Vt){return rt.format[Vt]===!0?Ze.format[Vt]!=null:rt.format[Vt]===!1?Ze.format[Vt]==null:(0,c.default)(rt.format[Vt],Ze.format[Vt])}))return!1;return rt.prefix!=null&&!rt.prefix.test(Ze.prefix)||rt.suffix!=null&&!rt.suffix.test(Ze.suffix)?!1:rt.handler.call(X,we,Ze)!==!0});oa&&ee.preventDefault()}}}})}}]),$}(O.default);B.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},B.DEFAULTS={bindings:{bold:Y("bold"),italic:Y("italic"),underline:Y("underline"),indent:{key:B.keys.TAB,format:["blockquote","indent","list"],handler:function($,Q){if(Q.collapsed&&Q.offset!==0)return!0;this.quill.format("indent","+1",E.default.sources.USER)}},outdent:{key:B.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function($,Q){if(Q.collapsed&&Q.offset!==0)return!0;this.quill.format("indent","-1",E.default.sources.USER)}},"outdent backspace":{key:B.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function($,Q){Q.format.indent!=null?this.quill.format("indent","-1",E.default.sources.USER):Q.format.list!=null&&this.quill.format("list",!1,E.default.sources.USER)}},"indent code-block":F(!0),"outdent code-block":F(!1),"remove tab":{key:B.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function($){this.quill.deleteText($.index-1,1,E.default.sources.USER)}},tab:{key:B.keys.TAB,handler:function($){this.quill.history.cutoff();var Q=new y.default().retain($.index).delete($.length).insert("	");this.quill.updateContents(Q,E.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection($.index+1,E.default.sources.SILENT)}},"list empty enter":{key:B.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function($,Q){this.quill.format("list",!1,E.default.sources.USER),Q.format.indent&&this.quill.format("indent",!1,E.default.sources.USER)}},"checklist enter":{key:B.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function($){var Q=this.quill.getLine($.index),X=s(Q,2),ee=X[0],he=X[1],_e=(0,d.default)({},ee.formats(),{list:"checked"}),we=new y.default().retain($.index).insert(`
`,_e).retain(ee.length()-he-1).retain(1,{list:"unchecked"});this.quill.updateContents(we,E.default.sources.USER),this.quill.setSelection($.index+1,E.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:B.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function($,Q){var X=this.quill.getLine($.index),ee=s(X,2),he=ee[0],_e=ee[1],we=new y.default().retain($.index).insert(`
`,Q.format).retain(he.length()-_e-1).retain(1,{header:null});this.quill.updateContents(we,E.default.sources.USER),this.quill.setSelection($.index+1,E.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function($,Q){var X=Q.prefix.length,ee=this.quill.getLine($.index),he=s(ee,2),_e=he[0],we=he[1];if(we>X)return!0;var Ie=void 0;switch(Q.prefix.trim()){case"[]":case"[ ]":Ie="unchecked";break;case"[x]":Ie="checked";break;case"-":case"*":Ie="bullet";break;default:Ie="ordered"}this.quill.insertText($.index," ",E.default.sources.USER),this.quill.history.cutoff();var Le=new y.default().retain($.index-we).delete(X+1).retain(_e.length()-2-we).retain(1,{list:Ie});this.quill.updateContents(Le,E.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection($.index-X,E.default.sources.SILENT)}},"code exit":{key:B.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function($){var Q=this.quill.getLine($.index),X=s(Q,2),ee=X[0],he=X[1],_e=new y.default().retain($.index+ee.length()-he-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(_e,E.default.sources.USER)}},"embed left":K(B.keys.LEFT,!1),"embed left shift":K(B.keys.LEFT,!0),"embed right":K(B.keys.RIGHT,!1),"embed right shift":K(B.keys.RIGHT,!0)}};function K(x,$){var Q,X=x===B.keys.LEFT?"prefix":"suffix";return Q={key:x,shiftKey:$,altKey:null},k(Q,X,/^$/),k(Q,"handler",function(he){var _e=he.index;x===B.keys.RIGHT&&(_e+=he.length+1);var we=this.quill.getLeaf(_e),Ie=s(we,1),Le=Ie[0];return Le instanceof _.default.Embed?(x===B.keys.LEFT?$?this.quill.setSelection(he.index-1,he.length+1,E.default.sources.USER):this.quill.setSelection(he.index-1,E.default.sources.USER):$?this.quill.setSelection(he.index,he.length+1,E.default.sources.USER):this.quill.setSelection(he.index+he.length+1,E.default.sources.USER),!1):!0}),Q}function U(x,$){if(!(x.index===0||this.quill.getLength()<=1)){var Q=this.quill.getLine(x.index),X=s(Q,1),ee=X[0],he={};if($.offset===0){var _e=this.quill.getLine(x.index-1),we=s(_e,1),Ie=we[0];if(Ie!=null&&Ie.length()>1){var Le=ee.formats(),Mt=this.quill.getFormat(x.index-1,1);he=m.default.attributes.diff(Le,Mt)||{}}}var Tt=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test($.prefix)?2:1;this.quill.deleteText(x.index-Tt,Tt,E.default.sources.USER),Object.keys(he).length>0&&this.quill.formatLine(x.index-Tt,Tt,he,E.default.sources.USER),this.quill.focus()}}function M(x,$){var Q=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test($.suffix)?2:1;if(!(x.index>=this.quill.getLength()-Q)){var X={},ee=0,he=this.quill.getLine(x.index),_e=s(he,1),we=_e[0];if($.offset>=we.length()-1){var Ie=this.quill.getLine(x.index+1),Le=s(Ie,1),Mt=Le[0];if(Mt){var Tt=we.formats(),J=this.quill.getFormat(x.index,1);X=m.default.attributes.diff(Tt,J)||{},ee=Mt.length()}}this.quill.deleteText(x.index,Q,E.default.sources.USER),Object.keys(X).length>0&&this.quill.formatLine(x.index+ee-1,Q,X,E.default.sources.USER)}}function A(x){var $=this.quill.getLines(x),Q={};if($.length>1){var X=$[0].formats(),ee=$[$.length-1].formats();Q=m.default.attributes.diff(ee,X)||{}}this.quill.deleteText(x,E.default.sources.USER),Object.keys(Q).length>0&&this.quill.formatLine(x.index,1,Q,E.default.sources.USER),this.quill.setSelection(x.index,E.default.sources.SILENT),this.quill.focus()}function D(x,$){var Q=this;x.length>0&&this.quill.scroll.deleteAt(x.index,x.length);var X=Object.keys($.format).reduce(function(ee,he){return _.default.query(he,_.default.Scope.BLOCK)&&!Array.isArray($.format[he])&&(ee[he]=$.format[he]),ee},{});this.quill.insertText(x.index,`
`,X,E.default.sources.USER),this.quill.setSelection(x.index+1,E.default.sources.SILENT),this.quill.focus(),Object.keys($.format).forEach(function(ee){X[ee]==null&&(Array.isArray($.format[ee])||ee!=="link"&&Q.quill.format(ee,$.format[ee],E.default.sources.USER))})}function F(x){return{key:B.keys.TAB,shiftKey:!x,format:{"code-block":!0},handler:function(Q){var X=_.default.query("code-block"),ee=Q.index,he=Q.length,_e=this.quill.scroll.descendant(X,ee),we=s(_e,2),Ie=we[0],Le=we[1];if(Ie!=null){var Mt=this.quill.getIndex(Ie),Tt=Ie.newlineIndex(Le,!0)+1,J=Ie.newlineIndex(Mt+Le+he),Z=Ie.domNode.textContent.slice(Tt,J).split(`
`);Le=0,Z.forEach(function(se,ce){x?(Ie.insertAt(Tt+Le,X.TAB),Le+=X.TAB.length,ce===0?ee+=X.TAB.length:he+=X.TAB.length):se.startsWith(X.TAB)&&(Ie.deleteAt(Tt+Le,X.TAB.length),Le-=X.TAB.length,ce===0?ee-=X.TAB.length:he-=X.TAB.length),Le+=se.length+1}),this.quill.update(E.default.sources.USER),this.quill.setSelection(ee,he,E.default.sources.SILENT)}}}}function Y(x){return{key:x[0].toUpperCase(),shortKey:!0,handler:function(Q,X){this.quill.format(x,!X.format[x],E.default.sources.USER)}}}function W(x){if(typeof x=="string"||typeof x=="number")return W({key:x});if((typeof x>"u"?"undefined":o(x))==="object"&&(x=(0,u.default)(x,!1)),typeof x.key=="string")if(B.keys[x.key.toUpperCase()]!=null)x.key=B.keys[x.key.toUpperCase()];else if(x.key.length===1)x.key=x.key.toUpperCase().charCodeAt(0);else return null;return x.shortKey&&(x[H]=x.shortKey,delete x.shortKey),x}r.default=B,r.SHORTKEY=H},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(p,_){var v=[],E=!0,I=!1,T=void 0;try{for(var b=p[Symbol.iterator](),O;!(E=(O=b.next()).done)&&(v.push(O.value),!(_&&v.length===_));E=!0);}catch(S){I=!0,T=S}finally{try{!E&&b.return&&b.return()}finally{if(I)throw T}}return v}return function(p,_){if(Array.isArray(p))return p;if(Symbol.iterator in Object(p))return m(p,_);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function m(p,_,v){p===null&&(p=Function.prototype);var E=Object.getOwnPropertyDescriptor(p,_);if(E===void 0){var I=Object.getPrototypeOf(p);return I===null?void 0:m(I,_,v)}else{if("value"in E)return E.value;var T=E.get;return T===void 0?void 0:T.call(v)}},a=function(){function m(p,_){for(var v=0;v<_.length;v++){var E=_[v];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,E.key,E)}}return function(p,_,v){return _&&m(p.prototype,_),v&&m(p,v),p}}(),l=i(0),u=f(l),h=i(7),c=f(h);function f(m){return m&&m.__esModule?m:{default:m}}function d(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function g(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function y(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var w=function(m){y(p,m),a(p,null,[{key:"value",value:function(){}}]);function p(_,v){d(this,p);var E=g(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,_));return E.selection=v,E.textNode=document.createTextNode(p.CONTENTS),E.domNode.appendChild(E.textNode),E._length=0,E}return a(p,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(v,E){if(this._length!==0)return s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,v,E);for(var I=this,T=0;I!=null&&I.statics.scope!==u.default.Scope.BLOCK_BLOT;)T+=I.offset(I.parent),I=I.parent;I!=null&&(this._length=p.CONTENTS.length,I.optimize(),I.formatAt(T,p.CONTENTS.length,v,E),this._length=0)}},{key:"index",value:function(v,E){return v===this.textNode?0:s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"index",this).call(this,v,E)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var v=this.textNode,E=this.selection.getNativeRange(),I=void 0,T=void 0,b=void 0;if(E!=null&&E.start.node===v&&E.end.node===v){var O=[v,E.start.offset,E.end.offset];I=O[0],T=O[1],b=O[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==p.CONTENTS){var S=this.textNode.data.split(p.CONTENTS).join("");this.next instanceof c.default?(I=this.next.domNode,this.next.insertAt(0,S),this.textNode.data=p.CONTENTS):(this.textNode.data=S,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(p.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),T!=null){var k=[T,b].map(function(R){return Math.max(0,Math.min(I.data.length,R-1))}),C=o(k,2);return T=C[0],b=C[1],{startNode:I,startOffset:T,endNode:I,endOffset:b}}}}},{key:"update",value:function(v,E){var I=this;if(v.some(function(b){return b.type==="characterData"&&b.target===I.textNode})){var T=this.restore();T&&(E.range=T)}}},{key:"value",value:function(){return""}}]),p}(u.default.Embed);w.blotName="cursor",w.className="ql-cursor",w.tagName="span",w.CONTENTS="\uFEFF",r.default=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=u(o),a=i(4),l=u(a);function u(g){return g&&g.__esModule?g:{default:g}}function h(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function c(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function f(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var d=function(g){f(y,g);function y(){return h(this,y),c(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(s.default.Container);d.allowedChildren=[l.default,a.BlockEmbed,d],r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var o=function(){function w(m,p){for(var _=0;_<p.length;_++){var v=p[_];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,v.key,v)}}return function(m,p,_){return p&&w(m.prototype,p),_&&w(m,_),m}}(),s=function w(m,p,_){m===null&&(m=Function.prototype);var v=Object.getOwnPropertyDescriptor(m,p);if(v===void 0){var E=Object.getPrototypeOf(m);return E===null?void 0:w(E,p,_)}else{if("value"in v)return v.value;var I=v.get;return I===void 0?void 0:I.call(_)}},a=i(0),l=u(a);function u(w){return w&&w.__esModule?w:{default:w}}function h(w,m){if(!(w instanceof m))throw new TypeError("Cannot call a class as a function")}function c(w,m){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:w}function f(w,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);w.prototype=Object.create(m&&m.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(w,m):w.__proto__=m)}var d=function(w){f(m,w);function m(){return h(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"value",value:function(_){var v=s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"value",this).call(this,_);return v.startsWith("rgb(")?(v=v.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+v.split(",").map(function(E){return("00"+parseInt(E).toString(16)).slice(-2)}).join("")):v}}]),m}(l.default.Attributor.Style),g=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),y=new d("color","color",{scope:l.default.Scope.INLINE});r.ColorAttributor=d,r.ColorClass=g,r.ColorStyle=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var o=function(){function y(w,m){for(var p=0;p<m.length;p++){var _=m[p];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(w,_.key,_)}}return function(w,m,p){return m&&y(w.prototype,m),p&&y(w,p),w}}(),s=function y(w,m,p){w===null&&(w=Function.prototype);var _=Object.getOwnPropertyDescriptor(w,m);if(_===void 0){var v=Object.getPrototypeOf(w);return v===null?void 0:y(v,m,p)}else{if("value"in _)return _.value;var E=_.get;return E===void 0?void 0:E.call(p)}},a=i(6),l=u(a);function u(y){return y&&y.__esModule?y:{default:y}}function h(y,w){if(!(y instanceof w))throw new TypeError("Cannot call a class as a function")}function c(y,w){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:y}function f(y,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);y.prototype=Object.create(w&&w.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(y,w):y.__proto__=w)}var d=function(y){f(w,y);function w(){return h(this,w),c(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return o(w,[{key:"format",value:function(p,_){if(p!==this.statics.blotName||!_)return s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,p,_);_=this.constructor.sanitize(_),this.domNode.setAttribute("href",_)}}],[{key:"create",value:function(p){var _=s(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,p);return p=this.sanitize(p),_.setAttribute("href",p),_.setAttribute("rel","noopener noreferrer"),_.setAttribute("target","_blank"),_}},{key:"formats",value:function(p){return p.getAttribute("href")}},{key:"sanitize",value:function(p){return g(p,this.PROTOCOL_WHITELIST)?p:this.SANITIZED_URL}}]),w}(l.default);d.blotName="link",d.tagName="A",d.SANITIZED_URL="about:blank",d.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function g(y,w){var m=document.createElement("a");m.href=y;var p=m.href.slice(0,m.href.indexOf(":"));return w.indexOf(p)>-1}r.default=d,r.sanitize=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},s=function(){function w(m,p){for(var _=0;_<p.length;_++){var v=p[_];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,v.key,v)}}return function(m,p,_){return p&&w(m.prototype,p),_&&w(m,_),m}}(),a=i(23),l=c(a),u=i(107),h=c(u);function c(w){return w&&w.__esModule?w:{default:w}}function f(w,m){if(!(w instanceof m))throw new TypeError("Cannot call a class as a function")}var d=0;function g(w,m){w.setAttribute(m,w.getAttribute(m)!=="true")}var y=function(){function w(m){var p=this;f(this,w),this.select=m,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){p.togglePicker()}),this.label.addEventListener("keydown",function(_){switch(_.keyCode){case l.default.keys.ENTER:p.togglePicker();break;case l.default.keys.ESCAPE:p.escape(),_.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return s(w,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),g(this.label,"aria-expanded"),g(this.options,"aria-hidden")}},{key:"buildItem",value:function(p){var _=this,v=document.createElement("span");return v.tabIndex="0",v.setAttribute("role","button"),v.classList.add("ql-picker-item"),p.hasAttribute("value")&&v.setAttribute("data-value",p.getAttribute("value")),p.textContent&&v.setAttribute("data-label",p.textContent),v.addEventListener("click",function(){_.selectItem(v,!0)}),v.addEventListener("keydown",function(E){switch(E.keyCode){case l.default.keys.ENTER:_.selectItem(v,!0),E.preventDefault();break;case l.default.keys.ESCAPE:_.escape(),E.preventDefault();break}}),v}},{key:"buildLabel",value:function(){var p=document.createElement("span");return p.classList.add("ql-picker-label"),p.innerHTML=h.default,p.tabIndex="0",p.setAttribute("role","button"),p.setAttribute("aria-expanded","false"),this.container.appendChild(p),p}},{key:"buildOptions",value:function(){var p=this,_=document.createElement("span");_.classList.add("ql-picker-options"),_.setAttribute("aria-hidden","true"),_.tabIndex="-1",_.id="ql-picker-options-"+d,d+=1,this.label.setAttribute("aria-controls",_.id),this.options=_,[].slice.call(this.select.options).forEach(function(v){var E=p.buildItem(v);_.appendChild(E),v.selected===!0&&p.selectItem(E)}),this.container.appendChild(_)}},{key:"buildPicker",value:function(){var p=this;[].slice.call(this.select.attributes).forEach(function(_){p.container.setAttribute(_.name,_.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var p=this;this.close(),setTimeout(function(){return p.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(p){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,v=this.container.querySelector(".ql-selected");if(p!==v&&(v!=null&&v.classList.remove("ql-selected"),p!=null&&(p.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(p.parentNode.children,p),p.hasAttribute("data-value")?this.label.setAttribute("data-value",p.getAttribute("data-value")):this.label.removeAttribute("data-value"),p.hasAttribute("data-label")?this.label.setAttribute("data-label",p.getAttribute("data-label")):this.label.removeAttribute("data-label"),_))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":o(Event))==="object"){var E=document.createEvent("Event");E.initEvent("change",!0,!0),this.select.dispatchEvent(E)}this.close()}}},{key:"update",value:function(){var p=void 0;if(this.select.selectedIndex>-1){var _=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];p=this.select.options[this.select.selectedIndex],this.selectItem(_)}else this.selectItem(null);var v=p!=null&&p!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",v)}}]),w}();r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=j(o),a=i(5),l=j(a),u=i(4),h=j(u),c=i(16),f=j(c),d=i(25),g=j(d),y=i(24),w=j(y),m=i(35),p=j(m),_=i(6),v=j(_),E=i(22),I=j(E),T=i(7),b=j(T),O=i(55),S=j(O),k=i(42),C=j(k),R=i(23),P=j(R);function j(H){return H&&H.__esModule?H:{default:H}}l.default.register({"blots/block":h.default,"blots/block/embed":u.BlockEmbed,"blots/break":f.default,"blots/container":g.default,"blots/cursor":w.default,"blots/embed":p.default,"blots/inline":v.default,"blots/scroll":I.default,"blots/text":b.default,"modules/clipboard":S.default,"modules/history":C.default,"modules/keyboard":P.default}),s.default.register(h.default,f.default,w.default,v.default,I.default,b.default),r.default=l.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l){this.domNode=l,this.domNode[o.DATA_KEY]={blot:this}}return Object.defineProperty(a.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),a.create=function(l){if(this.tagName==null)throw new o.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?u=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?u=document.createElement(l):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},a.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},a.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return o.create(l)},a.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[o.DATA_KEY]},a.prototype.deleteAt=function(l,u){var h=this.isolate(l,u);h.remove()},a.prototype.formatAt=function(l,u,h,c){var f=this.isolate(l,u);if(o.query(h,o.Scope.BLOT)!=null&&c)f.wrap(h,c);else if(o.query(h,o.Scope.ATTRIBUTE)!=null){var d=o.create(this.statics.scope);f.wrap(d),d.format(h,c)}},a.prototype.insertAt=function(l,u,h){var c=h==null?o.create("text",u):o.create(u,h),f=this.split(l);this.parent.insertBefore(c,f)},a.prototype.insertInto=function(l,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var h=null;l.children.insertBefore(this,u),u!=null&&(h=u.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=h)&&l.domNode.insertBefore(this.domNode,h),this.parent=l,this.attach()},a.prototype.isolate=function(l,u){var h=this.split(l);return h.split(u),h},a.prototype.length=function(){return 1},a.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},a.prototype.optimize=function(l){this.domNode[o.DATA_KEY]!=null&&delete this.domNode[o.DATA_KEY].mutations},a.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},a.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},a.prototype.replaceWith=function(l,u){var h=typeof l=="string"?o.create(l,u):l;return h.replace(this),h},a.prototype.split=function(l,u){return l===0?this:this.next},a.prototype.update=function(l,u){},a.prototype.wrap=function(l,u){var h=typeof l=="string"?o.create(l,u):l;return this.parent!=null&&this.parent.insertBefore(h,this.next),h.appendChild(this),h},a.blotName="abstract",a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),s=i(32),a=i(33),l=i(1),u=function(){function h(c){this.attributes={},this.domNode=c,this.build()}return h.prototype.attribute=function(c,f){f?c.add(this.domNode,f)&&(c.value(this.domNode)!=null?this.attributes[c.attrName]=c:delete this.attributes[c.attrName]):(c.remove(this.domNode),delete this.attributes[c.attrName])},h.prototype.build=function(){var c=this;this.attributes={};var f=o.default.keys(this.domNode),d=s.default.keys(this.domNode),g=a.default.keys(this.domNode);f.concat(d).concat(g).forEach(function(y){var w=l.query(y,l.Scope.ATTRIBUTE);w instanceof o.default&&(c.attributes[w.attrName]=w)})},h.prototype.copy=function(c){var f=this;Object.keys(this.attributes).forEach(function(d){var g=f.attributes[d].value(f.domNode);c.format(d,g)})},h.prototype.move=function(c){var f=this;this.copy(c),Object.keys(this.attributes).forEach(function(d){f.attributes[d].remove(f.domNode)}),this.attributes={}},h.prototype.values=function(){var c=this;return Object.keys(this.attributes).reduce(function(f,d){return f[d]=c.attributes[d].value(c.domNode),f},{})},h}();r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var f in c)c.hasOwnProperty(f)&&(h[f]=c[f])};return function(h,c){u(h,c);function f(){this.constructor=h}h.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(u,h){var c=u.getAttribute("class")||"";return c.split(/\s+/).filter(function(f){return f.indexOf(h+"-")===0})}var l=function(u){o(h,u);function h(){return u!==null&&u.apply(this,arguments)||this}return h.keys=function(c){return(c.getAttribute("class")||"").split(/\s+/).map(function(f){return f.split("-").slice(0,-1).join("-")})},h.prototype.add=function(c,f){return this.canAdd(c,f)?(this.remove(c),c.classList.add(this.keyName+"-"+f),!0):!1},h.prototype.remove=function(c){var f=a(c,this.keyName);f.forEach(function(d){c.classList.remove(d)}),c.classList.length===0&&c.removeAttribute("class")},h.prototype.value=function(c){var f=a(c,this.keyName)[0]||"",d=f.slice(this.keyName.length+1);return this.canAdd(c,d)?d:""},h}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var f in c)c.hasOwnProperty(f)&&(h[f]=c[f])};return function(h,c){u(h,c);function f(){this.constructor=h}h.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(u){var h=u.split("-"),c=h.slice(1).map(function(f){return f[0].toUpperCase()+f.slice(1)}).join("");return h[0]+c}var l=function(u){o(h,u);function h(){return u!==null&&u.apply(this,arguments)||this}return h.keys=function(c){return(c.getAttribute("style")||"").split(";").map(function(f){var d=f.split(":");return d[0].trim()})},h.prototype.add=function(c,f){return this.canAdd(c,f)?(c.style[a(this.keyName)]=f,!0):!1},h.prototype.remove=function(c){c.style[a(this.keyName)]="",c.getAttribute("style")||c.removeAttribute("style")},h.prototype.value=function(c){var f=c.style[a(this.keyName)];return this.canAdd(c,f)?f:""},h}(s.default);r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(u,h){for(var c=0;c<h.length;c++){var f=h[c];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}return function(u,h,c){return h&&l(u.prototype,h),c&&l(u,c),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(u,h){s(this,l),this.quill=u,this.options=h,this.modules={}}return o(l,[{key:"init",value:function(){var h=this;Object.keys(this.options.modules).forEach(function(c){h.modules[c]==null&&h.addModule(c)})}},{key:"addModule",value:function(h){var c=this.quill.constructor.import("modules/"+h);return this.modules[h]=new c(this.quill,this.options.modules[h]||{}),this.modules[h]}}]),l}();a.DEFAULTS={modules:{}},a.themes={default:a},r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(p,_){for(var v=0;v<_.length;v++){var E=_[v];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,E.key,E)}}return function(p,_,v){return _&&m(p.prototype,_),v&&m(p,v),p}}(),s=function m(p,_,v){p===null&&(p=Function.prototype);var E=Object.getOwnPropertyDescriptor(p,_);if(E===void 0){var I=Object.getPrototypeOf(p);return I===null?void 0:m(I,_,v)}else{if("value"in E)return E.value;var T=E.get;return T===void 0?void 0:T.call(v)}},a=i(0),l=c(a),u=i(7),h=c(u);function c(m){return m&&m.__esModule?m:{default:m}}function f(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function d(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function g(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var y="\uFEFF",w=function(m){g(p,m);function p(_){f(this,p);var v=d(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,_));return v.contentNode=document.createElement("span"),v.contentNode.setAttribute("contenteditable",!1),[].slice.call(v.domNode.childNodes).forEach(function(E){v.contentNode.appendChild(E)}),v.leftGuard=document.createTextNode(y),v.rightGuard=document.createTextNode(y),v.domNode.appendChild(v.leftGuard),v.domNode.appendChild(v.contentNode),v.domNode.appendChild(v.rightGuard),v}return o(p,[{key:"index",value:function(v,E){return v===this.leftGuard?0:v===this.rightGuard?1:s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"index",this).call(this,v,E)}},{key:"restore",value:function(v){var E=void 0,I=void 0,T=v.data.split(y).join("");if(v===this.leftGuard)if(this.prev instanceof h.default){var b=this.prev.length();this.prev.insertAt(b,T),E={startNode:this.prev.domNode,startOffset:b+T.length}}else I=document.createTextNode(T),this.parent.insertBefore(l.default.create(I),this),E={startNode:I,startOffset:T.length};else v===this.rightGuard&&(this.next instanceof h.default?(this.next.insertAt(0,T),E={startNode:this.next.domNode,startOffset:T.length}):(I=document.createTextNode(T),this.parent.insertBefore(l.default.create(I),this.next),E={startNode:I,startOffset:T.length}));return v.data=y,E}},{key:"update",value:function(v,E){var I=this;v.forEach(function(T){if(T.type==="characterData"&&(T.target===I.leftGuard||T.target===I.rightGuard)){var b=I.restore(T.target);b&&(E.range=b)}})}}]),p}(l.default.Embed);r.default=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var o=i(0),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}var l={scope:s.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new s.default.Attributor.Attribute("align","align",l),h=new s.default.Attributor.Class("align","ql-align",l),c=new s.default.Attributor.Style("align","text-align",l);r.AlignAttribute=u,r.AlignClass=h,r.AlignStyle=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var o=i(0),s=l(o),a=i(26);function l(c){return c&&c.__esModule?c:{default:c}}var u=new s.default.Attributor.Class("background","ql-bg",{scope:s.default.Scope.INLINE}),h=new a.ColorAttributor("background","background-color",{scope:s.default.Scope.INLINE});r.BackgroundClass=u,r.BackgroundStyle=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var o=i(0),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}var l={scope:s.default.Scope.BLOCK,whitelist:["rtl"]},u=new s.default.Attributor.Attribute("direction","dir",l),h=new s.default.Attributor.Class("direction","ql-direction",l),c=new s.default.Attributor.Style("direction","direction",l);r.DirectionAttribute=u,r.DirectionClass=h,r.DirectionStyle=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var o=function(){function m(p,_){for(var v=0;v<_.length;v++){var E=_[v];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,E.key,E)}}return function(p,_,v){return _&&m(p.prototype,_),v&&m(p,v),p}}(),s=function m(p,_,v){p===null&&(p=Function.prototype);var E=Object.getOwnPropertyDescriptor(p,_);if(E===void 0){var I=Object.getPrototypeOf(p);return I===null?void 0:m(I,_,v)}else{if("value"in E)return E.value;var T=E.get;return T===void 0?void 0:T.call(v)}},a=i(0),l=u(a);function u(m){return m&&m.__esModule?m:{default:m}}function h(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function c(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function f(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var d={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},g=new l.default.Attributor.Class("font","ql-font",d),y=function(m){f(p,m);function p(){return h(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"value",value:function(v){return s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"value",this).call(this,v).replace(/["']/g,"")}}]),p}(l.default.Attributor.Style),w=new y("font","font-family",d);r.FontStyle=w,r.FontClass=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var o=i(0),s=a(o);function a(h){return h&&h.__esModule?h:{default:h}}var l=new s.default.Attributor.Class("size","ql-size",{scope:s.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new s.default.Attributor.Style("size","font-size",{scope:s.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=l,r.SizeStyle=u},function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var o=function(){function _(v,E){for(var I=0;I<E.length;I++){var T=E[I];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(v,T.key,T)}}return function(v,E,I){return E&&_(v.prototype,E),I&&_(v,I),v}}(),s=i(0),a=f(s),l=i(5),u=f(l),h=i(9),c=f(h);function f(_){return _&&_.__esModule?_:{default:_}}function d(_,v){if(!(_ instanceof v))throw new TypeError("Cannot call a class as a function")}function g(_,v){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:_}function y(_,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);_.prototype=Object.create(v&&v.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(_,v):_.__proto__=v)}var w=function(_){y(v,_);function v(E,I){d(this,v);var T=g(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,E,I));return T.lastRecorded=0,T.ignoreChange=!1,T.clear(),T.quill.on(u.default.events.EDITOR_CHANGE,function(b,O,S,k){b!==u.default.events.TEXT_CHANGE||T.ignoreChange||(!T.options.userOnly||k===u.default.sources.USER?T.record(O,S):T.transform(O))}),T.quill.keyboard.addBinding({key:"Z",shortKey:!0},T.undo.bind(T)),T.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},T.redo.bind(T)),/Win/i.test(navigator.platform)&&T.quill.keyboard.addBinding({key:"Y",shortKey:!0},T.redo.bind(T)),T}return o(v,[{key:"change",value:function(I,T){if(this.stack[I].length!==0){var b=this.stack[I].pop();this.stack[T].push(b),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(b[I],u.default.sources.USER),this.ignoreChange=!1;var O=p(b[I]);this.quill.setSelection(O)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(I,T){if(I.ops.length!==0){this.stack.redo=[];var b=this.quill.getContents().diff(T),O=Date.now();if(this.lastRecorded+this.options.delay>O&&this.stack.undo.length>0){var S=this.stack.undo.pop();b=b.compose(S.undo),I=S.redo.compose(I)}else this.lastRecorded=O;this.stack.undo.push({redo:I,undo:b}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(I){this.stack.undo.forEach(function(T){T.undo=I.transform(T.undo,!0),T.redo=I.transform(T.redo,!0)}),this.stack.redo.forEach(function(T){T.undo=I.transform(T.undo,!0),T.redo=I.transform(T.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),v}(c.default);w.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function m(_){var v=_.ops[_.ops.length-1];return v==null?!1:v.insert!=null?typeof v.insert=="string"&&v.insert.endsWith(`
`):v.attributes!=null?Object.keys(v.attributes).some(function(E){return a.default.query(E,a.default.Scope.BLOCK)!=null}):!1}function p(_){var v=_.reduce(function(I,T){return I+=T.delete||0,I},0),E=_.length()-v;return m(_)&&(E-=1),E}r.default=w,r.getLastChangeIndex=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var o=function(){function D(F,Y){for(var W=0;W<Y.length;W++){var x=Y[W];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(F,x.key,x)}}return function(F,Y,W){return Y&&D(F.prototype,Y),W&&D(F,W),F}}(),s=function D(F,Y,W){F===null&&(F=Function.prototype);var x=Object.getOwnPropertyDescriptor(F,Y);if(x===void 0){var $=Object.getPrototypeOf(F);return $===null?void 0:D($,Y,W)}else{if("value"in x)return x.value;var Q=x.get;return Q===void 0?void 0:Q.call(W)}},a=i(3),l=O(a),u=i(2),h=O(u),c=i(8),f=O(c),d=i(23),g=O(d),y=i(34),w=O(y),m=i(59),p=O(m),_=i(60),v=O(_),E=i(28),I=O(E),T=i(61),b=O(T);function O(D){return D&&D.__esModule?D:{default:D}}function S(D,F){if(!(D instanceof F))throw new TypeError("Cannot call a class as a function")}function k(D,F){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F&&(typeof F=="object"||typeof F=="function")?F:D}function C(D,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof F);D.prototype=Object.create(F&&F.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(D,F):D.__proto__=F)}var R=[!1,"center","right","justify"],P=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],j=[!1,"serif","monospace"],H=["1","2","3",!1],B=["small",!1,"large","huge"],K=function(D){C(F,D);function F(Y,W){S(this,F);var x=k(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,Y,W)),$=function Q(X){if(!document.body.contains(Y.root))return document.body.removeEventListener("click",Q);x.tooltip!=null&&!x.tooltip.root.contains(X.target)&&document.activeElement!==x.tooltip.textbox&&!x.quill.hasFocus()&&x.tooltip.hide(),x.pickers!=null&&x.pickers.forEach(function(ee){ee.container.contains(X.target)||ee.close()})};return Y.emitter.listenDOM("click",document.body,$),x}return o(F,[{key:"addModule",value:function(W){var x=s(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"addModule",this).call(this,W);return W==="toolbar"&&this.extendToolbar(x),x}},{key:"buildButtons",value:function(W,x){W.forEach(function($){var Q=$.getAttribute("class")||"";Q.split(/\s+/).forEach(function(X){if(X.startsWith("ql-")&&(X=X.slice(3),x[X]!=null))if(X==="direction")$.innerHTML=x[X][""]+x[X].rtl;else if(typeof x[X]=="string")$.innerHTML=x[X];else{var ee=$.value||"";ee!=null&&x[X][ee]&&($.innerHTML=x[X][ee])}})})}},{key:"buildPickers",value:function(W,x){var $=this;this.pickers=W.map(function(X){if(X.classList.contains("ql-align"))return X.querySelector("option")==null&&A(X,R),new v.default(X,x.align);if(X.classList.contains("ql-background")||X.classList.contains("ql-color")){var ee=X.classList.contains("ql-background")?"background":"color";return X.querySelector("option")==null&&A(X,P,ee==="background"?"#ffffff":"#000000"),new p.default(X,x[ee])}else return X.querySelector("option")==null&&(X.classList.contains("ql-font")?A(X,j):X.classList.contains("ql-header")?A(X,H):X.classList.contains("ql-size")&&A(X,B)),new I.default(X)});var Q=function(){$.pickers.forEach(function(ee){ee.update()})};this.quill.on(f.default.events.EDITOR_CHANGE,Q)}}]),F}(w.default);K.DEFAULTS=(0,l.default)(!0,{},w.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var F=this,Y=this.container.querySelector("input.ql-image[type=file]");Y==null&&(Y=document.createElement("input"),Y.setAttribute("type","file"),Y.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),Y.classList.add("ql-image"),Y.addEventListener("change",function(){if(Y.files!=null&&Y.files[0]!=null){var W=new FileReader;W.onload=function(x){var $=F.quill.getSelection(!0);F.quill.updateContents(new h.default().retain($.index).delete($.length).insert({image:x.target.result}),f.default.sources.USER),F.quill.setSelection($.index+1,f.default.sources.SILENT),Y.value=""},W.readAsDataURL(Y.files[0])}}),this.container.appendChild(Y)),Y.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var U=function(D){C(F,D);function F(Y,W){S(this,F);var x=k(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,Y,W));return x.textbox=x.root.querySelector('input[type="text"]'),x.listen(),x}return o(F,[{key:"listen",value:function(){var W=this;this.textbox.addEventListener("keydown",function(x){g.default.match(x,"enter")?(W.save(),x.preventDefault()):g.default.match(x,"escape")&&(W.cancel(),x.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),x!=null?this.textbox.value=x:W!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+W)||""),this.root.setAttribute("data-mode",W)}},{key:"restoreFocus",value:function(){var W=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=W}},{key:"save",value:function(){var W=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var x=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",W,f.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",W,f.default.sources.USER)),this.quill.root.scrollTop=x;break}case"video":W=M(W);case"formula":{if(!W)break;var $=this.quill.getSelection(!0);if($!=null){var Q=$.index+$.length;this.quill.insertEmbed(Q,this.root.getAttribute("data-mode"),W,f.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(Q+1," ",f.default.sources.USER),this.quill.setSelection(Q+2,f.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),F}(b.default);function M(D){var F=D.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||D.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return F?(F[1]||"https")+"://www.youtube.com/embed/"+F[2]+"?showinfo=0":(F=D.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(F[1]||"https")+"://player.vimeo.com/video/"+F[2]+"/":D}function A(D,F){var Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;F.forEach(function(W){var x=document.createElement("option");W===Y?x.setAttribute("selected","selected"):x.setAttribute("value",W),D.appendChild(x)})}r.BaseTooltip=U,r.default=K},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function s(){this.head=this.tail=null,this.length=0}return s.prototype.append=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];this.insertBefore(a[0],null),a.length>1&&this.append.apply(this,a.slice(1))},s.prototype.contains=function(a){for(var l,u=this.iterator();l=u();)if(l===a)return!0;return!1},s.prototype.insertBefore=function(a,l){a&&(a.next=l,l!=null?(a.prev=l.prev,l.prev!=null&&(l.prev.next=a),l.prev=a,l===this.head&&(this.head=a)):this.tail!=null?(this.tail.next=a,a.prev=this.tail,this.tail=a):(a.prev=null,this.head=this.tail=a),this.length+=1)},s.prototype.offset=function(a){for(var l=0,u=this.head;u!=null;){if(u===a)return l;l+=u.length(),u=u.next}return-1},s.prototype.remove=function(a){this.contains(a)&&(a.prev!=null&&(a.prev.next=a.next),a.next!=null&&(a.next.prev=a.prev),a===this.head&&(this.head=a.next),a===this.tail&&(this.tail=a.prev),this.length-=1)},s.prototype.iterator=function(a){return a===void 0&&(a=this.head),function(){var l=a;return a!=null&&(a=a.next),l}},s.prototype.find=function(a,l){l===void 0&&(l=!1);for(var u,h=this.iterator();u=h();){var c=u.length();if(a<c||l&&a===c&&(u.next==null||u.next.length()!==0))return[u,a];a-=c}return[null,0]},s.prototype.forEach=function(a){for(var l,u=this.iterator();l=u();)a(l)},s.prototype.forEachAt=function(a,l,u){if(!(l<=0))for(var h=this.find(a),c=h[0],f=h[1],d,g=a-f,y=this.iterator(c);(d=y())&&g<a+l;){var w=d.length();a>g?u(d,a-g,Math.min(l,g+w-a)):u(d,0,Math.min(w,a+l-g)),g+=w}},s.prototype.map=function(a){return this.reduce(function(l,u){return l.push(a(u)),l},[])},s.prototype.reduce=function(a,l){for(var u,h=this.iterator();u=h();)l=a(l,u);return l},s}();r.default=o},function(n,r,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var g in d)d.hasOwnProperty(g)&&(f[g]=d[g])};return function(f,d){c(f,d);function g(){this.constructor=f}f.prototype=d===null?Object.create(d):(g.prototype=d.prototype,new g)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),a=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,h=function(c){o(f,c);function f(d){var g=c.call(this,d)||this;return g.scroll=g,g.observer=new MutationObserver(function(y){g.update(y)}),g.observer.observe(g.domNode,l),g.attach(),g}return f.prototype.detach=function(){c.prototype.detach.call(this),this.observer.disconnect()},f.prototype.deleteAt=function(d,g){this.update(),d===0&&g===this.length()?this.children.forEach(function(y){y.remove()}):c.prototype.deleteAt.call(this,d,g)},f.prototype.formatAt=function(d,g,y,w){this.update(),c.prototype.formatAt.call(this,d,g,y,w)},f.prototype.insertAt=function(d,g,y){this.update(),c.prototype.insertAt.call(this,d,g,y)},f.prototype.optimize=function(d,g){var y=this;d===void 0&&(d=[]),g===void 0&&(g={}),c.prototype.optimize.call(this,g);for(var w=[].slice.call(this.observer.takeRecords());w.length>0;)d.push(w.pop());for(var m=function(E,I){I===void 0&&(I=!0),!(E==null||E===y)&&E.domNode.parentNode!=null&&(E.domNode[a.DATA_KEY].mutations==null&&(E.domNode[a.DATA_KEY].mutations=[]),I&&m(E.parent))},p=function(E){E.domNode[a.DATA_KEY]==null||E.domNode[a.DATA_KEY].mutations==null||(E instanceof s.default&&E.children.forEach(p),E.optimize(g))},_=d,v=0;_.length>0;v+=1){if(v>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(_.forEach(function(E){var I=a.find(E.target,!0);I!=null&&(I.domNode===E.target&&(E.type==="childList"?(m(a.find(E.previousSibling,!1)),[].forEach.call(E.addedNodes,function(T){var b=a.find(T,!1);m(b,!1),b instanceof s.default&&b.children.forEach(function(O){m(O,!1)})})):E.type==="attributes"&&m(I.prev)),m(I))}),this.children.forEach(p),_=[].slice.call(this.observer.takeRecords()),w=_.slice();w.length>0;)d.push(w.pop())}},f.prototype.update=function(d,g){var y=this;g===void 0&&(g={}),d=d||this.observer.takeRecords(),d.map(function(w){var m=a.find(w.target,!0);return m==null?null:m.domNode[a.DATA_KEY].mutations==null?(m.domNode[a.DATA_KEY].mutations=[w],m):(m.domNode[a.DATA_KEY].mutations.push(w),null)}).forEach(function(w){w==null||w===y||w.domNode[a.DATA_KEY]==null||w.update(w.domNode[a.DATA_KEY].mutations||[],g)}),this.domNode[a.DATA_KEY].mutations!=null&&c.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,g),this.optimize(d,g)},f.blotName="scroll",f.defaultChild="block",f.scope=a.Scope.BLOCK_BLOT,f.tagName="DIV",f}(s.default);r.default=h},function(n,r,i){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var d in f)f.hasOwnProperty(d)&&(c[d]=f[d])};return function(c,f){h(c,f);function d(){this.constructor=c}c.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1);function l(h,c){if(Object.keys(h).length!==Object.keys(c).length)return!1;for(var f in h)if(h[f]!==c[f])return!1;return!0}var u=function(h){o(c,h);function c(){return h!==null&&h.apply(this,arguments)||this}return c.formats=function(f){if(f.tagName!==c.tagName)return h.formats.call(this,f)},c.prototype.format=function(f,d){var g=this;f===this.statics.blotName&&!d?(this.children.forEach(function(y){y instanceof s.default||(y=y.wrap(c.blotName,!0)),g.attributes.copy(y)}),this.unwrap()):h.prototype.format.call(this,f,d)},c.prototype.formatAt=function(f,d,g,y){if(this.formats()[g]!=null||a.query(g,a.Scope.ATTRIBUTE)){var w=this.isolate(f,d);w.format(g,y)}else h.prototype.formatAt.call(this,f,d,g,y)},c.prototype.optimize=function(f){h.prototype.optimize.call(this,f);var d=this.formats();if(Object.keys(d).length===0)return this.unwrap();var g=this.next;g instanceof c&&g.prev===this&&l(d,g.formats())&&(g.moveChildren(this),g.remove())},c.blotName="inline",c.scope=a.Scope.INLINE_BLOT,c.tagName="SPAN",c}(s.default);r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var f in c)c.hasOwnProperty(f)&&(h[f]=c[f])};return function(h,c){u(h,c);function f(){this.constructor=h}h.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1),l=function(u){o(h,u);function h(){return u!==null&&u.apply(this,arguments)||this}return h.formats=function(c){var f=a.query(h.blotName).tagName;if(c.tagName!==f)return u.formats.call(this,c)},h.prototype.format=function(c,f){a.query(c,a.Scope.BLOCK)!=null&&(c===this.statics.blotName&&!f?this.replaceWith(h.blotName):u.prototype.format.call(this,c,f))},h.prototype.formatAt=function(c,f,d,g){a.query(d,a.Scope.BLOCK)!=null?this.format(d,g):u.prototype.formatAt.call(this,c,f,d,g)},h.prototype.insertAt=function(c,f,d){if(d==null||a.query(f,a.Scope.INLINE)!=null)u.prototype.insertAt.call(this,c,f,d);else{var g=this.split(c),y=a.create(f,d);g.parent.insertBefore(y,g)}},h.prototype.update=function(c,f){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,c,f)},h.blotName="block",h.scope=a.Scope.BLOCK_BLOT,h.tagName="P",h}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,h){u.__proto__=h}||function(u,h){for(var c in h)h.hasOwnProperty(c)&&(u[c]=h[c])};return function(u,h){l(u,h);function c(){this.constructor=u}u.prototype=h===null?Object.create(h):(c.prototype=h.prototype,new c)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=function(l){o(u,l);function u(){return l!==null&&l.apply(this,arguments)||this}return u.formats=function(h){},u.prototype.format=function(h,c){l.prototype.formatAt.call(this,0,this.length(),h,c)},u.prototype.formatAt=function(h,c,f,d){h===0&&c===this.length()?this.format(f,d):l.prototype.formatAt.call(this,h,c,f,d)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u}(s.default);r.default=a},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var f in c)c.hasOwnProperty(f)&&(h[f]=c[f])};return function(h,c){u(h,c);function f(){this.constructor=h}h.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=i(1),l=function(u){o(h,u);function h(c){var f=u.call(this,c)||this;return f.text=f.statics.value(f.domNode),f}return h.create=function(c){return document.createTextNode(c)},h.value=function(c){var f=c.data;return f.normalize&&(f=f.normalize()),f},h.prototype.deleteAt=function(c,f){this.domNode.data=this.text=this.text.slice(0,c)+this.text.slice(c+f)},h.prototype.index=function(c,f){return this.domNode===c?f:-1},h.prototype.insertAt=function(c,f,d){d==null?(this.text=this.text.slice(0,c)+f+this.text.slice(c),this.domNode.data=this.text):u.prototype.insertAt.call(this,c,f,d)},h.prototype.length=function(){return this.text.length},h.prototype.optimize=function(c){u.prototype.optimize.call(this,c),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof h&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},h.prototype.position=function(c,f){return[this.domNode,c]},h.prototype.split=function(c,f){if(f===void 0&&(f=!1),!f){if(c===0)return this;if(c===this.length())return this.next}var d=a.create(this.domNode.splitText(c));return this.parent.insertBefore(d,this.next),this.text=this.statics.value(this.domNode),d},h.prototype.update=function(c,f){var d=this;c.some(function(g){return g.type==="characterData"&&g.target===d.domNode})&&(this.text=this.statics.value(this.domNode))},h.prototype.value=function(){return this.text},h.blotName="text",h.scope=a.Scope.INLINE_BLOT,h}(s.default);r.default=l},function(n,r,i){var o=document.createElement("div");if(o.classList.toggle("test-class",!1),o.classList.contains("test-class")){var s=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,l){return arguments.length>1&&!this.contains(a)==!l?l:s.call(this,a)}}String.prototype.startsWith||(String.prototype.startsWith=function(a,l){return l=l||0,this.substr(l,a.length)===a}),String.prototype.endsWith||(String.prototype.endsWith=function(a,l){var u=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>u.length)&&(l=u.length),l-=a.length;var h=u.indexOf(a,l);return h!==-1&&h===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),h=u.length>>>0,c=arguments[1],f,d=0;d<h;d++)if(f=u[d],l.call(c,f,d,u))return f}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var i=-1,o=1,s=0;function a(v,E,I){if(v==E)return v?[[s,v]]:[];(I<0||v.length<I)&&(I=null);var T=c(v,E),b=v.substring(0,T);v=v.substring(T),E=E.substring(T),T=f(v,E);var O=v.substring(v.length-T);v=v.substring(0,v.length-T),E=E.substring(0,E.length-T);var S=l(v,E);return b&&S.unshift([s,b]),O&&S.push([s,O]),g(S),I!=null&&(S=m(S,I)),S=p(S),S}function l(v,E){var I;if(!v)return[[o,E]];if(!E)return[[i,v]];var T=v.length>E.length?v:E,b=v.length>E.length?E:v,O=T.indexOf(b);if(O!=-1)return I=[[o,T.substring(0,O)],[s,b],[o,T.substring(O+b.length)]],v.length>E.length&&(I[0][0]=I[2][0]=i),I;if(b.length==1)return[[i,v],[o,E]];var S=d(v,E);if(S){var k=S[0],C=S[1],R=S[2],P=S[3],j=S[4],H=a(k,R),B=a(C,P);return H.concat([[s,j]],B)}return u(v,E)}function u(v,E){for(var I=v.length,T=E.length,b=Math.ceil((I+T)/2),O=b,S=2*b,k=new Array(S),C=new Array(S),R=0;R<S;R++)k[R]=-1,C[R]=-1;k[O+1]=0,C[O+1]=0;for(var P=I-T,j=P%2!=0,H=0,B=0,K=0,U=0,M=0;M<b;M++){for(var A=-M+H;A<=M-B;A+=2){var D=O+A,F;A==-M||A!=M&&k[D-1]<k[D+1]?F=k[D+1]:F=k[D-1]+1;for(var Y=F-A;F<I&&Y<T&&v.charAt(F)==E.charAt(Y);)F++,Y++;if(k[D]=F,F>I)B+=2;else if(Y>T)H+=2;else if(j){var W=O+P-A;if(W>=0&&W<S&&C[W]!=-1){var x=I-C[W];if(F>=x)return h(v,E,F,Y)}}}for(var $=-M+K;$<=M-U;$+=2){var W=O+$,x;$==-M||$!=M&&C[W-1]<C[W+1]?x=C[W+1]:x=C[W-1]+1;for(var Q=x-$;x<I&&Q<T&&v.charAt(I-x-1)==E.charAt(T-Q-1);)x++,Q++;if(C[W]=x,x>I)U+=2;else if(Q>T)K+=2;else if(!j){var D=O+P-$;if(D>=0&&D<S&&k[D]!=-1){var F=k[D],Y=O+F-D;if(x=I-x,F>=x)return h(v,E,F,Y)}}}}return[[i,v],[o,E]]}function h(v,E,I,T){var b=v.substring(0,I),O=E.substring(0,T),S=v.substring(I),k=E.substring(T),C=a(b,O),R=a(S,k);return C.concat(R)}function c(v,E){if(!v||!E||v.charAt(0)!=E.charAt(0))return 0;for(var I=0,T=Math.min(v.length,E.length),b=T,O=0;I<b;)v.substring(O,b)==E.substring(O,b)?(I=b,O=I):T=b,b=Math.floor((T-I)/2+I);return b}function f(v,E){if(!v||!E||v.charAt(v.length-1)!=E.charAt(E.length-1))return 0;for(var I=0,T=Math.min(v.length,E.length),b=T,O=0;I<b;)v.substring(v.length-b,v.length-O)==E.substring(E.length-b,E.length-O)?(I=b,O=I):T=b,b=Math.floor((T-I)/2+I);return b}function d(v,E){var I=v.length>E.length?v:E,T=v.length>E.length?E:v;if(I.length<4||T.length*2<I.length)return null;function b(B,K,U){for(var M=B.substring(U,U+Math.floor(B.length/4)),A=-1,D="",F,Y,W,x;(A=K.indexOf(M,A+1))!=-1;){var $=c(B.substring(U),K.substring(A)),Q=f(B.substring(0,U),K.substring(0,A));D.length<Q+$&&(D=K.substring(A-Q,A)+K.substring(A,A+$),F=B.substring(0,U-Q),Y=B.substring(U+$),W=K.substring(0,A-Q),x=K.substring(A+$))}return D.length*2>=B.length?[F,Y,W,x,D]:null}var O=b(I,T,Math.ceil(I.length/4)),S=b(I,T,Math.ceil(I.length/2)),k;if(!O&&!S)return null;S?O?k=O[4].length>S[4].length?O:S:k=S:k=O;var C,R,P,j;v.length>E.length?(C=k[0],R=k[1],P=k[2],j=k[3]):(P=k[0],j=k[1],C=k[2],R=k[3]);var H=k[4];return[C,R,P,j,H]}function g(v){v.push([s,""]);for(var E=0,I=0,T=0,b="",O="",S;E<v.length;)switch(v[E][0]){case o:T++,O+=v[E][1],E++;break;case i:I++,b+=v[E][1],E++;break;case s:I+T>1?(I!==0&&T!==0&&(S=c(O,b),S!==0&&(E-I-T>0&&v[E-I-T-1][0]==s?v[E-I-T-1][1]+=O.substring(0,S):(v.splice(0,0,[s,O.substring(0,S)]),E++),O=O.substring(S),b=b.substring(S)),S=f(O,b),S!==0&&(v[E][1]=O.substring(O.length-S)+v[E][1],O=O.substring(0,O.length-S),b=b.substring(0,b.length-S))),I===0?v.splice(E-T,I+T,[o,O]):T===0?v.splice(E-I,I+T,[i,b]):v.splice(E-I-T,I+T,[i,b],[o,O]),E=E-I-T+(I?1:0)+(T?1:0)+1):E!==0&&v[E-1][0]==s?(v[E-1][1]+=v[E][1],v.splice(E,1)):E++,T=0,I=0,b="",O="";break}v[v.length-1][1]===""&&v.pop();var k=!1;for(E=1;E<v.length-1;)v[E-1][0]==s&&v[E+1][0]==s&&(v[E][1].substring(v[E][1].length-v[E-1][1].length)==v[E-1][1]?(v[E][1]=v[E-1][1]+v[E][1].substring(0,v[E][1].length-v[E-1][1].length),v[E+1][1]=v[E-1][1]+v[E+1][1],v.splice(E-1,1),k=!0):v[E][1].substring(0,v[E+1][1].length)==v[E+1][1]&&(v[E-1][1]+=v[E+1][1],v[E][1]=v[E][1].substring(v[E+1][1].length)+v[E+1][1],v.splice(E+1,1),k=!0)),E++;k&&g(v)}var y=a;y.INSERT=o,y.DELETE=i,y.EQUAL=s,n.exports=y;function w(v,E){if(E===0)return[s,v];for(var I=0,T=0;T<v.length;T++){var b=v[T];if(b[0]===i||b[0]===s){var O=I+b[1].length;if(E===O)return[T+1,v];if(E<O){v=v.slice();var S=E-I,k=[b[0],b[1].slice(0,S)],C=[b[0],b[1].slice(S)];return v.splice(T,1,k,C),[T+1,v]}else I=O}}throw new Error("cursor_pos is out of bounds!")}function m(v,E){var I=w(v,E),T=I[1],b=I[0],O=T[b],S=T[b+1];if(O==null)return v;if(O[0]!==s)return v;if(S!=null&&O[1]+S[1]===S[1]+O[1])return T.splice(b,2,S,O),_(T,b,2);if(S!=null&&S[1].indexOf(O[1])===0){T.splice(b,2,[S[0],O[1]],[0,O[1]]);var k=S[1].slice(O[1].length);return k.length>0&&T.splice(b+2,0,[S[0],k]),_(T,b,3)}else return v}function p(v){for(var E=!1,I=function(S){return S.charCodeAt(0)>=56320&&S.charCodeAt(0)<=57343},T=function(S){return S.charCodeAt(S.length-1)>=55296&&S.charCodeAt(S.length-1)<=56319},b=2;b<v.length;b+=1)v[b-2][0]===s&&T(v[b-2][1])&&v[b-1][0]===i&&I(v[b-1][1])&&v[b][0]===o&&I(v[b][1])&&(E=!0,v[b-1][1]=v[b-2][1].slice(-1)+v[b-1][1],v[b][1]=v[b-2][1].slice(-1)+v[b][1],v[b-2][1]=v[b-2][1].slice(0,-1));if(!E)return v;for(var O=[],b=0;b<v.length;b+=1)v[b][1].length>0&&O.push(v[b]);return O}function _(v,E,I){for(var T=E+I-1;T>=0&&T>=E-1;T--)if(T+1<v.length){var b=v[T],O=v[T+1];b[0]===O[1]&&v.splice(T,2,[b[0],b[1]+O[1]])}return v}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(o){var s=[];for(var a in o)s.push(a);return s}},function(n,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=i?o:s,r.supported=o;function o(a){return Object.prototype.toString.call(a)=="[object Arguments]"}r.unsupported=s;function s(a){return a&&typeof a=="object"&&typeof a.length=="number"&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}},function(n,r){var i=Object.prototype.hasOwnProperty,o="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(o=!1));function a(u,h,c){this.fn=u,this.context=h,this.once=c||!1}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var h=[],c,f;if(this._eventsCount===0)return h;for(f in c=this._events)i.call(c,f)&&h.push(o?f.slice(1):f);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(c)):h},l.prototype.listeners=function(h,c){var f=o?o+h:h,d=this._events[f];if(c)return!!d;if(!d)return[];if(d.fn)return[d.fn];for(var g=0,y=d.length,w=new Array(y);g<y;g++)w[g]=d[g].fn;return w},l.prototype.emit=function(h,c,f,d,g,y){var w=o?o+h:h;if(!this._events[w])return!1;var m=this._events[w],p=arguments.length,_,v;if(m.fn){switch(m.once&&this.removeListener(h,m.fn,void 0,!0),p){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,c),!0;case 3:return m.fn.call(m.context,c,f),!0;case 4:return m.fn.call(m.context,c,f,d),!0;case 5:return m.fn.call(m.context,c,f,d,g),!0;case 6:return m.fn.call(m.context,c,f,d,g,y),!0}for(v=1,_=new Array(p-1);v<p;v++)_[v-1]=arguments[v];m.fn.apply(m.context,_)}else{var E=m.length,I;for(v=0;v<E;v++)switch(m[v].once&&this.removeListener(h,m[v].fn,void 0,!0),p){case 1:m[v].fn.call(m[v].context);break;case 2:m[v].fn.call(m[v].context,c);break;case 3:m[v].fn.call(m[v].context,c,f);break;case 4:m[v].fn.call(m[v].context,c,f,d);break;default:if(!_)for(I=1,_=new Array(p-1);I<p;I++)_[I-1]=arguments[I];m[v].fn.apply(m[v].context,_)}}return!0},l.prototype.on=function(h,c,f){var d=new a(c,f||this),g=o?o+h:h;return this._events[g]?this._events[g].fn?this._events[g]=[this._events[g],d]:this._events[g].push(d):(this._events[g]=d,this._eventsCount++),this},l.prototype.once=function(h,c,f){var d=new a(c,f||this,!0),g=o?o+h:h;return this._events[g]?this._events[g].fn?this._events[g]=[this._events[g],d]:this._events[g].push(d):(this._events[g]=d,this._eventsCount++),this},l.prototype.removeListener=function(h,c,f,d){var g=o?o+h:h;if(!this._events[g])return this;if(!c)return--this._eventsCount===0?this._events=new s:delete this._events[g],this;var y=this._events[g];if(y.fn)y.fn===c&&(!d||y.once)&&(!f||y.context===f)&&(--this._eventsCount===0?this._events=new s:delete this._events[g]);else{for(var w=0,m=[],p=y.length;w<p;w++)(y[w].fn!==c||d&&!y[w].once||f&&y[w].context!==f)&&m.push(y[w]);m.length?this._events[g]=m.length===1?m[0]:m:--this._eventsCount===0?this._events=new s:delete this._events[g]}return this},l.prototype.removeAllListeners=function(h){var c;return h?(c=o?o+h:h,this._events[c]&&(--this._eventsCount===0?this._events=new s:delete this._events[c])):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=o,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},s=function(){function J(Z,se){var ce=[],ne=!0,be=!1,Ae=void 0;try{for(var Re=Z[Symbol.iterator](),In;!(ne=(In=Re.next()).done)&&(ce.push(In.value),!(se&&ce.length===se));ne=!0);}catch(Yn){be=!0,Ae=Yn}finally{try{!ne&&Re.return&&Re.return()}finally{if(be)throw Ae}}return ce}return function(Z,se){if(Array.isArray(Z))return Z;if(Symbol.iterator in Object(Z))return J(Z,se);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function J(Z,se){for(var ce=0;ce<se.length;ce++){var ne=se[ce];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(Z,ne.key,ne)}}return function(Z,se,ce){return se&&J(Z.prototype,se),ce&&J(Z,ce),Z}}(),l=i(3),u=C(l),h=i(2),c=C(h),f=i(0),d=C(f),g=i(5),y=C(g),w=i(10),m=C(w),p=i(9),_=C(p),v=i(36),E=i(37),I=i(13),T=C(I),b=i(26),O=i(38),S=i(39),k=i(40);function C(J){return J&&J.__esModule?J:{default:J}}function R(J,Z,se){return Z in J?Object.defineProperty(J,Z,{value:se,enumerable:!0,configurable:!0,writable:!0}):J[Z]=se,J}function P(J,Z){if(!(J instanceof Z))throw new TypeError("Cannot call a class as a function")}function j(J,Z){if(!J)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Z&&(typeof Z=="object"||typeof Z=="function")?Z:J}function H(J,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Z);J.prototype=Object.create(Z&&Z.prototype,{constructor:{value:J,enumerable:!1,writable:!0,configurable:!0}}),Z&&(Object.setPrototypeOf?Object.setPrototypeOf(J,Z):J.__proto__=Z)}var B=(0,m.default)("quill:clipboard"),K="__ql-matcher",U=[[Node.TEXT_NODE,Tt],[Node.TEXT_NODE,Ie],["br",he],[Node.ELEMENT_NODE,Ie],[Node.ELEMENT_NODE,ee],[Node.ELEMENT_NODE,Le],[Node.ELEMENT_NODE,X],[Node.ELEMENT_NODE,Mt],["li",we],["b",Q.bind(Q,"bold")],["i",Q.bind(Q,"italic")],["style",_e]],M=[v.AlignAttribute,O.DirectionAttribute].reduce(function(J,Z){return J[Z.keyName]=Z,J},{}),A=[v.AlignStyle,E.BackgroundStyle,b.ColorStyle,O.DirectionStyle,S.FontStyle,k.SizeStyle].reduce(function(J,Z){return J[Z.keyName]=Z,J},{}),D=function(J){H(Z,J);function Z(se,ce){P(this,Z);var ne=j(this,(Z.__proto__||Object.getPrototypeOf(Z)).call(this,se,ce));return ne.quill.root.addEventListener("paste",ne.onPaste.bind(ne)),ne.container=ne.quill.addContainer("ql-clipboard"),ne.container.setAttribute("contenteditable",!0),ne.container.setAttribute("tabindex",-1),ne.matchers=[],U.concat(ne.options.matchers).forEach(function(be){var Ae=s(be,2),Re=Ae[0],In=Ae[1];!ce.matchVisual&&In===Le||ne.addMatcher(Re,In)}),ne}return a(Z,[{key:"addMatcher",value:function(ce,ne){this.matchers.push([ce,ne])}},{key:"convert",value:function(ce){if(typeof ce=="string")return this.container.innerHTML=ce.replace(/\>\r?\n +\</g,"><"),this.convert();var ne=this.quill.getFormat(this.quill.selection.savedRange.index);if(ne[T.default.blotName]){var be=this.container.innerText;return this.container.innerHTML="",new c.default().insert(be,R({},T.default.blotName,ne[T.default.blotName]))}var Ae=this.prepareMatching(),Re=s(Ae,2),In=Re[0],Yn=Re[1],Ze=$(this.container,In,Yn);return W(Ze,`
`)&&Ze.ops[Ze.ops.length-1].attributes==null&&(Ze=Ze.compose(new c.default().retain(Ze.length()-1).delete(1))),B.log("convert",this.container.innerHTML,Ze),this.container.innerHTML="",Ze}},{key:"dangerouslyPasteHTML",value:function(ce,ne){var be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;if(typeof ce=="string")this.quill.setContents(this.convert(ce),ne),this.quill.setSelection(0,y.default.sources.SILENT);else{var Ae=this.convert(ne);this.quill.updateContents(new c.default().retain(ce).concat(Ae),be),this.quill.setSelection(ce+Ae.length(),y.default.sources.SILENT)}}},{key:"onPaste",value:function(ce){var ne=this;if(!(ce.defaultPrevented||!this.quill.isEnabled())){var be=this.quill.getSelection(),Ae=new c.default().retain(be.index),Re=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(y.default.sources.SILENT),setTimeout(function(){Ae=Ae.concat(ne.convert()).delete(be.length),ne.quill.updateContents(Ae,y.default.sources.USER),ne.quill.setSelection(Ae.length()-be.length,y.default.sources.SILENT),ne.quill.scrollingContainer.scrollTop=Re,ne.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ce=this,ne=[],be=[];return this.matchers.forEach(function(Ae){var Re=s(Ae,2),In=Re[0],Yn=Re[1];switch(In){case Node.TEXT_NODE:be.push(Yn);break;case Node.ELEMENT_NODE:ne.push(Yn);break;default:[].forEach.call(ce.container.querySelectorAll(In),function(Ze){Ze[K]=Ze[K]||[],Ze[K].push(Yn)});break}}),[ne,be]}}]),Z}(_.default);D.DEFAULTS={matchers:[],matchVisual:!0};function F(J,Z,se){return(typeof Z>"u"?"undefined":o(Z))==="object"?Object.keys(Z).reduce(function(ce,ne){return F(ce,ne,Z[ne])},J):J.reduce(function(ce,ne){return ne.attributes&&ne.attributes[Z]?ce.push(ne):ce.insert(ne.insert,(0,u.default)({},R({},Z,se),ne.attributes))},new c.default)}function Y(J){if(J.nodeType!==Node.ELEMENT_NODE)return{};var Z="__ql-computed-style";return J[Z]||(J[Z]=window.getComputedStyle(J))}function W(J,Z){for(var se="",ce=J.ops.length-1;ce>=0&&se.length<Z.length;--ce){var ne=J.ops[ce];if(typeof ne.insert!="string")break;se=ne.insert+se}return se.slice(-1*Z.length)===Z}function x(J){if(J.childNodes.length===0)return!1;var Z=Y(J);return["block","list-item"].indexOf(Z.display)>-1}function $(J,Z,se){return J.nodeType===J.TEXT_NODE?se.reduce(function(ce,ne){return ne(J,ce)},new c.default):J.nodeType===J.ELEMENT_NODE?[].reduce.call(J.childNodes||[],function(ce,ne){var be=$(ne,Z,se);return ne.nodeType===J.ELEMENT_NODE&&(be=Z.reduce(function(Ae,Re){return Re(ne,Ae)},be),be=(ne[K]||[]).reduce(function(Ae,Re){return Re(ne,Ae)},be)),ce.concat(be)},new c.default):new c.default}function Q(J,Z,se){return F(se,J,!0)}function X(J,Z){var se=d.default.Attributor.Attribute.keys(J),ce=d.default.Attributor.Class.keys(J),ne=d.default.Attributor.Style.keys(J),be={};return se.concat(ce).concat(ne).forEach(function(Ae){var Re=d.default.query(Ae,d.default.Scope.ATTRIBUTE);Re!=null&&(be[Re.attrName]=Re.value(J),be[Re.attrName])||(Re=M[Ae],Re!=null&&(Re.attrName===Ae||Re.keyName===Ae)&&(be[Re.attrName]=Re.value(J)||void 0),Re=A[Ae],Re!=null&&(Re.attrName===Ae||Re.keyName===Ae)&&(Re=A[Ae],be[Re.attrName]=Re.value(J)||void 0))}),Object.keys(be).length>0&&(Z=F(Z,be)),Z}function ee(J,Z){var se=d.default.query(J);if(se==null)return Z;if(se.prototype instanceof d.default.Embed){var ce={},ne=se.value(J);ne!=null&&(ce[se.blotName]=ne,Z=new c.default().insert(ce,se.formats(J)))}else typeof se.formats=="function"&&(Z=F(Z,se.blotName,se.formats(J)));return Z}function he(J,Z){return W(Z,`
`)||Z.insert(`
`),Z}function _e(){return new c.default}function we(J,Z){var se=d.default.query(J);if(se==null||se.blotName!=="list-item"||!W(Z,`
`))return Z;for(var ce=-1,ne=J.parentNode;!ne.classList.contains("ql-clipboard");)(d.default.query(ne)||{}).blotName==="list"&&(ce+=1),ne=ne.parentNode;return ce<=0?Z:Z.compose(new c.default().retain(Z.length()-1).retain(1,{indent:ce}))}function Ie(J,Z){return W(Z,`
`)||(x(J)||Z.length()>0&&J.nextSibling&&x(J.nextSibling))&&Z.insert(`
`),Z}function Le(J,Z){if(x(J)&&J.nextElementSibling!=null&&!W(Z,`

`)){var se=J.offsetHeight+parseFloat(Y(J).marginTop)+parseFloat(Y(J).marginBottom);J.nextElementSibling.offsetTop>J.offsetTop+se*1.5&&Z.insert(`
`)}return Z}function Mt(J,Z){var se={},ce=J.style||{};return ce.fontStyle&&Y(J).fontStyle==="italic"&&(se.italic=!0),ce.fontWeight&&(Y(J).fontWeight.startsWith("bold")||parseInt(Y(J).fontWeight)>=700)&&(se.bold=!0),Object.keys(se).length>0&&(Z=F(Z,se)),parseFloat(ce.textIndent||0)>0&&(Z=new c.default().insert("	").concat(Z)),Z}function Tt(J,Z){var se=J.data;if(J.parentNode.tagName==="O:P")return Z.insert(se.trim());if(se.trim().length===0&&J.parentNode.classList.contains("ql-clipboard"))return Z;if(!Y(J.parentNode).whiteSpace.startsWith("pre")){var ce=function(be,Ae){return Ae=Ae.replace(/[^\u00a0]/g,""),Ae.length<1&&be?" ":Ae};se=se.replace(/\r\n/g," ").replace(/\n/g," "),se=se.replace(/\s\s+/g,ce.bind(ce,!0)),(J.previousSibling==null&&x(J.parentNode)||J.previousSibling!=null&&x(J.previousSibling))&&(se=se.replace(/^\s+/,ce.bind(ce,!1))),(J.nextSibling==null&&x(J.parentNode)||J.nextSibling!=null&&x(J.nextSibling))&&(se=se.replace(/\s+$/,ce.bind(ce,!1)))}return Z.insert(se)}r.default=D,r.matchAttributor=X,r.matchBlot=ee,r.matchNewline=Ie,r.matchSpacing=Le,r.matchText=Tt},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function g(y,w){for(var m=0;m<w.length;m++){var p=w[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(y,p.key,p)}}return function(y,w,m){return w&&g(y.prototype,w),m&&g(y,m),y}}(),s=function g(y,w,m){y===null&&(y=Function.prototype);var p=Object.getOwnPropertyDescriptor(y,w);if(p===void 0){var _=Object.getPrototypeOf(y);return _===null?void 0:g(_,w,m)}else{if("value"in p)return p.value;var v=p.get;return v===void 0?void 0:v.call(m)}},a=i(6),l=u(a);function u(g){return g&&g.__esModule?g:{default:g}}function h(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function c(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function f(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var d=function(g){f(y,g);function y(){return h(this,y),c(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,[{key:"optimize",value:function(m){s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"optimize",this).call(this,m),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return s(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),y}(l.default);d.blotName="bold",d.tagName=["STRONG","B"],r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var o=function(){function k(C,R){var P=[],j=!0,H=!1,B=void 0;try{for(var K=C[Symbol.iterator](),U;!(j=(U=K.next()).done)&&(P.push(U.value),!(R&&P.length===R));j=!0);}catch(M){H=!0,B=M}finally{try{!j&&K.return&&K.return()}finally{if(H)throw B}}return P}return function(C,R){if(Array.isArray(C))return C;if(Symbol.iterator in Object(C))return k(C,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function k(C,R){for(var P=0;P<R.length;P++){var j=R[P];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(C,j.key,j)}}return function(C,R,P){return R&&k(C.prototype,R),P&&k(C,P),C}}(),a=i(2),l=m(a),u=i(0),h=m(u),c=i(5),f=m(c),d=i(10),g=m(d),y=i(9),w=m(y);function m(k){return k&&k.__esModule?k:{default:k}}function p(k,C,R){return C in k?Object.defineProperty(k,C,{value:R,enumerable:!0,configurable:!0,writable:!0}):k[C]=R,k}function _(k,C){if(!(k instanceof C))throw new TypeError("Cannot call a class as a function")}function v(k,C){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:k}function E(k,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);k.prototype=Object.create(C&&C.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(k,C):k.__proto__=C)}var I=(0,g.default)("quill:toolbar"),T=function(k){E(C,k);function C(R,P){_(this,C);var j=v(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,R,P));if(Array.isArray(j.options.container)){var H=document.createElement("div");O(H,j.options.container),R.container.parentNode.insertBefore(H,R.container),j.container=H}else typeof j.options.container=="string"?j.container=document.querySelector(j.options.container):j.container=j.options.container;if(!(j.container instanceof HTMLElement)){var B;return B=I.error("Container required for toolbar",j.options),v(j,B)}return j.container.classList.add("ql-toolbar"),j.controls=[],j.handlers={},Object.keys(j.options.handlers).forEach(function(K){j.addHandler(K,j.options.handlers[K])}),[].forEach.call(j.container.querySelectorAll("button, select"),function(K){j.attach(K)}),j.quill.on(f.default.events.EDITOR_CHANGE,function(K,U){K===f.default.events.SELECTION_CHANGE&&j.update(U)}),j.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){var K=j.quill.selection.getRange(),U=o(K,1),M=U[0];j.update(M)}),j}return s(C,[{key:"addHandler",value:function(P,j){this.handlers[P]=j}},{key:"attach",value:function(P){var j=this,H=[].find.call(P.classList,function(K){return K.indexOf("ql-")===0});if(H){if(H=H.slice(3),P.tagName==="BUTTON"&&P.setAttribute("type","button"),this.handlers[H]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[H]==null){I.warn("ignoring attaching to disabled format",H,P);return}if(h.default.query(H)==null){I.warn("ignoring attaching to nonexistent format",H,P);return}}var B=P.tagName==="SELECT"?"change":"click";P.addEventListener(B,function(K){var U=void 0;if(P.tagName==="SELECT"){if(P.selectedIndex<0)return;var M=P.options[P.selectedIndex];M.hasAttribute("selected")?U=!1:U=M.value||!1}else P.classList.contains("ql-active")?U=!1:U=P.value||!P.hasAttribute("value"),K.preventDefault();j.quill.focus();var A=j.quill.selection.getRange(),D=o(A,1),F=D[0];if(j.handlers[H]!=null)j.handlers[H].call(j,U);else if(h.default.query(H).prototype instanceof h.default.Embed){if(U=prompt("Enter "+H),!U)return;j.quill.updateContents(new l.default().retain(F.index).delete(F.length).insert(p({},H,U)),f.default.sources.USER)}else j.quill.format(H,U,f.default.sources.USER);j.update(F)}),this.controls.push([H,P])}}},{key:"update",value:function(P){var j=P==null?{}:this.quill.getFormat(P);this.controls.forEach(function(H){var B=o(H,2),K=B[0],U=B[1];if(U.tagName==="SELECT"){var M=void 0;if(P==null)M=null;else if(j[K]==null)M=U.querySelector("option[selected]");else if(!Array.isArray(j[K])){var A=j[K];typeof A=="string"&&(A=A.replace(/\"/g,'\\"')),M=U.querySelector('option[value="'+A+'"]')}M==null?(U.value="",U.selectedIndex=-1):M.selected=!0}else if(P==null)U.classList.remove("ql-active");else if(U.hasAttribute("value")){var D=j[K]===U.getAttribute("value")||j[K]!=null&&j[K].toString()===U.getAttribute("value")||j[K]==null&&!U.getAttribute("value");U.classList.toggle("ql-active",D)}else U.classList.toggle("ql-active",j[K]!=null)})}}]),C}(w.default);T.DEFAULTS={};function b(k,C,R){var P=document.createElement("button");P.setAttribute("type","button"),P.classList.add("ql-"+C),R!=null&&(P.value=R),k.appendChild(P)}function O(k,C){Array.isArray(C[0])||(C=[C]),C.forEach(function(R){var P=document.createElement("span");P.classList.add("ql-formats"),R.forEach(function(j){if(typeof j=="string")b(P,j);else{var H=Object.keys(j)[0],B=j[H];Array.isArray(B)?S(P,H,B):b(P,H,B)}}),k.appendChild(P)})}function S(k,C,R){var P=document.createElement("select");P.classList.add("ql-"+C),R.forEach(function(j){var H=document.createElement("option");j!==!1?H.setAttribute("value",j):H.setAttribute("selected","selected"),P.appendChild(H)}),k.appendChild(P)}T.DEFAULTS={container:null,handlers:{clean:function(){var C=this,R=this.quill.getSelection();if(R!=null)if(R.length==0){var P=this.quill.getFormat();Object.keys(P).forEach(function(j){h.default.query(j,h.default.Scope.INLINE)!=null&&C.quill.format(j,!1)})}else this.quill.removeFormat(R,f.default.sources.USER)},direction:function(C){var R=this.quill.getFormat().align;C==="rtl"&&R==null?this.quill.format("align","right",f.default.sources.USER):!C&&R==="right"&&this.quill.format("align",!1,f.default.sources.USER),this.quill.format("direction",C,f.default.sources.USER)},indent:function(C){var R=this.quill.getSelection(),P=this.quill.getFormat(R),j=parseInt(P.indent||0);if(C==="+1"||C==="-1"){var H=C==="+1"?1:-1;P.direction==="rtl"&&(H*=-1),this.quill.format("indent",j+H,f.default.sources.USER)}},link:function(C){C===!0&&(C=prompt("Enter link URL:")),this.quill.format("link",C,f.default.sources.USER)},list:function(C){var R=this.quill.getSelection(),P=this.quill.getFormat(R);C==="check"?P.list==="checked"||P.list==="unchecked"?this.quill.format("list",!1,f.default.sources.USER):this.quill.format("list","unchecked",f.default.sources.USER):this.quill.format("list",C,f.default.sources.USER)}}},r.default=T,r.addControls=O},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function g(y,w){for(var m=0;m<w.length;m++){var p=w[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(y,p.key,p)}}return function(y,w,m){return w&&g(y.prototype,w),m&&g(y,m),y}}(),s=function g(y,w,m){y===null&&(y=Function.prototype);var p=Object.getOwnPropertyDescriptor(y,w);if(p===void 0){var _=Object.getPrototypeOf(y);return _===null?void 0:g(_,w,m)}else{if("value"in p)return p.value;var v=p.get;return v===void 0?void 0:v.call(m)}},a=i(28),l=u(a);function u(g){return g&&g.__esModule?g:{default:g}}function h(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function c(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function f(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var d=function(g){f(y,g);function y(w,m){h(this,y);var p=c(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,w));return p.label.innerHTML=m,p.container.classList.add("ql-color-picker"),[].slice.call(p.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(_){_.classList.add("ql-primary")}),p}return o(y,[{key:"buildItem",value:function(m){var p=s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"buildItem",this).call(this,m);return p.style.backgroundColor=m.getAttribute("value")||"",p}},{key:"selectItem",value:function(m,p){s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,m,p);var _=this.label.querySelector(".ql-color-label"),v=m&&m.getAttribute("data-value")||"";_&&(_.tagName==="line"?_.style.stroke=v:_.style.fill=v)}}]),y}(l.default);r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function g(y,w){for(var m=0;m<w.length;m++){var p=w[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(y,p.key,p)}}return function(y,w,m){return w&&g(y.prototype,w),m&&g(y,m),y}}(),s=function g(y,w,m){y===null&&(y=Function.prototype);var p=Object.getOwnPropertyDescriptor(y,w);if(p===void 0){var _=Object.getPrototypeOf(y);return _===null?void 0:g(_,w,m)}else{if("value"in p)return p.value;var v=p.get;return v===void 0?void 0:v.call(m)}},a=i(28),l=u(a);function u(g){return g&&g.__esModule?g:{default:g}}function h(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function c(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function f(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var d=function(g){f(y,g);function y(w,m){h(this,y);var p=c(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,w));return p.container.classList.add("ql-icon-picker"),[].forEach.call(p.container.querySelectorAll(".ql-picker-item"),function(_){_.innerHTML=m[_.getAttribute("data-value")||""]}),p.defaultItem=p.container.querySelector(".ql-selected"),p.selectItem(p.defaultItem),p}return o(y,[{key:"selectItem",value:function(m,p){s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,m,p),m=m||this.defaultItem,this.label.innerHTML=m.innerHTML}}]),y}(l.default);r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(u,h){for(var c=0;c<h.length;c++){var f=h[c];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}return function(u,h,c){return h&&l(u.prototype,h),c&&l(u,c),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(u,h){var c=this;s(this,l),this.quill=u,this.boundsContainer=h||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){c.root.style.marginTop=-1*c.quill.root.scrollTop+"px"}),this.hide()}return o(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(h){var c=h.left+h.width/2-this.root.offsetWidth/2,f=h.bottom+this.quill.root.scrollTop;this.root.style.left=c+"px",this.root.style.top=f+"px",this.root.classList.remove("ql-flip");var d=this.boundsContainer.getBoundingClientRect(),g=this.root.getBoundingClientRect(),y=0;if(g.right>d.right&&(y=d.right-g.right,this.root.style.left=c+y+"px"),g.left<d.left&&(y=d.left-g.left,this.root.style.left=c+y+"px"),g.bottom>d.bottom){var w=g.bottom-g.top,m=h.bottom-h.top+w;this.root.style.top=f-m+"px",this.root.classList.add("ql-flip")}return y}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function S(k,C){var R=[],P=!0,j=!1,H=void 0;try{for(var B=k[Symbol.iterator](),K;!(P=(K=B.next()).done)&&(R.push(K.value),!(C&&R.length===C));P=!0);}catch(U){j=!0,H=U}finally{try{!P&&B.return&&B.return()}finally{if(j)throw H}}return R}return function(k,C){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return S(k,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function S(k,C,R){k===null&&(k=Function.prototype);var P=Object.getOwnPropertyDescriptor(k,C);if(P===void 0){var j=Object.getPrototypeOf(k);return j===null?void 0:S(j,C,R)}else{if("value"in P)return P.value;var H=P.get;return H===void 0?void 0:H.call(R)}},a=function(){function S(k,C){for(var R=0;R<C.length;R++){var P=C[R];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(k,P.key,P)}}return function(k,C,R){return C&&S(k.prototype,C),R&&S(k,R),k}}(),l=i(3),u=_(l),h=i(8),c=_(h),f=i(43),d=_(f),g=i(27),y=_(g),w=i(15),m=i(41),p=_(m);function _(S){return S&&S.__esModule?S:{default:S}}function v(S,k){if(!(S instanceof k))throw new TypeError("Cannot call a class as a function")}function E(S,k){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:S}function I(S,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);S.prototype=Object.create(k&&k.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(S,k):S.__proto__=k)}var T=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],b=function(S){I(k,S);function k(C,R){v(this,k),R.modules.toolbar!=null&&R.modules.toolbar.container==null&&(R.modules.toolbar.container=T);var P=E(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,C,R));return P.quill.container.classList.add("ql-snow"),P}return a(k,[{key:"extendToolbar",value:function(R){R.container.classList.add("ql-snow"),this.buildButtons([].slice.call(R.container.querySelectorAll("button")),p.default),this.buildPickers([].slice.call(R.container.querySelectorAll("select")),p.default),this.tooltip=new O(this.quill,this.options.bounds),R.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(P,j){R.handlers.link.call(R,!j.format.link)})}}]),k}(d.default);b.DEFAULTS=(0,u.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(k){if(k){var C=this.quill.getSelection();if(C==null||C.length==0)return;var R=this.quill.getText(C);/^\S+@\S+\.\S+$/.test(R)&&R.indexOf("mailto:")!==0&&(R="mailto:"+R);var P=this.quill.theme.tooltip;P.edit("link",R)}else this.quill.format("link",!1)}}}}});var O=function(S){I(k,S);function k(C,R){v(this,k);var P=E(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,C,R));return P.preview=P.root.querySelector("a.ql-preview"),P}return a(k,[{key:"listen",value:function(){var R=this;s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(P){R.root.classList.contains("ql-editing")?R.save():R.edit("link",R.preview.textContent),P.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(P){if(R.linkRange!=null){var j=R.linkRange;R.restoreFocus(),R.quill.formatText(j,"link",!1,c.default.sources.USER),delete R.linkRange}P.preventDefault(),R.hide()}),this.quill.on(c.default.events.SELECTION_CHANGE,function(P,j,H){if(P!=null){if(P.length===0&&H===c.default.sources.USER){var B=R.quill.scroll.descendant(y.default,P.index),K=o(B,2),U=K[0],M=K[1];if(U!=null){R.linkRange=new w.Range(P.index-M,U.length());var A=y.default.formats(U.domNode);R.preview.textContent=A,R.preview.setAttribute("href",A),R.show(),R.position(R.quill.getBounds(R.linkRange));return}}else delete R.linkRange;R.hide()}})}},{key:"show",value:function(){s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),k}(f.BaseTooltip);O.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=b},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(29),s=ne(o),a=i(36),l=i(38),u=i(64),h=i(65),c=ne(h),f=i(66),d=ne(f),g=i(67),y=ne(g),w=i(37),m=i(26),p=i(39),_=i(40),v=i(56),E=ne(v),I=i(68),T=ne(I),b=i(27),O=ne(b),S=i(69),k=ne(S),C=i(70),R=ne(C),P=i(71),j=ne(P),H=i(72),B=ne(H),K=i(73),U=ne(K),M=i(13),A=ne(M),D=i(74),F=ne(D),Y=i(75),W=ne(Y),x=i(57),$=ne(x),Q=i(41),X=ne(Q),ee=i(28),he=ne(ee),_e=i(59),we=ne(_e),Ie=i(60),Le=ne(Ie),Mt=i(61),Tt=ne(Mt),J=i(108),Z=ne(J),se=i(62),ce=ne(se);function ne(be){return be&&be.__esModule?be:{default:be}}s.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":w.BackgroundClass,"attributors/class/color":m.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":p.FontClass,"attributors/class/size":_.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":w.BackgroundStyle,"attributors/style/color":m.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":p.FontStyle,"attributors/style/size":_.SizeStyle},!0),s.default.register({"formats/align":a.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":u.IndentClass,"formats/background":w.BackgroundStyle,"formats/color":m.ColorStyle,"formats/font":p.FontClass,"formats/size":_.SizeClass,"formats/blockquote":c.default,"formats/code-block":A.default,"formats/header":d.default,"formats/list":y.default,"formats/bold":E.default,"formats/code":M.Code,"formats/italic":T.default,"formats/link":O.default,"formats/script":k.default,"formats/strike":R.default,"formats/underline":j.default,"formats/image":B.default,"formats/video":U.default,"formats/list/item":g.ListItem,"modules/formula":F.default,"modules/syntax":W.default,"modules/toolbar":$.default,"themes/bubble":Z.default,"themes/snow":ce.default,"ui/icons":X.default,"ui/picker":he.default,"ui/icon-picker":Le.default,"ui/color-picker":we.default,"ui/tooltip":Tt.default},!0),r.default=s.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var o=function(){function y(w,m){for(var p=0;p<m.length;p++){var _=m[p];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(w,_.key,_)}}return function(w,m,p){return m&&y(w.prototype,m),p&&y(w,p),w}}(),s=function y(w,m,p){w===null&&(w=Function.prototype);var _=Object.getOwnPropertyDescriptor(w,m);if(_===void 0){var v=Object.getPrototypeOf(w);return v===null?void 0:y(v,m,p)}else{if("value"in _)return _.value;var E=_.get;return E===void 0?void 0:E.call(p)}},a=i(0),l=u(a);function u(y){return y&&y.__esModule?y:{default:y}}function h(y,w){if(!(y instanceof w))throw new TypeError("Cannot call a class as a function")}function c(y,w){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:y}function f(y,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);y.prototype=Object.create(w&&w.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(y,w):y.__proto__=w)}var d=function(y){f(w,y);function w(){return h(this,w),c(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return o(w,[{key:"add",value:function(p,_){if(_==="+1"||_==="-1"){var v=this.value(p)||0;_=_==="+1"?v+1:v-1}return _===0?(this.remove(p),!0):s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"add",this).call(this,p,_)}},{key:"canAdd",value:function(p,_){return s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"canAdd",this).call(this,p,_)||s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"canAdd",this).call(this,p,parseInt(_))}},{key:"value",value:function(p){return parseInt(s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"value",this).call(this,p))||void 0}}]),w}(l.default.Attributor.Class),g=new d("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(4),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function u(f,d){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:f}function h(f,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);f.prototype=Object.create(d&&d.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(f,d):f.__proto__=d)}var c=function(f){h(d,f);function d(){return l(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default);c.blotName="blockquote",c.tagName="blockquote",r.default=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function d(g,y){for(var w=0;w<y.length;w++){var m=y[w];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(g,m.key,m)}}return function(g,y,w){return y&&d(g.prototype,y),w&&d(g,w),g}}(),s=i(4),a=l(s);function l(d){return d&&d.__esModule?d:{default:d}}function u(d,g){if(!(d instanceof g))throw new TypeError("Cannot call a class as a function")}function h(d,g){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:d}function c(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);d.prototype=Object.create(g&&g.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(d,g):d.__proto__=g)}var f=function(d){c(g,d);function g(){return u(this,g),h(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,null,[{key:"formats",value:function(w){return this.tagName.indexOf(w.tagName)+1}}]),g}(a.default);f.blotName="header",f.tagName=["H1","H2","H3","H4","H5","H6"],r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var o=function(){function v(E,I){for(var T=0;T<I.length;T++){var b=I[T];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(E,b.key,b)}}return function(E,I,T){return I&&v(E.prototype,I),T&&v(E,T),E}}(),s=function v(E,I,T){E===null&&(E=Function.prototype);var b=Object.getOwnPropertyDescriptor(E,I);if(b===void 0){var O=Object.getPrototypeOf(E);return O===null?void 0:v(O,I,T)}else{if("value"in b)return b.value;var S=b.get;return S===void 0?void 0:S.call(T)}},a=i(0),l=d(a),u=i(4),h=d(u),c=i(25),f=d(c);function d(v){return v&&v.__esModule?v:{default:v}}function g(v,E,I){return E in v?Object.defineProperty(v,E,{value:I,enumerable:!0,configurable:!0,writable:!0}):v[E]=I,v}function y(v,E){if(!(v instanceof E))throw new TypeError("Cannot call a class as a function")}function w(v,E){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:v}function m(v,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);v.prototype=Object.create(E&&E.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(v,E):v.__proto__=E)}var p=function(v){m(E,v);function E(){return y(this,E),w(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return o(E,[{key:"format",value:function(T,b){T===_.blotName&&!b?this.replaceWith(l.default.create(this.statics.scope)):s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"format",this).call(this,T,b)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(T,b){return this.parent.isolate(this.offset(this.parent),this.length()),T===this.parent.statics.blotName?(this.parent.replaceWith(T,b),this):(this.parent.unwrap(),s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"replaceWith",this).call(this,T,b))}}],[{key:"formats",value:function(T){return T.tagName===this.tagName?void 0:s(E.__proto__||Object.getPrototypeOf(E),"formats",this).call(this,T)}}]),E}(h.default);p.blotName="list-item",p.tagName="LI";var _=function(v){m(E,v),o(E,null,[{key:"create",value:function(T){var b=T==="ordered"?"OL":"UL",O=s(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,b);return(T==="checked"||T==="unchecked")&&O.setAttribute("data-checked",T==="checked"),O}},{key:"formats",value:function(T){if(T.tagName==="OL")return"ordered";if(T.tagName==="UL")return T.hasAttribute("data-checked")?T.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function E(I){y(this,E);var T=w(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,I)),b=function(S){if(S.target.parentNode===I){var k=T.statics.formats(I),C=l.default.find(S.target);k==="checked"?C.format("list","unchecked"):k==="unchecked"&&C.format("list","checked")}};return I.addEventListener("touchstart",b),I.addEventListener("mousedown",b),T}return o(E,[{key:"format",value:function(T,b){this.children.length>0&&this.children.tail.format(T,b)}},{key:"formats",value:function(){return g({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(T,b){if(T instanceof p)s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertBefore",this).call(this,T,b);else{var O=b==null?this.length():b.offset(this),S=this.split(O);S.parent.insertBefore(T,S)}}},{key:"optimize",value:function(T){s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"optimize",this).call(this,T);var b=this.next;b!=null&&b.prev===this&&b.statics.blotName===this.statics.blotName&&b.domNode.tagName===this.domNode.tagName&&b.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(b.moveChildren(this),b.remove())}},{key:"replace",value:function(T){if(T.statics.blotName!==this.statics.blotName){var b=l.default.create(this.statics.defaultChild);T.moveChildren(b),this.appendChild(b)}s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"replace",this).call(this,T)}}]),E}(f.default);_.blotName="list",_.scope=l.default.Scope.BLOCK_BLOT,_.tagName=["OL","UL"],_.defaultChild="list-item",_.allowedChildren=[p],r.ListItem=p,r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(56),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function u(f,d){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:f}function h(f,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);f.prototype=Object.create(d&&d.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(f,d):f.__proto__=d)}var c=function(f){h(d,f);function d(){return l(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default);c.blotName="italic",c.tagName=["EM","I"],r.default=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function g(y,w){for(var m=0;m<w.length;m++){var p=w[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(y,p.key,p)}}return function(y,w,m){return w&&g(y.prototype,w),m&&g(y,m),y}}(),s=function g(y,w,m){y===null&&(y=Function.prototype);var p=Object.getOwnPropertyDescriptor(y,w);if(p===void 0){var _=Object.getPrototypeOf(y);return _===null?void 0:g(_,w,m)}else{if("value"in p)return p.value;var v=p.get;return v===void 0?void 0:v.call(m)}},a=i(6),l=u(a);function u(g){return g&&g.__esModule?g:{default:g}}function h(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function c(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function f(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var d=function(g){f(y,g);function y(){return h(this,y),c(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,null,[{key:"create",value:function(m){return m==="super"?document.createElement("sup"):m==="sub"?document.createElement("sub"):s(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,m)}},{key:"formats",value:function(m){if(m.tagName==="SUB")return"sub";if(m.tagName==="SUP")return"super"}}]),y}(l.default);d.blotName="script",d.tagName=["SUB","SUP"],r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function u(f,d){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:f}function h(f,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);f.prototype=Object.create(d&&d.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(f,d):f.__proto__=d)}var c=function(f){h(d,f);function d(){return l(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default);c.blotName="strike",c.tagName="S",r.default=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function u(f,d){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:f}function h(f,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);f.prototype=Object.create(d&&d.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(f,d):f.__proto__=d)}var c=function(f){h(d,f);function d(){return l(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default);c.blotName="underline",c.tagName="U",r.default=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function w(m,p){for(var _=0;_<p.length;_++){var v=p[_];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,v.key,v)}}return function(m,p,_){return p&&w(m.prototype,p),_&&w(m,_),m}}(),s=function w(m,p,_){m===null&&(m=Function.prototype);var v=Object.getOwnPropertyDescriptor(m,p);if(v===void 0){var E=Object.getPrototypeOf(m);return E===null?void 0:w(E,p,_)}else{if("value"in v)return v.value;var I=v.get;return I===void 0?void 0:I.call(_)}},a=i(0),l=h(a),u=i(27);function h(w){return w&&w.__esModule?w:{default:w}}function c(w,m){if(!(w instanceof m))throw new TypeError("Cannot call a class as a function")}function f(w,m){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:w}function d(w,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);w.prototype=Object.create(m&&m.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(w,m):w.__proto__=m)}var g=["alt","height","width"],y=function(w){d(m,w);function m(){return c(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"format",value:function(_,v){g.indexOf(_)>-1?v?this.domNode.setAttribute(_,v):this.domNode.removeAttribute(_):s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,_,v)}}],[{key:"create",value:function(_){var v=s(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,_);return typeof _=="string"&&v.setAttribute("src",this.sanitize(_)),v}},{key:"formats",value:function(_){return g.reduce(function(v,E){return _.hasAttribute(E)&&(v[E]=_.getAttribute(E)),v},{})}},{key:"match",value:function(_){return/\.(jpe?g|gif|png)$/.test(_)||/^data:image\/.+;base64/.test(_)}},{key:"sanitize",value:function(_){return(0,u.sanitize)(_,["http","https","data"])?_:"//:0"}},{key:"value",value:function(_){return _.getAttribute("src")}}]),m}(l.default.Embed);y.blotName="image",y.tagName="IMG",r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function w(m,p){for(var _=0;_<p.length;_++){var v=p[_];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,v.key,v)}}return function(m,p,_){return p&&w(m.prototype,p),_&&w(m,_),m}}(),s=function w(m,p,_){m===null&&(m=Function.prototype);var v=Object.getOwnPropertyDescriptor(m,p);if(v===void 0){var E=Object.getPrototypeOf(m);return E===null?void 0:w(E,p,_)}else{if("value"in v)return v.value;var I=v.get;return I===void 0?void 0:I.call(_)}},a=i(4),l=i(27),u=h(l);function h(w){return w&&w.__esModule?w:{default:w}}function c(w,m){if(!(w instanceof m))throw new TypeError("Cannot call a class as a function")}function f(w,m){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:w}function d(w,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);w.prototype=Object.create(m&&m.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(w,m):w.__proto__=m)}var g=["height","width"],y=function(w){d(m,w);function m(){return c(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"format",value:function(_,v){g.indexOf(_)>-1?v?this.domNode.setAttribute(_,v):this.domNode.removeAttribute(_):s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,_,v)}}],[{key:"create",value:function(_){var v=s(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,_);return v.setAttribute("frameborder","0"),v.setAttribute("allowfullscreen",!0),v.setAttribute("src",this.sanitize(_)),v}},{key:"formats",value:function(_){return g.reduce(function(v,E){return _.hasAttribute(E)&&(v[E]=_.getAttribute(E)),v},{})}},{key:"sanitize",value:function(_){return u.default.sanitize(_)}},{key:"value",value:function(_){return _.getAttribute("src")}}]),m}(a.BlockEmbed);y.blotName="video",y.className="ql-video",y.tagName="IFRAME",r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var o=function(){function _(v,E){for(var I=0;I<E.length;I++){var T=E[I];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(v,T.key,T)}}return function(v,E,I){return E&&_(v.prototype,E),I&&_(v,I),v}}(),s=function _(v,E,I){v===null&&(v=Function.prototype);var T=Object.getOwnPropertyDescriptor(v,E);if(T===void 0){var b=Object.getPrototypeOf(v);return b===null?void 0:_(b,E,I)}else{if("value"in T)return T.value;var O=T.get;return O===void 0?void 0:O.call(I)}},a=i(35),l=d(a),u=i(5),h=d(u),c=i(9),f=d(c);function d(_){return _&&_.__esModule?_:{default:_}}function g(_,v){if(!(_ instanceof v))throw new TypeError("Cannot call a class as a function")}function y(_,v){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:_}function w(_,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);_.prototype=Object.create(v&&v.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(_,v):_.__proto__=v)}var m=function(_){w(v,_);function v(){return g(this,v),y(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,null,[{key:"create",value:function(I){var T=s(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,I);return typeof I=="string"&&(window.katex.render(I,T,{throwOnError:!1,errorColor:"#f00"}),T.setAttribute("data-value",I)),T}},{key:"value",value:function(I){return I.getAttribute("data-value")}}]),v}(l.default);m.blotName="formula",m.className="ql-formula",m.tagName="SPAN";var p=function(_){w(v,_),o(v,null,[{key:"register",value:function(){h.default.register(m,!0)}}]);function v(){g(this,v);var E=y(this,(v.__proto__||Object.getPrototypeOf(v)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return E}return v}(f.default);r.FormulaBlot=m,r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var o=function(){function I(T,b){for(var O=0;O<b.length;O++){var S=b[O];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(T,S.key,S)}}return function(T,b,O){return b&&I(T.prototype,b),O&&I(T,O),T}}(),s=function I(T,b,O){T===null&&(T=Function.prototype);var S=Object.getOwnPropertyDescriptor(T,b);if(S===void 0){var k=Object.getPrototypeOf(T);return k===null?void 0:I(k,b,O)}else{if("value"in S)return S.value;var C=S.get;return C===void 0?void 0:C.call(O)}},a=i(0),l=y(a),u=i(5),h=y(u),c=i(9),f=y(c),d=i(13),g=y(d);function y(I){return I&&I.__esModule?I:{default:I}}function w(I,T){if(!(I instanceof T))throw new TypeError("Cannot call a class as a function")}function m(I,T){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:I}function p(I,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);I.prototype=Object.create(T&&T.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(I,T):I.__proto__=T)}var _=function(I){p(T,I);function T(){return w(this,T),m(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return o(T,[{key:"replaceWith",value:function(O){this.domNode.textContent=this.domNode.textContent,this.attach(),s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"replaceWith",this).call(this,O)}},{key:"highlight",value:function(O){var S=this.domNode.textContent;this.cachedText!==S&&((S.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=O(S),this.domNode.normalize(),this.attach()),this.cachedText=S)}}]),T}(g.default);_.className="ql-syntax";var v=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),E=function(I){p(T,I),o(T,null,[{key:"register",value:function(){h.default.register(v,!0),h.default.register(_,!0)}}]);function T(b,O){w(this,T);var S=m(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,b,O));if(typeof S.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var k=null;return S.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(k),k=setTimeout(function(){S.highlight(),k=null},S.options.interval)}),S.highlight(),S}return o(T,[{key:"highlight",value:function(){var O=this;if(!this.quill.selection.composing){this.quill.update(h.default.sources.USER);var S=this.quill.getSelection();this.quill.scroll.descendants(_).forEach(function(k){k.highlight(O.options.highlight)}),this.quill.update(h.default.sources.SILENT),S!=null&&this.quill.setSelection(S,h.default.sources.SILENT)}}}]),T}(f.default);E.DEFAULTS={highlight:function(){return window.hljs==null?null:function(I){var T=window.hljs.highlightAuto(I);return T.value}}(),interval:1e3},r.CodeBlock=_,r.CodeToken=v,r.default=E},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var o=function T(b,O,S){b===null&&(b=Function.prototype);var k=Object.getOwnPropertyDescriptor(b,O);if(k===void 0){var C=Object.getPrototypeOf(b);return C===null?void 0:T(C,O,S)}else{if("value"in k)return k.value;var R=k.get;return R===void 0?void 0:R.call(S)}},s=function(){function T(b,O){for(var S=0;S<O.length;S++){var k=O[S];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(b,k.key,k)}}return function(b,O,S){return O&&T(b.prototype,O),S&&T(b,S),b}}(),a=i(3),l=w(a),u=i(8),h=w(u),c=i(43),f=w(c),d=i(15),g=i(41),y=w(g);function w(T){return T&&T.__esModule?T:{default:T}}function m(T,b){if(!(T instanceof b))throw new TypeError("Cannot call a class as a function")}function p(T,b){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:T}function _(T,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);T.prototype=Object.create(b&&b.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(T,b):T.__proto__=b)}var v=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],E=function(T){_(b,T);function b(O,S){m(this,b),S.modules.toolbar!=null&&S.modules.toolbar.container==null&&(S.modules.toolbar.container=v);var k=p(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,O,S));return k.quill.container.classList.add("ql-bubble"),k}return s(b,[{key:"extendToolbar",value:function(S){this.tooltip=new I(this.quill,this.options.bounds),this.tooltip.root.appendChild(S.container),this.buildButtons([].slice.call(S.container.querySelectorAll("button")),y.default),this.buildPickers([].slice.call(S.container.querySelectorAll("select")),y.default)}}]),b}(f.default);E.DEFAULTS=(0,l.default)(!0,{},f.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(b){b?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var I=function(T){_(b,T);function b(O,S){m(this,b);var k=p(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,O,S));return k.quill.on(h.default.events.EDITOR_CHANGE,function(C,R,P,j){if(C===h.default.events.SELECTION_CHANGE)if(R!=null&&R.length>0&&j===h.default.sources.USER){k.show(),k.root.style.left="0px",k.root.style.width="",k.root.style.width=k.root.offsetWidth+"px";var H=k.quill.getLines(R.index,R.length);if(H.length===1)k.position(k.quill.getBounds(R));else{var B=H[H.length-1],K=k.quill.getIndex(B),U=Math.min(B.length()-1,R.index+R.length-K),M=k.quill.getBounds(new d.Range(K,U));k.position(M)}}else document.activeElement!==k.textbox&&k.quill.hasFocus()&&k.hide()}),k}return s(b,[{key:"listen",value:function(){var S=this;o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){S.root.classList.remove("ql-editing")}),this.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!S.root.classList.contains("ql-hidden")){var k=S.quill.getSelection();k!=null&&S.position(S.quill.getBounds(k))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(S){var k=o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"position",this).call(this,S),C=this.root.querySelector(".ql-tooltip-arrow");if(C.style.marginLeft="",k===0)return k;C.style.marginLeft=-1*k-C.offsetWidth/2+"px"}}]),b}(c.BaseTooltip);I.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=I,r.default=E},function(n,r,i){n.exports=i(63)}]).default})})(Mx);var AG=Mx.exports,RG=Qn&&Qn.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wd=Qn&&Qn.__assign||function(){return Wd=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Wd.apply(this,arguments)},OG=Qn&&Qn.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},Sm=Qn&&Qn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},qr=Sm(q),PG=Sm(Qc),hu=Sm(CG),DS=Sm(AG),NG=function(t){RG(e,t);function e(n){var r=t.call(this,n)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(o,s,a,l){var u,h,c,f;o==="text-change"?(h=(u=r).onEditorChangeText)===null||h===void 0||h.call(u,r.editor.root.innerHTML,s,l,r.unprivilegedEditor):o==="selection-change"&&((f=(c=r).onEditorChangeSelection)===null||f===void 0||f.call(c,s,l,r.unprivilegedEditor))};var i=r.isControlled()?n.value:n.defaultValue;return r.value=i??"",r}return e.prototype.validateProps=function(n){var r;if(qr.default.Children.count(n.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(qr.default.Children.count(n.children)){var i=qr.default.Children.only(n.children);if(((r=i)===null||r===void 0?void 0:r.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&n.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},e.prototype.shouldComponentUpdate=function(n,r){var i=this,o;if(this.validateProps(n),!this.editor||this.state.generation!==r.generation)return!0;if("value"in n){var s=this.getEditorContents(),a=(o=n.value,o??"");this.isEqualValue(a,s)||this.setEditorContents(this.editor,a)}return n.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,n.readOnly),OG(this.cleanProps,this.dirtyProps).some(function(l){return!hu.default(n[l],i.props[l])})},e.prototype.shouldComponentRegenerate=function(n){var r=this;return this.dirtyProps.some(function(i){return!hu.default(n[i],r.props[i])})},e.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},e.prototype.componentWillUnmount=function(){this.destroyEditor()},e.prototype.componentDidUpdate=function(n,r){var i=this;if(this.editor&&this.shouldComponentRegenerate(n)){var o=this.editor.getContents(),s=this.editor.getSelection();this.regenerationSnapshot={delta:o,selection:s},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==r.generation){var a=this.regenerationSnapshot,o=a.delta,l=a.selection;delete this.regenerationSnapshot,this.instantiateEditor();var u=this.editor;u.setContents(o),MS(function(){return i.setEditorSelection(u,l)})}},e.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},e.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},e.prototype.isControlled=function(){return"value"in this.props},e.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},e.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},e.prototype.createEditor=function(n,r){var i=new DS.default(n,r);return r.tabIndex!=null&&this.setEditorTabIndex(i,r.tabIndex),this.hookEditor(i),i},e.prototype.hookEditor=function(n){this.unprivilegedEditor=this.makeUnprivilegedEditor(n),n.on("editor-change",this.onEditorChange)},e.prototype.unhookEditor=function(n){n.off("editor-change",this.onEditorChange)},e.prototype.getEditorContents=function(){return this.value},e.prototype.getEditorSelection=function(){return this.selection},e.prototype.isDelta=function(n){return n&&n.ops},e.prototype.isEqualValue=function(n,r){return this.isDelta(n)&&this.isDelta(r)?hu.default(n.ops,r.ops):hu.default(n,r)},e.prototype.setEditorContents=function(n,r){var i=this;this.value=r;var o=this.getEditorSelection();typeof r=="string"?n.setContents(n.clipboard.convert(r)):n.setContents(r),MS(function(){return i.setEditorSelection(n,o)})},e.prototype.setEditorSelection=function(n,r){if(this.selection=r,r){var i=n.getLength();r.index=Math.max(0,Math.min(r.index,i-1)),r.length=Math.max(0,Math.min(r.length,i-1-r.index)),n.setSelection(r)}},e.prototype.setEditorTabIndex=function(n,r){var i,o;!((o=(i=n)===null||i===void 0?void 0:i.scroll)===null||o===void 0)&&o.domNode&&(n.scroll.domNode.tabIndex=r)},e.prototype.setEditorReadOnly=function(n,r){r?n.disable():n.enable()},e.prototype.makeUnprivilegedEditor=function(n){var r=n;return{getHTML:function(){return r.root.innerHTML},getLength:r.getLength.bind(r),getText:r.getText.bind(r),getContents:r.getContents.bind(r),getSelection:r.getSelection.bind(r),getBounds:r.getBounds.bind(r)}},e.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var n=PG.default.findDOMNode(this.editingArea);if(!n)throw new Error("Cannot find element for editing area");if(n.nodeType===3)throw new Error("Editing area cannot be a text node");return n},e.prototype.renderEditingArea=function(){var n=this,r=this.props,i=r.children,o=r.preserveWhitespace,s=this.state.generation,a={key:s,ref:function(l){n.editingArea=l}};return qr.default.Children.count(i)?qr.default.cloneElement(qr.default.Children.only(i),a):o?qr.default.createElement("pre",Wd({},a)):qr.default.createElement("div",Wd({},a))},e.prototype.render=function(){var n;return qr.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(n=this.props.className,n??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},e.prototype.onEditorChangeText=function(n,r,i,o){var s,a;if(this.editor){var l=this.isDelta(this.value)?o.getContents():o.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=r,this.value=l,(a=(s=this.props).onChange)===null||a===void 0||a.call(s,n,r,i,o))}},e.prototype.onEditorChangeSelection=function(n,r,i){var o,s,a,l,u,h;if(this.editor){var c=this.getEditorSelection(),f=!c&&n,d=c&&!n;hu.default(n,c)||(this.selection=n,(s=(o=this.props).onChangeSelection)===null||s===void 0||s.call(o,n,r,i),f?(l=(a=this.props).onFocus)===null||l===void 0||l.call(a,n,r,i):d&&((h=(u=this.props).onBlur)===null||h===void 0||h.call(u,c,r,i)))}},e.prototype.focus=function(){this.editor&&this.editor.focus()},e.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},e.displayName="React Quill",e.Quill=DS.default,e.defaultProps={theme:"snow",modules:{},readOnly:!1},e}(qr.default.Component);function MS(t){Promise.resolve().then(t)}var xG=NG;const DG=Hc(xG);/*! @license DOMPurify 3.0.9 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.9/LICENSE */const{entries:Lx,setPrototypeOf:LS,isFrozen:MG,getPrototypeOf:LG,getOwnPropertyDescriptor:FG}=Object;let{freeze:xn,seal:Vr,create:Fx}=Object,{apply:t_,construct:n_}=typeof Reflect<"u"&&Reflect;xn||(xn=function(e){return e});Vr||(Vr=function(e){return e});t_||(t_=function(e,n,r){return e.apply(n,r)});n_||(n_=function(e,n){return new e(...n)});const tf=ar(Array.prototype.forEach),FS=ar(Array.prototype.pop),fu=ar(Array.prototype.push),Rf=ar(String.prototype.toLowerCase),Bg=ar(String.prototype.toString),jG=ar(String.prototype.match),du=ar(String.prototype.replace),UG=ar(String.prototype.indexOf),VG=ar(String.prototype.trim),kr=ar(Object.prototype.hasOwnProperty),Kn=ar(RegExp.prototype.test),pu=$G(TypeError);function ar(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t_(t,e,r)}}function $G(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n_(t,n)}}function Pe(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Rf;LS&&LS(t,null);let r=e.length;for(;r--;){let i=e[r];if(typeof i=="string"){const o=n(i);o!==i&&(MG(e)||(e[r]=o),i=o)}t[i]=!0}return t}function BG(t){for(let e=0;e<t.length;e++)kr(t,e)||(t[e]=null);return t}function ns(t){const e=Fx(null);for(const[n,r]of Lx(t))kr(t,n)&&(Array.isArray(r)?e[n]=BG(r):r&&typeof r=="object"&&r.constructor===Object?e[n]=ns(r):e[n]=r);return e}function nf(t,e){for(;t!==null;){const r=FG(t,e);if(r){if(r.get)return ar(r.get);if(typeof r.value=="function")return ar(r.value)}t=LG(t)}function n(){return null}return n}const jS=xn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),qg=xn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Hg=xn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),qG=xn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Wg=xn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),HG=xn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),US=xn(["#text"]),VS=xn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),zg=xn(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),$S=xn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),rf=xn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),WG=Vr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),zG=Vr(/<%[\w\W]*|[\w\W]*%>/gm),YG=Vr(/\${[\w\W]*}/gm),KG=Vr(/^data-[\-\w.\u00B7-\uFFFF]/),GG=Vr(/^aria-[\-\w]+$/),jx=Vr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),QG=Vr(/^(?:\w+script|data):/i),XG=Vr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ux=Vr(/^html$/i);var BS=Object.freeze({__proto__:null,MUSTACHE_EXPR:WG,ERB_EXPR:zG,TMPLIT_EXPR:YG,DATA_ATTR:KG,ARIA_ATTR:GG,IS_ALLOWED_URI:jx,IS_SCRIPT_OR_DATA:QG,ATTR_WHITESPACE:XG,DOCTYPE_NAME:Ux});const JG=function(){return typeof window>"u"?null:window},ZG=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";n&&n.hasAttribute(i)&&(r=n.getAttribute(i));const o="dompurify"+(r?"#"+r:"");try{return e.createPolicy(o,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function Vx(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:JG();const e=ye=>Vx(ye);if(e.version="3.0.9",e.removed=[],!t||!t.document||t.document.nodeType!==9)return e.isSupported=!1,e;let{document:n}=t;const r=n,i=r.currentScript,{DocumentFragment:o,HTMLTemplateElement:s,Node:a,Element:l,NodeFilter:u,NamedNodeMap:h=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:c,DOMParser:f,trustedTypes:d}=t,g=l.prototype,y=nf(g,"cloneNode"),w=nf(g,"nextSibling"),m=nf(g,"childNodes"),p=nf(g,"parentNode");if(typeof s=="function"){const ye=n.createElement("template");ye.content&&ye.content.ownerDocument&&(n=ye.content.ownerDocument)}let _,v="";const{implementation:E,createNodeIterator:I,createDocumentFragment:T,getElementsByTagName:b}=n,{importNode:O}=r;let S={};e.isSupported=typeof Lx=="function"&&typeof p=="function"&&E&&E.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:k,ERB_EXPR:C,TMPLIT_EXPR:R,DATA_ATTR:P,ARIA_ATTR:j,IS_SCRIPT_OR_DATA:H,ATTR_WHITESPACE:B}=BS;let{IS_ALLOWED_URI:K}=BS,U=null;const M=Pe({},[...jS,...qg,...Hg,...Wg,...US]);let A=null;const D=Pe({},[...VS,...zg,...$S,...rf]);let F=Object.seal(Fx(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Y=null,W=null,x=!0,$=!0,Q=!1,X=!0,ee=!1,he=!1,_e=!1,we=!1,Ie=!1,Le=!1,Mt=!1,Tt=!0,J=!1;const Z="user-content-";let se=!0,ce=!1,ne={},be=null;const Ae=Pe({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Re=null;const In=Pe({},["audio","video","img","source","image","track"]);let Yn=null;const Ze=Pe({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),oa="http://www.w3.org/1998/Math/MathML",rt="http://www.w3.org/2000/svg",Vt="http://www.w3.org/1999/xhtml";let sa=Vt,xm=!1,Dm=null;const OD=Pe({},[oa,rt,Vt],Bg);let zl=null;const PD=["application/xhtml+xml","text/html"],ND="text/html";let $t=null,aa=null;const xD=n.createElement("form"),ww=function(z){return z instanceof RegExp||z instanceof Function},Mm=function(){let z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(aa&&aa===z)){if((!z||typeof z!="object")&&(z={}),z=ns(z),zl=PD.indexOf(z.PARSER_MEDIA_TYPE)===-1?ND:z.PARSER_MEDIA_TYPE,$t=zl==="application/xhtml+xml"?Bg:Rf,U=kr(z,"ALLOWED_TAGS")?Pe({},z.ALLOWED_TAGS,$t):M,A=kr(z,"ALLOWED_ATTR")?Pe({},z.ALLOWED_ATTR,$t):D,Dm=kr(z,"ALLOWED_NAMESPACES")?Pe({},z.ALLOWED_NAMESPACES,Bg):OD,Yn=kr(z,"ADD_URI_SAFE_ATTR")?Pe(ns(Ze),z.ADD_URI_SAFE_ATTR,$t):Ze,Re=kr(z,"ADD_DATA_URI_TAGS")?Pe(ns(In),z.ADD_DATA_URI_TAGS,$t):In,be=kr(z,"FORBID_CONTENTS")?Pe({},z.FORBID_CONTENTS,$t):Ae,Y=kr(z,"FORBID_TAGS")?Pe({},z.FORBID_TAGS,$t):{},W=kr(z,"FORBID_ATTR")?Pe({},z.FORBID_ATTR,$t):{},ne=kr(z,"USE_PROFILES")?z.USE_PROFILES:!1,x=z.ALLOW_ARIA_ATTR!==!1,$=z.ALLOW_DATA_ATTR!==!1,Q=z.ALLOW_UNKNOWN_PROTOCOLS||!1,X=z.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ee=z.SAFE_FOR_TEMPLATES||!1,he=z.WHOLE_DOCUMENT||!1,Ie=z.RETURN_DOM||!1,Le=z.RETURN_DOM_FRAGMENT||!1,Mt=z.RETURN_TRUSTED_TYPE||!1,we=z.FORCE_BODY||!1,Tt=z.SANITIZE_DOM!==!1,J=z.SANITIZE_NAMED_PROPS||!1,se=z.KEEP_CONTENT!==!1,ce=z.IN_PLACE||!1,K=z.ALLOWED_URI_REGEXP||jx,sa=z.NAMESPACE||Vt,F=z.CUSTOM_ELEMENT_HANDLING||{},z.CUSTOM_ELEMENT_HANDLING&&ww(z.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(F.tagNameCheck=z.CUSTOM_ELEMENT_HANDLING.tagNameCheck),z.CUSTOM_ELEMENT_HANDLING&&ww(z.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(F.attributeNameCheck=z.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),z.CUSTOM_ELEMENT_HANDLING&&typeof z.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(F.allowCustomizedBuiltInElements=z.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ee&&($=!1),Le&&(Ie=!0),ne&&(U=Pe({},US),A=[],ne.html===!0&&(Pe(U,jS),Pe(A,VS)),ne.svg===!0&&(Pe(U,qg),Pe(A,zg),Pe(A,rf)),ne.svgFilters===!0&&(Pe(U,Hg),Pe(A,zg),Pe(A,rf)),ne.mathMl===!0&&(Pe(U,Wg),Pe(A,$S),Pe(A,rf))),z.ADD_TAGS&&(U===M&&(U=ns(U)),Pe(U,z.ADD_TAGS,$t)),z.ADD_ATTR&&(A===D&&(A=ns(A)),Pe(A,z.ADD_ATTR,$t)),z.ADD_URI_SAFE_ATTR&&Pe(Yn,z.ADD_URI_SAFE_ATTR,$t),z.FORBID_CONTENTS&&(be===Ae&&(be=ns(be)),Pe(be,z.FORBID_CONTENTS,$t)),se&&(U["#text"]=!0),he&&Pe(U,["html","head","body"]),U.table&&(Pe(U,["tbody"]),delete Y.tbody),z.TRUSTED_TYPES_POLICY){if(typeof z.TRUSTED_TYPES_POLICY.createHTML!="function")throw pu('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof z.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw pu('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');_=z.TRUSTED_TYPES_POLICY,v=_.createHTML("")}else _===void 0&&(_=ZG(d,i)),_!==null&&typeof v=="string"&&(v=_.createHTML(""));xn&&xn(z),aa=z}},Ew=Pe({},["mi","mo","mn","ms","mtext"]),Tw=Pe({},["foreignobject","desc","title","annotation-xml"]),DD=Pe({},["title","style","font","a","script"]),bw=Pe({},[...qg,...Hg,...qG]),Sw=Pe({},[...Wg,...HG]),MD=function(z){let oe=p(z);(!oe||!oe.tagName)&&(oe={namespaceURI:sa,tagName:"template"});const me=Rf(z.tagName),et=Rf(oe.tagName);return Dm[z.namespaceURI]?z.namespaceURI===rt?oe.namespaceURI===Vt?me==="svg":oe.namespaceURI===oa?me==="svg"&&(et==="annotation-xml"||Ew[et]):!!bw[me]:z.namespaceURI===oa?oe.namespaceURI===Vt?me==="math":oe.namespaceURI===rt?me==="math"&&Tw[et]:!!Sw[me]:z.namespaceURI===Vt?oe.namespaceURI===rt&&!Tw[et]||oe.namespaceURI===oa&&!Ew[et]?!1:!Sw[me]&&(DD[me]||!bw[me]):!!(zl==="application/xhtml+xml"&&Dm[z.namespaceURI]):!1},Go=function(z){fu(e.removed,{element:z});try{z.parentNode.removeChild(z)}catch{z.remove()}},Lm=function(z,oe){try{fu(e.removed,{attribute:oe.getAttributeNode(z),from:oe})}catch{fu(e.removed,{attribute:null,from:oe})}if(oe.removeAttribute(z),z==="is"&&!A[z])if(Ie||Le)try{Go(oe)}catch{}else try{oe.setAttribute(z,"")}catch{}},kw=function(z){let oe=null,me=null;if(we)z="<remove></remove>"+z;else{const hn=jG(z,/^[\r\n\t ]+/);me=hn&&hn[0]}zl==="application/xhtml+xml"&&sa===Vt&&(z='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+z+"</body></html>");const et=_?_.createHTML(z):z;if(sa===Vt)try{oe=new f().parseFromString(et,zl)}catch{}if(!oe||!oe.documentElement){oe=E.createDocument(sa,"template",null);try{oe.documentElement.innerHTML=xm?v:et}catch{}}const cn=oe.body||oe.documentElement;return z&&me&&cn.insertBefore(n.createTextNode(me),cn.childNodes[0]||null),sa===Vt?b.call(oe,he?"html":"body")[0]:he?oe.documentElement:cn},Iw=function(z){return I.call(z.ownerDocument||z,z,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT,null)},LD=function(z){return z instanceof c&&(typeof z.nodeName!="string"||typeof z.textContent!="string"||typeof z.removeChild!="function"||!(z.attributes instanceof h)||typeof z.removeAttribute!="function"||typeof z.setAttribute!="function"||typeof z.namespaceURI!="string"||typeof z.insertBefore!="function"||typeof z.hasChildNodes!="function")},Cw=function(z){return typeof a=="function"&&z instanceof a},gi=function(z,oe,me){S[z]&&tf(S[z],et=>{et.call(e,oe,me,aa)})},Aw=function(z){let oe=null;if(gi("beforeSanitizeElements",z,null),LD(z))return Go(z),!0;const me=$t(z.nodeName);if(gi("uponSanitizeElement",z,{tagName:me,allowedTags:U}),z.hasChildNodes()&&!Cw(z.firstElementChild)&&Kn(/<[/\w]/g,z.innerHTML)&&Kn(/<[/\w]/g,z.textContent))return Go(z),!0;if(!U[me]||Y[me]){if(!Y[me]&&Ow(me)&&(F.tagNameCheck instanceof RegExp&&Kn(F.tagNameCheck,me)||F.tagNameCheck instanceof Function&&F.tagNameCheck(me)))return!1;if(se&&!be[me]){const et=p(z)||z.parentNode,cn=m(z)||z.childNodes;if(cn&&et){const hn=cn.length;for(let Ln=hn-1;Ln>=0;--Ln)et.insertBefore(y(cn[Ln],!0),w(z))}}return Go(z),!0}return z instanceof l&&!MD(z)||(me==="noscript"||me==="noembed"||me==="noframes")&&Kn(/<\/no(script|embed|frames)/i,z.innerHTML)?(Go(z),!0):(ee&&z.nodeType===3&&(oe=z.textContent,tf([k,C,R],et=>{oe=du(oe,et," ")}),z.textContent!==oe&&(fu(e.removed,{element:z.cloneNode()}),z.textContent=oe)),gi("afterSanitizeElements",z,null),!1)},Rw=function(z,oe,me){if(Tt&&(oe==="id"||oe==="name")&&(me in n||me in xD))return!1;if(!($&&!W[oe]&&Kn(P,oe))){if(!(x&&Kn(j,oe))){if(!A[oe]||W[oe]){if(!(Ow(z)&&(F.tagNameCheck instanceof RegExp&&Kn(F.tagNameCheck,z)||F.tagNameCheck instanceof Function&&F.tagNameCheck(z))&&(F.attributeNameCheck instanceof RegExp&&Kn(F.attributeNameCheck,oe)||F.attributeNameCheck instanceof Function&&F.attributeNameCheck(oe))||oe==="is"&&F.allowCustomizedBuiltInElements&&(F.tagNameCheck instanceof RegExp&&Kn(F.tagNameCheck,me)||F.tagNameCheck instanceof Function&&F.tagNameCheck(me))))return!1}else if(!Yn[oe]){if(!Kn(K,du(me,B,""))){if(!((oe==="src"||oe==="xlink:href"||oe==="href")&&z!=="script"&&UG(me,"data:")===0&&Re[z])){if(!(Q&&!Kn(H,du(me,B,"")))){if(me)return!1}}}}}}return!0},Ow=function(z){return z!=="annotation-xml"&&z.indexOf("-")>0},Pw=function(z){gi("beforeSanitizeAttributes",z,null);const{attributes:oe}=z;if(!oe)return;const me={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:A};let et=oe.length;for(;et--;){const cn=oe[et],{name:hn,namespaceURI:Ln,value:Qo}=cn,Yl=$t(hn);let Fn=hn==="value"?Qo:VG(Qo);if(me.attrName=Yl,me.attrValue=Fn,me.keepAttr=!0,me.forceKeepAttr=void 0,gi("uponSanitizeAttribute",z,me),Fn=me.attrValue,me.forceKeepAttr||(Lm(hn,z),!me.keepAttr))continue;if(!X&&Kn(/\/>/i,Fn)){Lm(hn,z);continue}ee&&tf([k,C,R],xw=>{Fn=du(Fn,xw," ")});const Nw=$t(z.nodeName);if(Rw(Nw,Yl,Fn)){if(J&&(Yl==="id"||Yl==="name")&&(Lm(hn,z),Fn=Z+Fn),_&&typeof d=="object"&&typeof d.getAttributeType=="function"&&!Ln)switch(d.getAttributeType(Nw,Yl)){case"TrustedHTML":{Fn=_.createHTML(Fn);break}case"TrustedScriptURL":{Fn=_.createScriptURL(Fn);break}}try{Ln?z.setAttributeNS(Ln,hn,Fn):z.setAttribute(hn,Fn),FS(e.removed)}catch{}}}gi("afterSanitizeAttributes",z,null)},FD=function ye(z){let oe=null;const me=Iw(z);for(gi("beforeSanitizeShadowDOM",z,null);oe=me.nextNode();)gi("uponSanitizeShadowNode",oe,null),!Aw(oe)&&(oe.content instanceof o&&ye(oe.content),Pw(oe));gi("afterSanitizeShadowDOM",z,null)};return e.sanitize=function(ye){let z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},oe=null,me=null,et=null,cn=null;if(xm=!ye,xm&&(ye="<!-->"),typeof ye!="string"&&!Cw(ye))if(typeof ye.toString=="function"){if(ye=ye.toString(),typeof ye!="string")throw pu("dirty is not a string, aborting")}else throw pu("toString is not a function");if(!e.isSupported)return ye;if(_e||Mm(z),e.removed=[],typeof ye=="string"&&(ce=!1),ce){if(ye.nodeName){const Qo=$t(ye.nodeName);if(!U[Qo]||Y[Qo])throw pu("root node is forbidden and cannot be sanitized in-place")}}else if(ye instanceof a)oe=kw("<!---->"),me=oe.ownerDocument.importNode(ye,!0),me.nodeType===1&&me.nodeName==="BODY"||me.nodeName==="HTML"?oe=me:oe.appendChild(me);else{if(!Ie&&!ee&&!he&&ye.indexOf("<")===-1)return _&&Mt?_.createHTML(ye):ye;if(oe=kw(ye),!oe)return Ie?null:Mt?v:""}oe&&we&&Go(oe.firstChild);const hn=Iw(ce?ye:oe);for(;et=hn.nextNode();)Aw(et)||(et.content instanceof o&&FD(et.content),Pw(et));if(ce)return ye;if(Ie){if(Le)for(cn=T.call(oe.ownerDocument);oe.firstChild;)cn.appendChild(oe.firstChild);else cn=oe;return(A.shadowroot||A.shadowrootmode)&&(cn=O.call(r,cn,!0)),cn}let Ln=he?oe.outerHTML:oe.innerHTML;return he&&U["!doctype"]&&oe.ownerDocument&&oe.ownerDocument.doctype&&oe.ownerDocument.doctype.name&&Kn(Ux,oe.ownerDocument.doctype.name)&&(Ln="<!DOCTYPE "+oe.ownerDocument.doctype.name+`>
`+Ln),ee&&tf([k,C,R],Qo=>{Ln=du(Ln,Qo," ")}),_&&Mt?_.createHTML(Ln):Ln},e.setConfig=function(){let ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Mm(ye),_e=!0},e.clearConfig=function(){aa=null,_e=!1},e.isValidAttribute=function(ye,z,oe){aa||Mm({});const me=$t(ye),et=$t(z);return Rw(me,et,oe)},e.addHook=function(ye,z){typeof z=="function"&&(S[ye]=S[ye]||[],fu(S[ye],z))},e.removeHook=function(ye){if(S[ye])return FS(S[ye])},e.removeHooks=function(ye){S[ye]&&(S[ye]=[])},e.removeAllHooks=function(){S={}},e}var eQ=Vx();const $x=({dataToEdit:t,onFormSubmit:e})=>{const[n,r]=q.useState(""),[i,o]=q.useState(""),[s,a]=q.useState([]),[l,u]=q.useState([]),h=Od.currentUser,c=eQ.sanitize(i);q.useEffect(()=>{t&&(r(t.judul||""),o(t.isi||""),u(t.gambarUrls||[]))},[t]);const f=p=>{const _=Array.from(p.target.files);a(v=>[...v,..._])},d=async()=>{const p=await Promise.all(s.map(async _=>{const v=dl(Ds,`postImages/${_.name}`);return await T$(v,_),fm(v)}));u(p)},g=p=>{const _=dl(Ds,`postImages/${s[p].name}`);MP(_),u(v=>[...v.slice(0,p),...v.slice(p+1)]),a(v=>[...v.slice(0,p),...v.slice(p+1)])},y=async p=>{if(p.preventDefault(),h)try{if(await d(),t){const _=pr(ut,"poststunda",t.id);await c9(_,{judul:n,isi:i,gambarUrls:l}),console.log("Blog post updated successfully!")}else await Ml(sr(ut,"poststunda"),{judul:n,isi:i,gambarUrls:l,createdAt:eH()}),console.log("Blog post created successfully!");r(""),o(""),a([]),u([]),e&&e()}catch(_){console.error("Error creating/updating blog post:",_)}else console.log("User is not authenticated. Redirecting to login page...")},w={toolbar:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],["link","image","video"],["clean"]]},m=["header","bold","italic","underline","strike","list","bullet","link","image","video"];return N.jsxs(N.Fragment,{children:[N.jsxs(ze,{className:"mx-5",onSubmit:y,children:[N.jsxs("h2",{children:[t?"Edit":"Buat"," Postingan Artikel"]}),N.jsx("hr",{className:"text-dark"}),N.jsxs(ze.Group,{className:"my-5",children:[N.jsx(ze.Label,{children:"Judul Artikel"}),N.jsx(ze.Control,{placeholder:"Tuliskan judul artikel disini",type:"text",value:n,onChange:p=>r(p.target.value)})]}),N.jsxs(ze.Group,{className:"my-5",children:[N.jsx(ze.Label,{children:"Isi Artikel"}),N.jsx(DG,{value:c,onChange:p=>o(p),placeholder:"Type your blog content here...",modules:w,formats:m})]}),N.jsxs(ze.Group,{className:"my-5",controlId:"formGridAddress1",children:[N.jsx(ze.Label,{children:"Foto Thumbnail Artikel"}),N.jsx(ze.Control,{type:"file",multiple:!0,onChange:f}),N.jsx(Zr,{className:"mt-1",type:"button",onClick:d,variant:"primary",children:"Upload Foto"})]}),s.length>0&&N.jsx("div",{className:"image-preview mx-5",children:s.map((p,_)=>N.jsxs("div",{children:[N.jsx("img",{src:URL.createObjectURL(p),alt:`Gambar ${_+1}`}),N.jsx(Zr,{type:"button",onClick:()=>g(_),children:"Hapus"})]},_))}),N.jsx(Zr,{className:"my-5",variant:"primary",type:"submit",children:t?"Update":"Submit"})]})," "]})},tQ=()=>N.jsx("div",{children:N.jsx($x,{})}),Bx=()=>{const[t,e]=q.useState([]);q.useEffect(()=>{(async()=>{try{const o=(await Xs(sr(ut,"poststunda"))).docs.map(s=>({id:s.id,...s.data()}));e(o)}catch(i){console.error("Error fetching documents:",i)}})()},[]);const n=async r=>{try{if(console.log("Deleting document with ID:",r),!r){console.error("Invalid documentId:",r);return}await Ns(ut,`poststunda/${r}`),e(i=>i.filter(o=>o.id!==r)),console.log("Document deleted successfully:",r)}catch(i){console.error("Error deleting document:",i)}};return N.jsx(N.Fragment,{children:N.jsxs("div",{className:"document-list-container",children:[N.jsx("h2",{children:"POST TERTUNDA"}),N.jsx("ul",{className:"document-list",children:t.map(r=>N.jsxs("li",{className:"document-card",children:[N.jsxs(Ji,{className:"text-decoration-none",to:`/document/${r.id}`,children:[N.jsx("img",{src:r.gambarUrls,alt:"Thumbnail"}),N.jsxs("div",{className:"document-card-content",children:[N.jsx("h3",{children:r.judul}),N.jsx("p",{children:r.isi})]})]}),N.jsx("button",{onClick:()=>n(r.id),children:"Delete"})]},r.id))})]})})},nQ=()=>N.jsx(N.Fragment,{children:N.jsx(ea,{fluid:!0,className:"bg-light min-vh-100",children:N.jsxs($i,{children:[N.jsx(un,{md:"3",className:"bg-white min-vh-100",children:N.jsx(ta,{})}),N.jsxs(un,{className:"py-5",md:"auto",children:[N.jsx(tQ,{}),N.jsx(Bx,{})]})]})})}),rQ=()=>{const[t,e]=q.useState([]);return q.useEffect(()=>{(async()=>{try{const i=(await Xs(sr(ut,"posts"))).docs.map(o=>({id:o.id,...o.data()}));e(i)}catch(r){console.error("Error fetching posts:",r)}})()},[]),N.jsxs("div",{className:"mx-5",children:[N.jsx("h2",{children:"Posts List"}),N.jsx("ul",{children:t.map(n=>N.jsxs("li",{children:[N.jsx("h3",{children:n.judul}),N.jsx("p",{children:n.isi}),n.gambarUrls&&N.jsx("div",{children:n.gambarUrls.map((r,i)=>N.jsx("img",{src:r,alt:`Post Image ${i+1}`},i))})]},n.id))})]})},iQ=()=>N.jsxs(N.Fragment,{children:[" ",N.jsx(ea,{fluid:!0,className:"bg-light min-vh-100",children:N.jsxs($i,{children:[N.jsx(un,{md:"3",className:"bg-white min-vh-100",children:N.jsx(ta,{})}),N.jsx(un,{className:"py-5",md:"9",children:N.jsx(rQ,{})})]})})]}),oQ=()=>{const[t,e]=q.useState(""),[n,r]=q.useState([]),[i,o]=q.useState([]),[s,a]=q.useState(!1),l=c=>{const f=c.target.files;r([...n,...f]);const d=Array.from(f).map(g=>URL.createObjectURL(g));o([...i,...d])},u=c=>{const f=[...n],d=[...i];f.splice(c,1),d.splice(c,1),r(f),o(d)},h=async()=>{if(!(!t||n.length===0)){a(!0);try{const c=await Ml(sr(ut,"album_foto"),{albumName:t,createdAt:mP()}),f=[];for(const[g,y]of n.entries()){if(!y){console.error("Image does not exist");continue}const w=`album_foto/${c.id}/${g}_${y.name}`,m=dl(Ds,w),p=N1(m,y),_=await new Promise((v,E)=>{p.on("state_changed",null,I=>E(I),async()=>{const I=await fm(p.snapshot.ref);v(I)})});f.push(_)}const d=pr(ut,"album_foto",c.id);await pP(d,{imageUrls:f}),e(""),r([]),o([]),a(!1),console.log("Album uploaded successfully!")}catch(c){console.error("Error during image upload: ",c),a(!1)}}};return N.jsxs("div",{children:[N.jsx("input",{type:"text",placeholder:"Album Name",value:t,onChange:c=>e(c.target.value)}),N.jsx("input",{type:"file",multiple:!0,onChange:l}),N.jsx("button",{onClick:h,disabled:s,children:s?"Uploading...":"Upload Images"}),N.jsx("div",{className:"image-container",children:i.map((c,f)=>N.jsxs("div",{className:"image-item",children:[N.jsx("img",{src:c,alt:`uploaded-img-${f}`,className:"thumbnail"}),N.jsx("button",{onClick:()=>u(f),children:"Delete"})]},f))})]})},sQ=()=>{const[t,e]=q.useState([]);q.useEffect(()=>{(async()=>{try{const o=(await Xs(sr(ut,"album_foto"))).docs.map(s=>({id:s.id,...s.data()}));e(o)}catch(i){console.error("Error fetching albums:",i)}})()},[]);const n=async(r,i)=>{try{await Ns(pr(ut,"album_foto",r)),await Ds.ref(`album_foto/${r}`).delete(),e(s=>s.filter(a=>a.id!==r)),console.log(`Album ${r} and associated images deleted successfully.`)}catch(o){console.error("Error deleting album:",o)}};return N.jsxs("div",{children:[N.jsx("h2",{children:"Daftar Album"}),N.jsx("div",{className:"album-list",children:t.map(r=>N.jsxs("div",{className:"album-card",children:[N.jsx(Ji,{to:`/albums/${r.id}`,children:N.jsx("h3",{children:r.albumName})}),N.jsx("div",{className:"delete-container",children:N.jsx("button",{className:"delete-button",onClick:()=>n(r.id,r.albumName),children:N.jsx($$,{})})})]},r.id))})]})},aQ=()=>N.jsx(ea,{fluid:!0,className:"bg-light min-vh-100",children:N.jsxs($i,{children:[N.jsx(un,{md:"3",className:"bg-white min-vh-100",children:N.jsx(ta,{})}),N.jsxs(un,{className:"py-5",md:"auto",children:[N.jsx(oQ,{}),N.jsx(sQ,{})]})]})}),lQ=()=>{const{id:t}=QC(),e=Tp(),[n,r]=q.useState(null),[i,o]=q.useState(!1),s=()=>{o(!i)},a=async({judul:c,isi:f,gambarUrls:d})=>{try{const g=pr(ut,"poststunda",t);await pP(g,{judul:c,isi:f,gambarUrls:d});const y=await Af(g);r({id:t,...y.data()}),e(-1)}catch(g){console.error("Error updating document:",g)}},l=async c=>{try{const f=pr(ut,"poststunda",c),d=await Af(f);if(d.exists()){const g=d.data(),y=sr(ut,"posts");await Ml(y,g),await Ns(f),console.log("Document transferred and deleted successfully:",c),e(-1)}else console.error("Document not found")}catch(f){console.error("Error transferring and deleting document:",f)}},u=async c=>{try{const f=pr(ut,"poststunda",c);await Ns(f),console.log("Document deleted successfully (without transfer):",c),e(-1)}catch(f){console.error("Error deleting document:",f)}},h=()=>{e(-1)};return q.useEffect(()=>{(async()=>{try{const f=pr(ut,"poststunda",t),d=await Af(f);d.exists()?r({id:t,...d.data()}):console.error("Document not found")}catch(f){console.error("Error fetching document details:",f)}})()},[t]),n?N.jsx(N.Fragment,{children:N.jsx(ea,{fluid:!0,className:"bg-light min-vh-100",children:N.jsxs($i,{children:[N.jsx(un,{md:"3",className:"bg-white min-vh-100",children:N.jsx(ta,{})}),N.jsx(un,{className:"py-5",md:"auto",children:N.jsxs("div",{className:"d-flex flex-column justify-content-center mx-5",children:[N.jsx("img",{src:n.gambarUrls,alt:"Thumbnail"}),N.jsx("h3",{children:n.judul}),N.jsx("div",{dangerouslySetInnerHTML:{__html:n.isi}}),N.jsxs("div",{children:[N.jsx(Zr,{className:"mx-2",variant:"primary",onClick:()=>l(t),children:"Setujui Dan Hapus"}),N.jsx(Zr,{className:"mx-2",variant:"danger",onClick:()=>u(t),children:"Hapus Tanpa Setujui"}),N.jsx(Zr,{className:"mx-2",variant:"success",onClick:s,children:"Edit"}),N.jsx(Zr,{className:"mx-2",variant:"warning",onClick:h,children:"Go Back"})]}),N.jsx("div",{className:"mx-5 mt-5",children:i&&N.jsx($x,{dataToEdit:n,onFormSubmit:c=>a(c)})})]})})]})})}):N.jsx("p",{children:"Loading..."})};function Us(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function pe(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function jc(t){if(!Us(t)&&typeof t!="number")return!1;const e=pe(t);return!isNaN(Number(e))}const uQ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},cQ=(t,e,n)=>{let r;const i=uQ[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Yg(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const hQ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},fQ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dQ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},pQ={date:Yg({formats:hQ,defaultWidth:"full"}),time:Yg({formats:fQ,defaultWidth:"full"}),dateTime:Yg({formats:dQ,defaultWidth:"full"})},mQ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},gQ=(t,e,n,r)=>mQ[t];function mu(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):s;i=t.formattingValues[a]||t.formattingValues[s]}else{const s=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[s]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}const yQ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},vQ={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_Q={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},wQ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},EQ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},TQ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},bQ=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},SQ={ordinalNumber:bQ,era:mu({values:yQ,defaultWidth:"wide"}),quarter:mu({values:vQ,defaultWidth:"wide",argumentCallback:t=>t-1}),month:mu({values:_Q,defaultWidth:"wide"}),day:mu({values:wQ,defaultWidth:"wide"}),dayPeriod:mu({values:EQ,defaultWidth:"wide",formattingValues:TQ,defaultFormattingWidth:"wide"})};function gu(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const s=o[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?IQ(a,c=>c.test(s)):kQ(a,c=>c.test(s));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const h=e.slice(s.length);return{value:u,rest:h}}}function kQ(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function IQ(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function CQ(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],o=e.match(t.parsePattern);if(!o)return null;let s=t.valueCallback?t.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;const a=e.slice(i.length);return{value:s,rest:a}}}const AQ=/^(\d+)(th|st|nd|rd)?/i,RQ=/\d+/i,OQ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},PQ={any:[/^b/i,/^(a|c)/i]},NQ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},xQ={any:[/1/i,/2/i,/3/i,/4/i]},DQ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},MQ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},LQ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},FQ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},jQ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},UQ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},VQ={ordinalNumber:CQ({matchPattern:AQ,parsePattern:RQ,valueCallback:t=>parseInt(t,10)}),era:gu({matchPatterns:OQ,defaultMatchWidth:"wide",parsePatterns:PQ,defaultParseWidth:"any"}),quarter:gu({matchPatterns:NQ,defaultMatchWidth:"wide",parsePatterns:xQ,defaultParseWidth:"any",valueCallback:t=>t+1}),month:gu({matchPatterns:DQ,defaultMatchWidth:"wide",parsePatterns:MQ,defaultParseWidth:"any"}),day:gu({matchPatterns:LQ,defaultMatchWidth:"wide",parsePatterns:FQ,defaultParseWidth:"any"}),dayPeriod:gu({matchPatterns:jQ,defaultMatchWidth:"any",parsePatterns:UQ,defaultParseWidth:"any"})},qx={code:"en-US",formatDistance:cQ,formatLong:pQ,formatRelative:gQ,localize:SQ,match:VQ,options:{weekStartsOn:0,firstWeekContainsDate:1}};let $Q={};function ia(){return $Q}const Hx=6048e5,BQ=864e5,km=6e4,Im=36e5,qQ=1e3;function li(t){const e=pe(t);return e.setHours(0,0,0,0),e}function zd(t){const e=pe(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Uc(t,e){const n=li(t),r=li(e),i=+n-zd(n),o=+r-zd(r);return Math.round((i-o)/BQ)}function Ye(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function aw(t){const e=pe(t),n=Ye(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function HQ(t){const e=pe(t);return Uc(e,aw(e))+1}function Bi(t,e){var a,l,u,h;const n=ia(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((h=(u=n.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??0,i=pe(t),o=i.getDay(),s=(o<r?7:0)+o-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function gl(t){return Bi(t,{weekStartsOn:1})}function Wx(t){const e=pe(t),n=e.getFullYear(),r=Ye(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=gl(r),o=Ye(t,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const s=gl(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function WQ(t){const e=Wx(t),n=Ye(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),gl(n)}function lw(t){const e=pe(t),n=+gl(e)-+WQ(e);return Math.round(n/Hx)+1}function uw(t,e){var h,c,f,d;const n=pe(t),r=n.getFullYear(),i=ia(),o=(e==null?void 0:e.firstWeekContainsDate)??((c=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:c.firstWeekContainsDate)??i.firstWeekContainsDate??((d=(f=i.locale)==null?void 0:f.options)==null?void 0:d.firstWeekContainsDate)??1,s=Ye(t,0);s.setFullYear(r+1,0,o),s.setHours(0,0,0,0);const a=Bi(s,e),l=Ye(t,0);l.setFullYear(r,0,o),l.setHours(0,0,0,0);const u=Bi(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function zQ(t,e){var a,l,u,h;const n=ia(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(u=n.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??1,i=uw(t,e),o=Ye(t,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),Bi(o,e)}function zx(t,e){const n=pe(t),r=+Bi(n,e)-+zQ(n,e);return Math.round(r/Hx)+1}function We(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Gi={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return We(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):We(n+1,2)},d(t,e){return We(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return We(t.getHours()%12||12,e.length)},H(t,e){return We(t.getHours(),e.length)},m(t,e){return We(t.getMinutes(),e.length)},s(t,e){return We(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return We(i,e.length)}},fa={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},qS={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Gi.y(t,e)},Y:function(t,e,n,r){const i=uw(t,r),o=i>0?i:1-i;if(e==="YY"){const s=o%100;return We(s,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):We(o,e.length)},R:function(t,e){const n=Wx(t);return We(n,e.length)},u:function(t,e){const n=t.getFullYear();return We(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return We(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return We(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Gi.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return We(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=zx(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):We(i,e.length)},I:function(t,e,n){const r=lw(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):We(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Gi.d(t,e)},D:function(t,e,n){const r=HQ(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):We(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return We(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return We(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return We(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=fa.noon:r===0?i=fa.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=fa.evening:r>=12?i=fa.afternoon:r>=4?i=fa.morning:i=fa.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Gi.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Gi.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):We(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):We(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Gi.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Gi.s(t,e)},S:function(t,e){return Gi.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return WS(r);case"XXXX":case"XX":return rs(r);case"XXXXX":case"XXX":default:return rs(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return WS(r);case"xxxx":case"xx":return rs(r);case"xxxxx":case"xxx":default:return rs(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+HS(r,":");case"OOOO":default:return"GMT"+rs(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+HS(r,":");case"zzzz":default:return"GMT"+rs(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return We(r,e.length)},T:function(t,e,n){const r=t.getTime();return We(r,e.length)}};function HS(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+e+We(o,2)}function WS(t,e){return t%60===0?(t>0?"-":"+")+We(Math.abs(t)/60,2):rs(t,e)}function rs(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=We(Math.trunc(r/60),2),o=We(r%60,2);return n+i+e+o}const zS=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Yx=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},YQ=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return zS(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",zS(r,e)).replace("{{time}}",Yx(i,e))},Yd={p:Yx,P:YQ},KQ=/^D+$/,GQ=/^Y+$/,QQ=["D","DD","YY","YYYY"];function Kx(t){return KQ.test(t)}function Gx(t){return GQ.test(t)}function r_(t,e,n){const r=XQ(t,e,n);if(console.warn(r),QQ.includes(t))throw new RangeError(r)}function XQ(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const JQ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ZQ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,eX=/^'([^]*?)'?$/,tX=/''/g,nX=/[a-zA-Z]/;function YS(t,e,n){var h,c,f,d,g,y,w,m;const r=ia(),i=(n==null?void 0:n.locale)??r.locale??qx,o=(n==null?void 0:n.firstWeekContainsDate)??((c=(h=n==null?void 0:n.locale)==null?void 0:h.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(f=r.locale)==null?void 0:f.options)==null?void 0:d.firstWeekContainsDate)??1,s=(n==null?void 0:n.weekStartsOn)??((y=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((m=(w=r.locale)==null?void 0:w.options)==null?void 0:m.weekStartsOn)??0,a=pe(t);if(!jc(a))throw new RangeError("Invalid time value");let l=e.match(ZQ).map(p=>{const _=p[0];if(_==="p"||_==="P"){const v=Yd[_];return v(p,i.formatLong)}return p}).join("").match(JQ).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const _=p[0];if(_==="'")return{isToken:!1,value:rX(p)};if(qS[_])return{isToken:!0,value:p};if(_.match(nX))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:p}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const u={firstWeekContainsDate:o,weekStartsOn:s,locale:i};return l.map(p=>{if(!p.isToken)return p.value;const _=p.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Gx(_)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Kx(_))&&r_(_,e,String(t));const v=qS[_[0]];return v(a,_,i.localize,u)}).join("")}function rX(t){const e=t.match(eX);return e?e[1].replace(tX,"'"):t}function Qx(t,e){const n=+pe(t);return Ye(t,n+e)}function i_(t,e){return Qx(t,e*km)}function iX(t,e){return Qx(t,e*Im)}function Ko(t,e){const n=pe(t);return isNaN(e)?Ye(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Kd(t,e){const n=e*7;return Ko(t,n)}function $r(t,e){const n=pe(t);if(isNaN(e))return Ye(t,NaN);if(!e)return n;const r=n.getDate(),i=Ye(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const o=i.getDate();return r>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}function Xx(t,e){const n=e*3;return $r(t,n)}function yl(t,e){return $r(t,e*12)}function oX(t,e){return Ko(t,-e)}function KS(t,e){return Kd(t,-e)}function vl(t,e){return $r(t,-e)}function sX(t,e){return Xx(t,-e)}function Vc(t,e){return yl(t,-e)}function GS(t){return pe(t).getSeconds()}function ui(t){return pe(t).getMinutes()}function ci(t){return pe(t).getHours()}function aX(t){return pe(t).getDay()}function QS(t){return pe(t).getDate()}function wn(t){return pe(t).getMonth()}function xa(t){const e=pe(t);return Math.trunc(e.getMonth()/3)+1}function Oe(t){return pe(t).getFullYear()}function o_(t){return pe(t).getTime()}function lX(t,e){const n=pe(t);return n.setSeconds(e),n}function Of(t,e){const n=pe(t);return n.setMinutes(e),n}function Pf(t,e){const n=pe(t);return n.setHours(e),n}function uX(t){const e=pe(t),n=e.getFullYear(),r=e.getMonth(),i=Ye(t,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function Rn(t,e){const n=pe(t),r=n.getFullYear(),i=n.getDate(),o=Ye(t,0);o.setFullYear(r,e,15),o.setHours(0,0,0,0);const s=uX(o);return n.setMonth(e,Math.min(i,s)),n}function da(t,e){const n=pe(t),r=Math.trunc(n.getMonth()/3)+1,i=e-r;return Rn(n,n.getMonth()+i*3)}function wi(t,e){const n=pe(t);return isNaN(+n)?Ye(t,NaN):(n.setFullYear(e),n)}function XS(t){let e;return t.forEach(n=>{const r=pe(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function JS(t){let e;return t.forEach(function(n){const r=pe(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function Gd(t,e){const n=pe(t),r=pe(e),i=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return i*12+o}function Qd(t,e){const n=pe(t),r=pe(e);return n.getFullYear()-r.getFullYear()}function Jx(t){const e=pe(t);return e.setDate(1),e.setHours(0,0,0,0),e}function s_(t){const e=pe(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function a_(t){const e=pe(t);return e.setHours(23,59,59,999),e}function cX(t,e){var a,l,u,h;const n=ia(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((h=(u=n.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??0,i=pe(t),o=i.getDay(),s=(o<r?-7:0)+6-(o-r);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}function hX(t){const e=pe(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function fX(t){const e=pe(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function dX(t,e){const n=pe(t),r=pe(e);return+n==+r}function pX(t,e){const n=li(t),r=li(e);return+n==+r}function mX(t,e){const n=pe(t),r=pe(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function gX(t,e){const n=pe(t),r=pe(e);return n.getFullYear()===r.getFullYear()}function yX(t,e){const n=s_(t),r=s_(e);return+n==+r}function Lo(t,e){const n=pe(t),r=pe(e);return n.getTime()>r.getTime()}function Vs(t,e){const n=pe(t),r=pe(e);return+n<+r}function $c(t,e){const n=+pe(t),[r,i]=[+pe(e.start),+pe(e.end)].sort((o,s)=>o-s);return n>=r&&n<=i}function vX(){return Object.assign({},ia())}function _X(t,e){const n=e instanceof Date?Ye(e,0):new e(0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}const wX=10;class Zx{constructor(){fe(this,"subPriority",0)}validate(e,n){return!0}}class EX extends Zx{constructor(e,n,r,i,o){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=i,o&&(this.subPriority=o)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}class TX extends Zx{constructor(){super(...arguments);fe(this,"priority",wX);fe(this,"subPriority",-1)}set(n,r){return r.timestampIsSet?n:Ye(n,_X(n,Date))}}class qe{run(e,n,r,i){const o=this.parse(e,n,r,i);return o?{setter:new EX(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,n,r){return!0}}class bX extends qe{constructor(){super(...arguments);fe(this,"priority",140);fe(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"});case"GGGGG":return i.era(n,{width:"narrow"});case"GGGG":default:return i.era(n,{width:"wide"})||i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"})}}set(n,r,i){return r.era=i,n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}const Ct={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Kr={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function At(t,e){return t&&{value:e(t.value),rest:t.rest}}function vt(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Gr(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,o=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:r*(i*Im+o*km+s*qQ),rest:e.slice(n[0].length)}}function eD(t){return vt(Ct.anyDigitsSigned,t)}function kt(t,e){switch(t){case 1:return vt(Ct.singleDigit,e);case 2:return vt(Ct.twoDigits,e);case 3:return vt(Ct.threeDigits,e);case 4:return vt(Ct.fourDigits,e);default:return vt(new RegExp("^\\d{1,"+t+"}"),e)}}function Xd(t,e){switch(t){case 1:return vt(Ct.singleDigitSigned,e);case 2:return vt(Ct.twoDigitsSigned,e);case 3:return vt(Ct.threeDigitsSigned,e);case 4:return vt(Ct.fourDigitsSigned,e);default:return vt(new RegExp("^-?\\d{1,"+t+"}"),e)}}function cw(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function tD(t,e){const n=e>0,r=n?e:1-e;let i;if(r<=50)i=t||100;else{const o=r+50,s=Math.trunc(o/100)*100,a=t>=o%100;i=t+s-(a?100:0)}return n?i:1-i}function nD(t){return t%400===0||t%4===0&&t%100!==0}class SX extends qe{constructor(){super(...arguments);fe(this,"priority",130);fe(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,i){const o=s=>({year:s,isTwoDigitYear:r==="yy"});switch(r){case"y":return At(kt(4,n),o);case"yo":return At(i.ordinalNumber(n,{unit:"year"}),o);default:return At(kt(r.length,n),o)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i){const o=n.getFullYear();if(i.isTwoDigitYear){const a=tD(i.year,o);return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}const s=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}}class kX extends qe{constructor(){super(...arguments);fe(this,"priority",130);fe(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,i){const o=s=>({year:s,isTwoDigitYear:r==="YY"});switch(r){case"Y":return At(kt(4,n),o);case"Yo":return At(i.ordinalNumber(n,{unit:"year"}),o);default:return At(kt(r.length,n),o)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i,o){const s=uw(n,o);if(i.isTwoDigitYear){const l=tD(i.year,s);return n.setFullYear(l,0,o.firstWeekContainsDate),n.setHours(0,0,0,0),Bi(n,o)}const a=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(a,0,o.firstWeekContainsDate),n.setHours(0,0,0,0),Bi(n,o)}}class IX extends qe{constructor(){super(...arguments);fe(this,"priority",130);fe(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return Xd(r==="R"?4:r.length,n)}set(n,r,i){const o=Ye(n,0);return o.setFullYear(i,0,4),o.setHours(0,0,0,0),gl(o)}}class CX extends qe{constructor(){super(...arguments);fe(this,"priority",130);fe(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return Xd(r==="u"?4:r.length,n)}set(n,r,i){return n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}class AX extends qe{constructor(){super(...arguments);fe(this,"priority",120);fe(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"Q":case"QQ":return kt(r.length,n);case"Qo":return i.ordinalNumber(n,{unit:"quarter"});case"QQQ":return i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(n,{width:"wide",context:"formatting"})||i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class RX extends qe{constructor(){super(...arguments);fe(this,"priority",120);fe(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"q":case"qq":return kt(r.length,n);case"qo":return i.ordinalNumber(n,{unit:"quarter"});case"qqq":return i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(n,{width:"wide",context:"standalone"})||i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class OX extends qe{constructor(){super(...arguments);fe(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);fe(this,"priority",110)}parse(n,r,i){const o=s=>s-1;switch(r){case"M":return At(vt(Ct.month,n),o);case"MM":return At(kt(2,n),o);case"Mo":return At(i.ordinalNumber(n,{unit:"month"}),o);case"MMM":return i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(n,{width:"wide",context:"formatting"})||i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}class PX extends qe{constructor(){super(...arguments);fe(this,"priority",110);fe(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,i){const o=s=>s-1;switch(r){case"L":return At(vt(Ct.month,n),o);case"LL":return At(kt(2,n),o);case"Lo":return At(i.ordinalNumber(n,{unit:"month"}),o);case"LLL":return i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(n,{width:"wide",context:"standalone"})||i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}function NX(t,e,n){const r=pe(t),i=zx(r,n)-e;return r.setDate(r.getDate()-i*7),r}class xX extends qe{constructor(){super(...arguments);fe(this,"priority",100);fe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,i){switch(r){case"w":return vt(Ct.week,n);case"wo":return i.ordinalNumber(n,{unit:"week"});default:return kt(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i,o){return Bi(NX(n,i,o),o)}}function DX(t,e){const n=pe(t),r=lw(n)-e;return n.setDate(n.getDate()-r*7),n}class MX extends qe{constructor(){super(...arguments);fe(this,"priority",100);fe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,i){switch(r){case"I":return vt(Ct.week,n);case"Io":return i.ordinalNumber(n,{unit:"week"});default:return kt(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i){return gl(DX(n,i))}}const LX=[31,28,31,30,31,30,31,31,30,31,30,31],FX=[31,29,31,30,31,30,31,31,30,31,30,31];class jX extends qe{constructor(){super(...arguments);fe(this,"priority",90);fe(this,"subPriority",1);fe(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"d":return vt(Ct.date,n);case"do":return i.ordinalNumber(n,{unit:"date"});default:return kt(r.length,n)}}validate(n,r){const i=n.getFullYear(),o=nD(i),s=n.getMonth();return o?r>=1&&r<=FX[s]:r>=1&&r<=LX[s]}set(n,r,i){return n.setDate(i),n.setHours(0,0,0,0),n}}class UX extends qe{constructor(){super(...arguments);fe(this,"priority",90);fe(this,"subpriority",1);fe(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,i){switch(r){case"D":case"DD":return vt(Ct.dayOfYear,n);case"Do":return i.ordinalNumber(n,{unit:"date"});default:return kt(r.length,n)}}validate(n,r){const i=n.getFullYear();return nD(i)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,i){return n.setMonth(0,i),n.setHours(0,0,0,0),n}}function hw(t,e,n){var c,f,d,g;const r=ia(),i=(n==null?void 0:n.weekStartsOn)??((f=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:f.weekStartsOn)??r.weekStartsOn??((g=(d=r.locale)==null?void 0:d.options)==null?void 0:g.weekStartsOn)??0,o=pe(t),s=o.getDay(),l=(e%7+7)%7,u=7-i,h=e<0||e>6?e-(s+u)%7:(l+u)%7-(s+u)%7;return Ko(o,h)}class VX extends qe{constructor(){super(...arguments);fe(this,"priority",90);fe(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,o){return n=hw(n,i,o),n.setHours(0,0,0,0),n}}class $X extends qe{constructor(){super(...arguments);fe(this,"priority",90);fe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,i,o){const s=a=>{const l=Math.floor((a-1)/7)*7;return(a+o.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return At(kt(r.length,n),s);case"eo":return At(i.ordinalNumber(n,{unit:"day"}),s);case"eee":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeeee":return i.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,o){return n=hw(n,i,o),n.setHours(0,0,0,0),n}}class BX extends qe{constructor(){super(...arguments);fe(this,"priority",90);fe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,i,o){const s=a=>{const l=Math.floor((a-1)/7)*7;return(a+o.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return At(kt(r.length,n),s);case"co":return At(i.ordinalNumber(n,{unit:"day"}),s);case"ccc":return i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"ccccc":return i.day(n,{width:"narrow",context:"standalone"});case"cccccc":return i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(n,{width:"wide",context:"standalone"})||i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,o){return n=hw(n,i,o),n.setHours(0,0,0,0),n}}function qX(t){let n=pe(t).getDay();return n===0&&(n=7),n}function HX(t,e){const n=pe(t),r=qX(n),i=e-r;return Ko(n,i)}class WX extends qe{constructor(){super(...arguments);fe(this,"priority",90);fe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,i){const o=s=>s===0?7:s;switch(r){case"i":case"ii":return kt(r.length,n);case"io":return i.ordinalNumber(n,{unit:"day"});case"iii":return At(i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),o);case"iiiii":return At(i.day(n,{width:"narrow",context:"formatting"}),o);case"iiiiii":return At(i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),o);case"iiii":default:return At(i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),o)}}validate(n,r){return r>=1&&r<=7}set(n,r,i){return n=HX(n,i),n.setHours(0,0,0,0),n}}class zX extends qe{constructor(){super(...arguments);fe(this,"priority",80);fe(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(cw(i),0,0,0),n}}class YX extends qe{constructor(){super(...arguments);fe(this,"priority",80);fe(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(cw(i),0,0,0),n}}class KX extends qe{constructor(){super(...arguments);fe(this,"priority",80);fe(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(cw(i),0,0,0),n}}class GX extends qe{constructor(){super(...arguments);fe(this,"priority",70);fe(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,i){switch(r){case"h":return vt(Ct.hour12h,n);case"ho":return i.ordinalNumber(n,{unit:"hour"});default:return kt(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,i){const o=n.getHours()>=12;return o&&i<12?n.setHours(i+12,0,0,0):!o&&i===12?n.setHours(0,0,0,0):n.setHours(i,0,0,0),n}}class QX extends qe{constructor(){super(...arguments);fe(this,"priority",70);fe(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,i){switch(r){case"H":return vt(Ct.hour23h,n);case"Ho":return i.ordinalNumber(n,{unit:"hour"});default:return kt(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,i){return n.setHours(i,0,0,0),n}}class XX extends qe{constructor(){super(...arguments);fe(this,"priority",70);fe(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,i){switch(r){case"K":return vt(Ct.hour11h,n);case"Ko":return i.ordinalNumber(n,{unit:"hour"});default:return kt(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.getHours()>=12&&i<12?n.setHours(i+12,0,0,0):n.setHours(i,0,0,0),n}}class JX extends qe{constructor(){super(...arguments);fe(this,"priority",70);fe(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,i){switch(r){case"k":return vt(Ct.hour24h,n);case"ko":return i.ordinalNumber(n,{unit:"hour"});default:return kt(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,i){const o=i<=24?i%24:i;return n.setHours(o,0,0,0),n}}class ZX extends qe{constructor(){super(...arguments);fe(this,"priority",60);fe(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"m":return vt(Ct.minute,n);case"mo":return i.ordinalNumber(n,{unit:"minute"});default:return kt(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setMinutes(i,0,0),n}}class eJ extends qe{constructor(){super(...arguments);fe(this,"priority",50);fe(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"s":return vt(Ct.second,n);case"so":return i.ordinalNumber(n,{unit:"second"});default:return kt(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setSeconds(i,0),n}}class tJ extends qe{constructor(){super(...arguments);fe(this,"priority",30);fe(this,"incompatibleTokens",["t","T"])}parse(n,r){const i=o=>Math.trunc(o*Math.pow(10,-r.length+3));return At(kt(r.length,n),i)}set(n,r,i){return n.setMilliseconds(i),n}}class nJ extends qe{constructor(){super(...arguments);fe(this,"priority",10);fe(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return Gr(Kr.basicOptionalMinutes,n);case"XX":return Gr(Kr.basic,n);case"XXXX":return Gr(Kr.basicOptionalSeconds,n);case"XXXXX":return Gr(Kr.extendedOptionalSeconds,n);case"XXX":default:return Gr(Kr.extended,n)}}set(n,r,i){return r.timestampIsSet?n:Ye(n,n.getTime()-zd(n)-i)}}class rJ extends qe{constructor(){super(...arguments);fe(this,"priority",10);fe(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return Gr(Kr.basicOptionalMinutes,n);case"xx":return Gr(Kr.basic,n);case"xxxx":return Gr(Kr.basicOptionalSeconds,n);case"xxxxx":return Gr(Kr.extendedOptionalSeconds,n);case"xxx":default:return Gr(Kr.extended,n)}}set(n,r,i){return r.timestampIsSet?n:Ye(n,n.getTime()-zd(n)-i)}}class iJ extends qe{constructor(){super(...arguments);fe(this,"priority",40);fe(this,"incompatibleTokens","*")}parse(n){return eD(n)}set(n,r,i){return[Ye(n,i*1e3),{timestampIsSet:!0}]}}class oJ extends qe{constructor(){super(...arguments);fe(this,"priority",20);fe(this,"incompatibleTokens","*")}parse(n){return eD(n)}set(n,r,i){return[Ye(n,i),{timestampIsSet:!0}]}}const sJ={G:new bX,y:new SX,Y:new kX,R:new IX,u:new CX,Q:new AX,q:new RX,M:new OX,L:new PX,w:new xX,I:new MX,d:new jX,D:new UX,E:new VX,e:new $X,c:new BX,i:new WX,a:new zX,b:new YX,B:new KX,h:new GX,H:new QX,K:new XX,k:new JX,m:new ZX,s:new eJ,S:new tJ,X:new nJ,x:new rJ,t:new iJ,T:new oJ},aJ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,lJ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,uJ=/^'([^]*?)'?$/,cJ=/''/g,hJ=/\S/,fJ=/[a-zA-Z]/;function Kg(t,e,n,r){var y,w,m,p,_,v,E,I;const i=vX(),o=(r==null?void 0:r.locale)??i.locale??qx,s=(r==null?void 0:r.firstWeekContainsDate)??((w=(y=r==null?void 0:r.locale)==null?void 0:y.options)==null?void 0:w.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(m=i.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,a=(r==null?void 0:r.weekStartsOn)??((v=(_=r==null?void 0:r.locale)==null?void 0:_.options)==null?void 0:v.weekStartsOn)??i.weekStartsOn??((I=(E=i.locale)==null?void 0:E.options)==null?void 0:I.weekStartsOn)??0;if(e==="")return t===""?pe(n):Ye(n,NaN);const l={firstWeekContainsDate:s,weekStartsOn:a,locale:o},u=[new TX],h=e.match(lJ).map(T=>{const b=T[0];if(b in Yd){const O=Yd[b];return O(T,o.formatLong)}return T}).join("").match(aJ),c=[];for(let T of h){!(r!=null&&r.useAdditionalWeekYearTokens)&&Gx(T)&&r_(T,e,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&Kx(T)&&r_(T,e,t);const b=T[0],O=sJ[b];if(O){const{incompatibleTokens:S}=O;if(Array.isArray(S)){const C=c.find(R=>S.includes(R.token)||R.token===b);if(C)throw new RangeError(`The format string mustn't contain \`${C.fullToken}\` and \`${T}\` at the same time`)}else if(O.incompatibleTokens==="*"&&c.length>0)throw new RangeError(`The format string mustn't contain \`${T}\` and any other token at the same time`);c.push({token:b,fullToken:T});const k=O.run(t,T,o.match,l);if(!k)return Ye(n,NaN);u.push(k.setter),t=k.rest}else{if(b.match(fJ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");if(T==="''"?T="'":b==="'"&&(T=dJ(T)),t.indexOf(T)===0)t=t.slice(T.length);else return Ye(n,NaN)}}if(t.length>0&&hJ.test(t))return Ye(n,NaN);const f=u.map(T=>T.priority).sort((T,b)=>b-T).filter((T,b,O)=>O.indexOf(T)===b).map(T=>u.filter(b=>b.priority===T).sort((b,O)=>O.subPriority-b.subPriority)).map(T=>T[0]);let d=pe(n);if(isNaN(d.getTime()))return Ye(n,NaN);const g={};for(const T of f){if(!T.validate(d,l))return Ye(n,NaN);const b=T.set(d,g,l);Array.isArray(b)?(d=b[0],Object.assign(g,b[1])):d=b}return Ye(n,d)}function dJ(t){return t.match(uJ)[1].replace(cJ,"'")}function pJ(t,e){const n=(e==null?void 0:e.additionalDigits)??2,r=vJ(t);let i;if(r.date){const l=_J(r.date,n);i=wJ(l.restDateString,l.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const o=i.getTime();let s=0,a;if(r.time&&(s=EJ(r.time),isNaN(s)))return new Date(NaN);if(r.timezone){if(a=TJ(r.timezone),isNaN(a))return new Date(NaN)}else{const l=new Date(o+s),u=new Date(0);return u.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),u.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),u}return new Date(o+s+a)}const of={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},mJ=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,gJ=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,yJ=/^([+-])(\d{2})(?::?(\d{2}))?$/;function vJ(t){const e={},n=t.split(of.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],of.timeZoneDelimiter.test(e.date)&&(e.date=t.split(of.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=of.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function _J(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?i:o*100,restDateString:t.slice((r[1]||r[2]).length)}}function wJ(t,e){if(e===null)return new Date(NaN);const n=t.match(mJ);if(!n)return new Date(NaN);const r=!!n[4],i=yu(n[1]),o=yu(n[2])-1,s=yu(n[3]),a=yu(n[4]),l=yu(n[5])-1;if(r)return CJ(e,a,l)?bJ(e,a,l):new Date(NaN);{const u=new Date(0);return!kJ(e,o,s)||!IJ(e,i)?new Date(NaN):(u.setUTCFullYear(e,o,Math.max(i,s)),u)}}function yu(t){return t?parseInt(t):1}function EJ(t){const e=t.match(gJ);if(!e)return NaN;const n=Gg(e[1]),r=Gg(e[2]),i=Gg(e[3]);return AJ(n,r,i)?n*Im+r*km+i*1e3:NaN}function Gg(t){return t&&parseFloat(t.replace(",","."))||0}function TJ(t){if(t==="Z")return 0;const e=t.match(yJ);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return RJ(r,i)?n*(r*Im+i*km):NaN}function bJ(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,o=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+o),r}const SJ=[31,null,31,30,31,30,31,31,30,31,30,31];function rD(t){return t%400===0||t%4===0&&t%100!==0}function kJ(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(SJ[e]||(rD(t)?29:28))}function IJ(t,e){return e>=1&&e<=(rD(t)?366:365)}function CJ(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function AJ(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function RJ(t,e){return e>=0&&e<=59}function OJ(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,l_(t,e)}function l_(t,e){return l_=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},l_(t,e)}function PJ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ZS(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NJ(t,e,n){return t===e?!0:t.correspondingElement?t.correspondingElement.classList.contains(n):t.classList.contains(n)}function xJ(t,e,n){if(t===e)return!0;for(;t.parentNode||t.host;){if(t.parentNode&&NJ(t,e,n))return!0;t=t.parentNode||t.host}return t}function DJ(t){return document.documentElement.clientWidth<=t.clientX||document.documentElement.clientHeight<=t.clientY}var MJ=function(){if(!(typeof window>"u"||typeof window.addEventListener!="function")){var e=!1,n=Object.defineProperty({},"passive",{get:function(){e=!0}}),r=function(){};return window.addEventListener("testPassiveEventSupport",r,n),window.removeEventListener("testPassiveEventSupport",r,n),e}};function LJ(t){return t===void 0&&(t=0),function(){return++t}}var FJ=LJ(),u_,sf={},Qg={},jJ=["touchstart","touchmove"],UJ="ignore-react-onclickoutside";function ek(t,e){var n={},r=jJ.indexOf(e)!==-1;return r&&u_&&(n.passive=!t.props.preventDefault),n}function Cm(t,e){var n,r,i=t.displayName||t.name||"Component";return r=n=function(o){OJ(s,o);function s(l){var u;return u=o.call(this,l)||this,u.__outsideClickHandler=function(h){if(typeof u.__clickOutsideHandlerProp=="function"){u.__clickOutsideHandlerProp(h);return}var c=u.getInstance();if(typeof c.props.handleClickOutside=="function"){c.props.handleClickOutside(h);return}if(typeof c.handleClickOutside=="function"){c.handleClickOutside(h);return}throw new Error("WrappedComponent: "+i+" lacks a handleClickOutside(event) function for processing outside click events.")},u.__getComponentNode=function(){var h=u.getInstance();return e&&typeof e.setClickOutsideRef=="function"?e.setClickOutsideRef()(h):typeof h.setClickOutsideRef=="function"?h.setClickOutsideRef():Qc.findDOMNode(h)},u.enableOnClickOutside=function(){if(!(typeof document>"u"||Qg[u._uid])){typeof u_>"u"&&(u_=MJ()),Qg[u._uid]=!0;var h=u.props.eventTypes;h.forEach||(h=[h]),sf[u._uid]=function(c){if(u.componentNode!==null&&(u.props.preventDefault&&c.preventDefault(),u.props.stopPropagation&&c.stopPropagation(),!(u.props.excludeScrollbar&&DJ(c)))){var f=c.composed&&c.composedPath&&c.composedPath().shift()||c.target;xJ(f,u.componentNode,u.props.outsideClickIgnoreClass)===document&&u.__outsideClickHandler(c)}},h.forEach(function(c){document.addEventListener(c,sf[u._uid],ek(ZS(u),c))})}},u.disableOnClickOutside=function(){delete Qg[u._uid];var h=sf[u._uid];if(h&&typeof document<"u"){var c=u.props.eventTypes;c.forEach||(c=[c]),c.forEach(function(f){return document.removeEventListener(f,h,ek(ZS(u),f))}),delete sf[u._uid]}},u.getRef=function(h){return u.instanceRef=h},u._uid=FJ(),u}var a=s.prototype;return a.getInstance=function(){if(t.prototype&&!t.prototype.isReactComponent)return this;var u=this.instanceRef;return u.getInstance?u.getInstance():u},a.componentDidMount=function(){if(!(typeof document>"u"||!document.createElement)){var u=this.getInstance();if(e&&typeof e.handleClickOutside=="function"&&(this.__clickOutsideHandlerProp=e.handleClickOutside(u),typeof this.__clickOutsideHandlerProp!="function"))throw new Error("WrappedComponent: "+i+" lacks a function for processing outside click events specified by the handleClickOutside config option.");this.componentNode=this.__getComponentNode(),!this.props.disableOnClickOutside&&this.enableOnClickOutside()}},a.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},a.componentWillUnmount=function(){this.disableOnClickOutside()},a.render=function(){var u=this.props;u.excludeScrollbar;var h=PJ(u,["excludeScrollbar"]);return t.prototype&&t.prototype.isReactComponent?h.ref=this.getRef:h.wrappedRef=this.getRef,h.disableOnClickOutside=this.disableOnClickOutside,h.enableOnClickOutside=this.enableOnClickOutside,q.createElement(t,h)},s}(q.Component),n.displayName="OnClickOutside("+i+")",n.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:e&&e.excludeScrollbar||!1,outsideClickIgnoreClass:UJ,preventDefault:!1,stopPropagation:!1},n.getClass=function(){return t.getClass?t.getClass():t},r}function Fo(t){return iD(t)?(t.nodeName||"").toLowerCase():"#document"}function rr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function zi(t){var e;return(e=(iD(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function iD(t){return t instanceof Node||t instanceof rr(t).Node}function er(t){return t instanceof Element||t instanceof rr(t).Element}function pi(t){return t instanceof HTMLElement||t instanceof rr(t).HTMLElement}function tk(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof rr(t).ShadowRoot}function Th(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Tr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function VJ(t){return["table","td","th"].includes(Fo(t))}function fw(t){const e=dw(),n=Tr(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function $J(t){let e=_l(t);for(;pi(e)&&!Am(e);){if(fw(e))return e;e=_l(e)}return null}function dw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Am(t){return["html","body","#document"].includes(Fo(t))}function Tr(t){return rr(t).getComputedStyle(t)}function Rm(t){return er(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function _l(t){if(Fo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||tk(t)&&t.host||zi(t);return tk(e)?e.host:e}function oD(t){const e=_l(t);return Am(e)?t.ownerDocument?t.ownerDocument.body:t.body:pi(e)&&Th(e)?e:oD(e)}function Bc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=oD(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),s=rr(i);return o?e.concat(s,s.visualViewport||[],Th(i)?i:[],s.frameElement&&n?Bc(s.frameElement):[]):e.concat(i,Bc(i,[],n))}const wl=Math.min,ws=Math.max,Jd=Math.round,af=Math.floor,jo=t=>({x:t,y:t}),BJ={left:"right",right:"left",bottom:"top",top:"bottom"},qJ={start:"end",end:"start"};function HJ(t,e,n){return ws(t,wl(e,n))}function Om(t,e){return typeof t=="function"?t(e):t}function El(t){return t.split("-")[0]}function bh(t){return t.split("-")[1]}function WJ(t){return t==="x"?"y":"x"}function pw(t){return t==="y"?"height":"width"}function mw(t){return["top","bottom"].includes(El(t))?"y":"x"}function gw(t){return WJ(mw(t))}function zJ(t,e,n){n===void 0&&(n=!1);const r=bh(t),i=gw(t),o=pw(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=Zd(s)),[s,Zd(s)]}function YJ(t){const e=Zd(t);return[c_(t),e,c_(e)]}function c_(t){return t.replace(/start|end/g,e=>qJ[e])}function KJ(t,e,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?o:s;default:return[]}}function GJ(t,e,n,r){const i=bh(t);let o=KJ(El(t),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(c_)))),o}function Zd(t){return t.replace(/left|right|bottom|top/g,e=>BJ[e])}function QJ(t){return{top:0,right:0,bottom:0,left:0,...t}}function sD(t){return typeof t!="number"?QJ(t):{top:t,right:t,bottom:t,left:t}}function ep(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function nk(t,e,n){let{reference:r,floating:i}=t;const o=mw(e),s=gw(e),a=pw(s),l=El(e),u=o==="y",h=r.x+r.width/2-i.width/2,c=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let d;switch(l){case"top":d={x:h,y:r.y-i.height};break;case"bottom":d={x:h,y:r.y+r.height};break;case"right":d={x:r.x+r.width,y:c};break;case"left":d={x:r.x-i.width,y:c};break;default:d={x:r.x,y:r.y}}switch(bh(e)){case"start":d[s]-=f*(n&&u?-1:1);break;case"end":d[s]+=f*(n&&u?-1:1);break}return d}const XJ=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let u=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:h,y:c}=nk(u,r,l),f=r,d={},g=0;for(let y=0;y<a.length;y++){const{name:w,fn:m}=a[y],{x:p,y:_,data:v,reset:E}=await m({x:h,y:c,initialPlacement:r,placement:f,strategy:i,middlewareData:d,rects:u,platform:s,elements:{reference:t,floating:e}});h=p??h,c=_??c,d={...d,[w]:{...d[w],...v}},E&&g<=50&&(g++,typeof E=="object"&&(E.placement&&(f=E.placement),E.rects&&(u=E.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):E.rects),{x:h,y:c}=nk(u,f,l)),y=-1)}return{x:h,y:c,placement:f,strategy:i,middlewareData:d}};async function JJ(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:c="floating",altBoundary:f=!1,padding:d=0}=Om(e,t),g=sD(d),w=a[f?c==="floating"?"reference":"floating":c],m=ep(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(w)))==null||n?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:h,strategy:l})),p=c==="floating"?{...s.floating,x:r,y:i}:s.reference,_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),v=await(o.isElement==null?void 0:o.isElement(_))?await(o.getScale==null?void 0:o.getScale(_))||{x:1,y:1}:{x:1,y:1},E=ep(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:p,offsetParent:_,strategy:l}):p);return{top:(m.top-E.top+g.top)/v.y,bottom:(E.bottom-m.bottom+g.bottom)/v.y,left:(m.left-E.left+g.left)/v.x,right:(E.right-m.right+g.right)/v.x}}const ZJ=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=e,{element:u,padding:h=0}=Om(t,e)||{};if(u==null)return{};const c=sD(h),f={x:n,y:r},d=gw(i),g=pw(d),y=await s.getDimensions(u),w=d==="y",m=w?"top":"left",p=w?"bottom":"right",_=w?"clientHeight":"clientWidth",v=o.reference[g]+o.reference[d]-f[d]-o.floating[g],E=f[d]-o.reference[d],I=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let T=I?I[_]:0;(!T||!await(s.isElement==null?void 0:s.isElement(I)))&&(T=a.floating[_]||o.floating[g]);const b=v/2-E/2,O=T/2-y[g]/2-1,S=wl(c[m],O),k=wl(c[p],O),C=S,R=T-y[g]-k,P=T/2-y[g]/2+b,j=HJ(C,P,R),H=!l.arrow&&bh(i)!=null&&P!==j&&o.reference[g]/2-(P<C?S:k)-y[g]/2<0,B=H?P<C?P-C:P-R:0;return{[d]:f[d]+B,data:{[d]:j,centerOffset:P-j-B,...H&&{alignmentOffset:B}},reset:H}}}),eZ=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:h=!0,crossAxis:c=!0,fallbackPlacements:f,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:y=!0,...w}=Om(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const m=El(i),p=El(a)===a,_=await(l.isRTL==null?void 0:l.isRTL(u.floating)),v=f||(p||!y?[Zd(a)]:YJ(a));!f&&g!=="none"&&v.push(...GJ(a,y,g,_));const E=[a,...v],I=await JJ(e,w),T=[];let b=((r=o.flip)==null?void 0:r.overflows)||[];if(h&&T.push(I[m]),c){const C=zJ(i,s,_);T.push(I[C[0]],I[C[1]])}if(b=[...b,{placement:i,overflows:T}],!T.every(C=>C<=0)){var O,S;const C=(((O=o.flip)==null?void 0:O.index)||0)+1,R=E[C];if(R)return{data:{index:C,overflows:b},reset:{placement:R}};let P=(S=b.filter(j=>j.overflows[0]<=0).sort((j,H)=>j.overflows[1]-H.overflows[1])[0])==null?void 0:S.placement;if(!P)switch(d){case"bestFit":{var k;const j=(k=b.map(H=>[H.placement,H.overflows.filter(B=>B>0).reduce((B,K)=>B+K,0)]).sort((H,B)=>H[1]-B[1])[0])==null?void 0:k[0];j&&(P=j);break}case"initialPlacement":P=a;break}if(i!==P)return{reset:{placement:P}}}return{}}}};async function tZ(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=El(n),a=bh(n),l=mw(n)==="y",u=["left","top"].includes(s)?-1:1,h=o&&l?-1:1,c=Om(e,t);let{mainAxis:f,crossAxis:d,alignmentAxis:g}=typeof c=="number"?{mainAxis:c,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...c};return a&&typeof g=="number"&&(d=a==="end"?g*-1:g),l?{x:d*h,y:f*u}:{x:f*u,y:d*h}}const nZ=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=e,l=await tZ(e,t);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}};function aD(t){const e=Tr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=pi(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,a=Jd(n)!==o||Jd(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function yw(t){return er(t)?t:t.contextElement}function Ga(t){const e=yw(t);if(!pi(e))return jo(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=aD(e);let s=(o?Jd(n.width):n.width)/r,a=(o?Jd(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const rZ=jo(0);function lD(t){const e=rr(t);return!dw()||!e.visualViewport?rZ:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function iZ(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==rr(t)?!1:e}function $s(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=yw(t);let s=jo(1);e&&(r?er(r)&&(s=Ga(r)):s=Ga(t));const a=iZ(o,n,r)?lD(o):jo(0);let l=(i.left+a.x)/s.x,u=(i.top+a.y)/s.y,h=i.width/s.x,c=i.height/s.y;if(o){const f=rr(o),d=r&&er(r)?rr(r):r;let g=f,y=g.frameElement;for(;y&&r&&d!==g;){const w=Ga(y),m=y.getBoundingClientRect(),p=Tr(y),_=m.left+(y.clientLeft+parseFloat(p.paddingLeft))*w.x,v=m.top+(y.clientTop+parseFloat(p.paddingTop))*w.y;l*=w.x,u*=w.y,h*=w.x,c*=w.y,l+=_,u+=v,g=rr(y),y=g.frameElement}}return ep({width:h,height:c,x:l,y:u})}const oZ=[":popover-open",":modal"];function uD(t){return oZ.some(e=>{try{return t.matches(e)}catch{return!1}})}function sZ(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",s=zi(r),a=e?uD(e.floating):!1;if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},u=jo(1);const h=jo(0),c=pi(r);if((c||!c&&!o)&&((Fo(r)!=="body"||Th(s))&&(l=Rm(r)),pi(r))){const f=$s(r);u=Ga(r),h.x=f.x+r.clientLeft,h.y=f.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+h.x,y:n.y*u.y-l.scrollTop*u.y+h.y}}function aZ(t){return Array.from(t.getClientRects())}function cD(t){return $s(zi(t)).left+Rm(t).scrollLeft}function lZ(t){const e=zi(t),n=Rm(t),r=t.ownerDocument.body,i=ws(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=ws(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+cD(t);const a=-n.scrollTop;return Tr(r).direction==="rtl"&&(s+=ws(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function uZ(t,e){const n=rr(t),r=zi(t),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const u=dw();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function cZ(t,e){const n=$s(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=pi(t)?Ga(t):jo(1),s=t.clientWidth*o.x,a=t.clientHeight*o.y,l=i*o.x,u=r*o.y;return{width:s,height:a,x:l,y:u}}function rk(t,e,n){let r;if(e==="viewport")r=uZ(t,n);else if(e==="document")r=lZ(zi(t));else if(er(e))r=cZ(e,n);else{const i=lD(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return ep(r)}function hD(t,e){const n=_l(t);return n===e||!er(n)||Am(n)?!1:Tr(n).position==="fixed"||hD(n,e)}function hZ(t,e){const n=e.get(t);if(n)return n;let r=Bc(t,[],!1).filter(a=>er(a)&&Fo(a)!=="body"),i=null;const o=Tr(t).position==="fixed";let s=o?_l(t):t;for(;er(s)&&!Am(s);){const a=Tr(s),l=fw(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Th(s)&&!l&&hD(t,s))?r=r.filter(h=>h!==s):i=a,s=_l(s)}return e.set(t,r),r}function fZ(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?hZ(e,this._c):[].concat(n),r],a=s[0],l=s.reduce((u,h)=>{const c=rk(e,h,i);return u.top=ws(c.top,u.top),u.right=wl(c.right,u.right),u.bottom=wl(c.bottom,u.bottom),u.left=ws(c.left,u.left),u},rk(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function dZ(t){const{width:e,height:n}=aD(t);return{width:e,height:n}}function pZ(t,e,n){const r=pi(e),i=zi(e),o=n==="fixed",s=$s(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=jo(0);if(r||!r&&!o)if((Fo(e)!=="body"||Th(i))&&(a=Rm(e)),r){const c=$s(e,!0,o,e);l.x=c.x+e.clientLeft,l.y=c.y+e.clientTop}else i&&(l.x=cD(i));const u=s.left+a.scrollLeft-l.x,h=s.top+a.scrollTop-l.y;return{x:u,y:h,width:s.width,height:s.height}}function ik(t,e){return!pi(t)||Tr(t).position==="fixed"?null:e?e(t):t.offsetParent}function fD(t,e){const n=rr(t);if(!pi(t)||uD(t))return n;let r=ik(t,e);for(;r&&VJ(r)&&Tr(r).position==="static";)r=ik(r,e);return r&&(Fo(r)==="html"||Fo(r)==="body"&&Tr(r).position==="static"&&!fw(r))?n:r||$J(t)||n}const mZ=async function(t){const e=this.getOffsetParent||fD,n=this.getDimensions;return{reference:pZ(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,...await n(t.floating)}}};function gZ(t){return Tr(t).direction==="rtl"}const dD={convertOffsetParentRelativeRectToViewportRelativeRect:sZ,getDocumentElement:zi,getClippingRect:fZ,getOffsetParent:fD,getElementRects:mZ,getClientRects:aZ,getDimensions:dZ,getScale:Ga,isElement:er,isRTL:gZ};function yZ(t,e){let n=null,r;const i=zi(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const{left:u,top:h,width:c,height:f}=t.getBoundingClientRect();if(a||e(),!c||!f)return;const d=af(h),g=af(i.clientWidth-(u+c)),y=af(i.clientHeight-(h+f)),w=af(u),p={rootMargin:-d+"px "+-g+"px "+-y+"px "+-w+"px",threshold:ws(0,wl(1,l))||1};let _=!0;function v(E){const I=E[0].intersectionRatio;if(I!==l){if(!_)return s();I?s(!1,I):r=setTimeout(()=>{s(!1,1e-7)},100)}_=!1}try{n=new IntersectionObserver(v,{...p,root:i.ownerDocument})}catch{n=new IntersectionObserver(v,p)}n.observe(t)}return s(!0),o}function vZ(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=yw(t),h=i||o?[...u?Bc(u):[],...Bc(e)]:[];h.forEach(m=>{i&&m.addEventListener("scroll",n,{passive:!0}),o&&m.addEventListener("resize",n)});const c=u&&a?yZ(u,n):null;let f=-1,d=null;s&&(d=new ResizeObserver(m=>{let[p]=m;p&&p.target===u&&d&&(d.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var _;(_=d)==null||_.observe(e)})),n()}),u&&!l&&d.observe(u),d.observe(e));let g,y=l?$s(t):null;l&&w();function w(){const m=$s(t);y&&(m.x!==y.x||m.y!==y.y||m.width!==y.width||m.height!==y.height)&&n(),y=m,g=requestAnimationFrame(w)}return n(),()=>{var m;h.forEach(p=>{i&&p.removeEventListener("scroll",n),o&&p.removeEventListener("resize",n)}),c==null||c(),(m=d)==null||m.disconnect(),d=null,l&&cancelAnimationFrame(g)}}const _Z=eZ,ok=ZJ,wZ=(t,e,n)=>{const r=new Map,i={platform:dD,...n},o={...i.platform,_c:r};return XJ(t,e,{...i,platform:o})},EZ=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?ok({element:r.current,padding:i}).fn(n):{}:r?ok({element:r,padding:i}).fn(n):{}}}};var Nf=typeof document<"u"?q.useLayoutEffect:q.useEffect;function tp(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!tp(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!tp(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function pD(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function sk(t,e){const n=pD(t);return Math.round(e*n)/n}function ak(t){const e=q.useRef(t);return Nf(()=>{e.current=t}),e}function TZ(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[h,c]=q.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,d]=q.useState(r);tp(f,r)||d(r);const[g,y]=q.useState(null),[w,m]=q.useState(null),p=q.useCallback(B=>{B!==I.current&&(I.current=B,y(B))},[]),_=q.useCallback(B=>{B!==T.current&&(T.current=B,m(B))},[]),v=o||g,E=s||w,I=q.useRef(null),T=q.useRef(null),b=q.useRef(h),O=l!=null,S=ak(l),k=ak(i),C=q.useCallback(()=>{if(!I.current||!T.current)return;const B={placement:e,strategy:n,middleware:f};k.current&&(B.platform=k.current),wZ(I.current,T.current,B).then(K=>{const U={...K,isPositioned:!0};R.current&&!tp(b.current,U)&&(b.current=U,Qc.flushSync(()=>{c(U)}))})},[f,e,n,k]);Nf(()=>{u===!1&&b.current.isPositioned&&(b.current.isPositioned=!1,c(B=>({...B,isPositioned:!1})))},[u]);const R=q.useRef(!1);Nf(()=>(R.current=!0,()=>{R.current=!1}),[]),Nf(()=>{if(v&&(I.current=v),E&&(T.current=E),v&&E){if(S.current)return S.current(v,E,C);C()}},[v,E,C,S,O]);const P=q.useMemo(()=>({reference:I,floating:T,setReference:p,setFloating:_}),[p,_]),j=q.useMemo(()=>({reference:v,floating:E}),[v,E]),H=q.useMemo(()=>{const B={position:n,left:0,top:0};if(!j.floating)return B;const K=sk(j.floating,h.x),U=sk(j.floating,h.y);return a?{...B,transform:"translate("+K+"px, "+U+"px)",...pD(j.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:K,top:U}},[n,a,j.floating,h.x,h.y]);return q.useMemo(()=>({...h,update:C,refs:P,elements:j,floatingStyles:H}),[h,C,P,j,H])}const bZ=v_.useInsertionEffect,SZ=bZ||(t=>t());function kZ(t){const e=q.useRef(()=>{});return SZ(()=>{e.current=t}),q.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}var mD=typeof document<"u"?q.useLayoutEffect:q.useEffect;function h_(){return h_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h_.apply(this,arguments)}let Xg=!1,IZ=0;const lk=()=>"floating-ui-"+IZ++;function CZ(){const[t,e]=q.useState(()=>Xg?lk():void 0);return mD(()=>{t==null&&e(lk())},[]),q.useEffect(()=>{Xg||(Xg=!0)},[]),t}const AZ=v_.useId,gD=AZ||CZ,RZ=q.forwardRef(function(e,n){let{context:{placement:r,elements:{floating:i},middlewareData:{arrow:o}},width:s=14,height:a=7,tipRadius:l=0,strokeWidth:u=0,staticOffset:h,stroke:c,d:f,style:{transform:d,...g}={},...y}=e;const w=gD();if(!i)return null;u*=2;const m=u/2,p=s/2*(l/-8+1),_=a/2*l/4,[v,E]=r.split("-"),I=dD.isRTL(i),T=!!f,b=v==="top"||v==="bottom",O=h&&E==="end"?"bottom":"top";let S=h&&E==="end"?"right":"left";h&&I&&(S=E==="end"?"left":"right");const k=(o==null?void 0:o.x)!=null?h||o.x:"",C=(o==null?void 0:o.y)!=null?h||o.y:"",R=f||"M0,0"+(" H"+s)+(" L"+(s-p)+","+(a-_))+(" Q"+s/2+","+a+" "+p+","+(a-_))+" Z",P={top:T?"rotate(180deg)":"",left:T?"rotate(90deg)":"rotate(-90deg)",bottom:T?"":"rotate(180deg)",right:T?"rotate(-90deg)":"rotate(90deg)"}[v];return q.createElement("svg",h_({},y,{"aria-hidden":!0,ref:n,width:T?s:s+u,height:s,viewBox:"0 0 "+s+" "+(a>s?a:s),style:{position:"absolute",pointerEvents:"none",[S]:k,[O]:C,[v]:b||T?"100%":"calc(100% - "+u/2+"px)",transform:""+P+(d??""),...g}}),u>0&&q.createElement("path",{clipPath:"url(#"+w+")",fill:"none",stroke:c,strokeWidth:u+(f?0:1),d:R}),q.createElement("path",{stroke:u&&!f?y.fill:"none",d:R}),q.createElement("clipPath",{id:w},q.createElement("rect",{x:-m,y:m*(T?-1:1),width:s+u,height:s})))});function OZ(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const PZ=q.createContext(null),NZ=q.createContext(null),xZ=()=>{var t;return((t=q.useContext(PZ))==null?void 0:t.id)||null},DZ=()=>q.useContext(NZ);function MZ(t){var e;t===void 0&&(t={});const{open:n=!1,onOpenChange:r,nodeId:i}=t,[o,s]=q.useState(null),a=((e=t.elements)==null?void 0:e.reference)||o,l=TZ(t),u=DZ(),h=xZ()!=null,c=kZ((E,I,T)=>{E&&(d.current.openEvent=I),g.emit("openchange",{open:E,event:I,reason:T,nested:h}),r==null||r(E,I,T)}),f=q.useRef(null),d=q.useRef({}),g=q.useState(()=>OZ())[0],y=gD(),w=q.useCallback(E=>{const I=er(E)?{getBoundingClientRect:()=>E.getBoundingClientRect(),contextElement:E}:E;l.refs.setReference(I)},[l.refs]),m=q.useCallback(E=>{(er(E)||E===null)&&(f.current=E,s(E)),(er(l.refs.reference.current)||l.refs.reference.current===null||E!==null&&!er(E))&&l.refs.setReference(E)},[l.refs]),p=q.useMemo(()=>({...l.refs,setReference:m,setPositionReference:w,domReference:f}),[l.refs,m,w]),_=q.useMemo(()=>({...l.elements,domReference:a}),[l.elements,a]),v=q.useMemo(()=>({...l,refs:p,elements:_,dataRef:d,nodeId:i,floatingId:y,events:g,open:n,onOpenChange:c}),[l,i,y,g,n,c,p,_]);return mD(()=>{const E=u==null?void 0:u.nodesRef.current.find(I=>I.id===i);E&&(E.context=v)}),q.useMemo(()=>({...l,context:v,refs:p,elements:_}),[l,p,_,v])}function LZ(t,e){let n=pe(t);return isNaN(+n)?Ye(t,NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=Rn(n,e.month)),e.date!=null&&n.setDate(e.date),e.hours!=null&&n.setHours(e.hours),e.minutes!=null&&n.setMinutes(e.minutes),e.seconds!=null&&n.setSeconds(e.seconds),e.milliseconds!=null&&n.setMilliseconds(e.milliseconds),n)}function Qt(t,e,n){return e=np(e),function(r,i){if(i&&(typeof i=="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V(r)}(t,yD()?Reflect.construct(e,n||[],np(t).constructor):e.apply(t,n))}function yD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yD=function(){return!!t})()}function uk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ti(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uk(Object(n),!0).forEach(function(r){L(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vD(t){var e=function(n,r){if(typeof n!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var o=i.call(n,r||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}(t,"string");return typeof e=="symbol"?e:String(e)}function f_(t){return f_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f_(t)}function Xt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ck(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vD(r.key),r)}}function Jt(t,e,n){return e&&ck(t.prototype,e),n&&ck(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function L(t,e,n){return(e=vD(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qc(){return qc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qc.apply(this,arguments)}function Zt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d_(t,e)}function np(t){return np=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},np(t)}function d_(t,e){return d_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},d_(t,e)}function V(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bs(t){return function(e){if(Array.isArray(e))return Jg(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||function(e,n){if(e){if(typeof e=="string")return Jg(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jg(e,n)}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Jg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Qu=12,FZ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function Je(t){var e=t?typeof t=="string"||t instanceof String?pJ(t):pe(t):new Date;return Zi(e)?e:null}function Zi(t,e){return e=e||new Date("1/1/1000"),jc(t)&&!Vs(t,e)}function mt(t,e,n){if(n==="en")return YS(t,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=Ao(n);return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),!r&&Es()&&Ao(Es())&&(r=Ao(Es())),YS(t,e,{locale:r||null,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Hr(t,e){var n=e.dateFormat,r=e.locale;return t&&mt(t,Array.isArray(n)?n[0]:n,r)||""}function hk(t,e){var n=e.hour,r=n===void 0?0:n,i=e.minute,o=i===void 0?0:i,s=e.second;return Pf(Of(lX(t,s===void 0?0:s),o),r)}function Nr(t,e,n){var r=Ao(e||Es());return Bi(t,{locale:r,weekStartsOn:n})}function Co(t){return Jx(t)}function Ru(t){return aw(t)}function fk(t){return s_(t)}function dk(){return li(Je())}function ho(t,e){return t&&e?gX(t,e):!t&&!e}function Rr(t,e){return t&&e?mX(t,e):!t&&!e}function rp(t,e){return t&&e?yX(t,e):!t&&!e}function Xe(t,e){return t&&e?pX(t,e):!t&&!e}function ds(t,e){return t&&e?dX(t,e):!t&&!e}function xf(t,e,n){var r,i=li(e),o=a_(n);try{r=$c(t,{start:i,end:o})}catch{r=!1}return r}function Es(){return(typeof window<"u"?window:globalThis).__localeId__}function Ao(t){if(typeof t=="string"){var e=typeof window<"u"?window:globalThis;return e.__localeData__?e.__localeData__[t]:null}return t}function vw(t,e){return mt(Rn(Je(),t),"LLLL",e)}function _D(t,e){return mt(Rn(Je(),t),"LLL",e)}function Pm(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.maxDate,i=e.excludeDates,o=e.excludeDateIntervals,s=e.includeDates,a=e.includeDateIntervals,l=e.filterDate;return Nm(t,{minDate:n,maxDate:r})||i&&i.some(function(u){return Xe(t,u.date?u.date:u)})||o&&o.some(function(u){var h=u.start,c=u.end;return $c(t,{start:h,end:c})})||s&&!s.some(function(u){return Xe(t,u)})||a&&!a.some(function(u){var h=u.start,c=u.end;return $c(t,{start:h,end:c})})||l&&!l(Je(t))||!1}function _w(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.excludeDates,r=e.excludeDateIntervals;return r&&r.length>0?r.some(function(i){var o=i.start,s=i.end;return $c(t,{start:o,end:s})}):n&&n.some(function(i){return Xe(t,i.date?i.date:i)})||!1}function wD(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.maxDate,i=e.excludeDates,o=e.includeDates,s=e.filterDate;return Nm(t,{minDate:Jx(n),maxDate:hX(r)})||i&&i.some(function(a){return Rr(t,a)})||o&&!o.some(function(a){return Rr(t,a)})||s&&!s(Je(t))||!1}function Zg(t,e,n,r){var i=Oe(t),o=wn(t),s=Oe(e),a=wn(e),l=Oe(r);return i===s&&i===l?o<=n&&n<=a:i<s?l===i&&o<=n||l===s&&a>=n||l<s&&l>i:void 0}function jZ(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.maxDate,i=e.excludeDates,o=e.includeDates,s=e.filterDate;return Nm(t,{minDate:n,maxDate:r})||i&&i.some(function(a){return rp(t,a)})||o&&!o.some(function(a){return rp(t,a)})||s&&!s(Je(t))||!1}function ey(t,e,n){if(!jc(e)||!jc(n))return!1;var r=Oe(e),i=Oe(n);return r<=t&&i>=t}function ED(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.maxDate,i=e.excludeDates,o=e.includeDates,s=e.filterDate,a=new Date(t,0,1);return Nm(a,{minDate:aw(n),maxDate:fX(r)})||i&&i.some(function(l){return ho(a,l)})||o&&!o.some(function(l){return ho(a,l)})||s&&!s(Je(a))||!1}function ty(t,e,n,r){var i=Oe(t),o=xa(t),s=Oe(e),a=xa(e),l=Oe(r);return i===s&&i===l?o<=n&&n<=a:i<s?l===i&&o<=n||l===s&&a>=n||l<s&&l>i:void 0}function Nm(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.maxDate;return n&&Uc(t,n)<0||r&&Uc(t,r)>0}function pk(t,e){return e.some(function(n){return ci(n)===ci(t)&&ui(n)===ui(t)})}function mk(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.excludeTimes,r=e.includeTimes,i=e.filterTime;return n&&pk(t,n)||r&&!pk(t,r)||i&&!i(t)||!1}function gk(t,e){var n=e.minTime,r=e.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var i,o=Je(),s=Pf(Of(o,ui(t)),ci(t)),a=Pf(Of(o,ui(n)),ci(n)),l=Pf(Of(o,ui(r)),ci(r));try{i=!$c(s,{start:a,end:l})}catch{i=!1}return i}function yk(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.includeDates,i=vl(t,1);return n&&Gd(n,i)>0||r&&r.every(function(o){return Gd(o,i)>0})||!1}function vk(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.maxDate,r=e.includeDates,i=$r(t,1);return n&&Gd(i,n)>0||r&&r.every(function(o){return Gd(i,o)>0})||!1}function _k(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.includeDates,i=Vc(t,1);return n&&Qd(n,i)>0||r&&r.every(function(o){return Qd(o,i)>0})||!1}function wk(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.maxDate,r=e.includeDates,i=yl(t,1);return n&&Qd(i,n)>0||r&&r.every(function(o){return Qd(i,o)>0})||!1}function TD(t){var e=t.minDate,n=t.includeDates;if(n&&e){var r=n.filter(function(i){return Uc(i,e)>=0});return XS(r)}return n?XS(n):e}function bD(t){var e=t.maxDate,n=t.includeDates;if(n&&e){var r=n.filter(function(i){return Uc(i,e)<=0});return JS(r)}return n?JS(n):e}function Ek(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"react-datepicker__day--highlighted",n=new Map,r=0,i=t.length;r<i;r++){var o=t[r];if(Us(o)){var s=mt(o,"MM.dd.yyyy"),a=n.get(s)||[];a.includes(e)||(a.push(e),n.set(s,a))}else if(f_(o)==="object"){var l=Object.keys(o),u=l[0],h=o[l[0]];if(typeof u=="string"&&h.constructor===Array)for(var c=0,f=h.length;c<f;c++){var d=mt(h[c],"MM.dd.yyyy"),g=n.get(d)||[];g.includes(u)||(g.push(u),n.set(d,g))}}}return n}function UZ(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"react-datepicker__day--holidays",n=new Map;return t.forEach(function(r){var i=r.date,o=r.holidayName;if(Us(i)){var s=mt(i,"MM.dd.yyyy"),a=n.get(s)||{};if(!("className"in a)||a.className!==e||(l=a.holidayNames,u=[o],l.length!==u.length||!l.every(function(c,f){return c===u[f]}))){var l,u;a.className=e;var h=a.holidayNames;a.holidayNames=h?[].concat(Bs(h),[o]):[o],n.set(s,a)}}}),n}function VZ(t,e,n,r,i){for(var o=i.length,s=[],a=0;a<o;a++){var l=i_(iX(t,ci(i[a])),ui(i[a])),u=i_(t,(n+1)*r);Lo(l,e)&&Vs(l,u)&&s.push(i[a])}return s}function Tk(t){return t<10?"0".concat(t):"".concat(t)}function Da(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qu,n=Math.ceil(Oe(t)/e)*e;return{startPeriod:n-(e-1),endPeriod:n}}function bk(t){var e=t.getSeconds(),n=t.getMilliseconds();return pe(t.getTime()-1e3*e-n)}function Sk(t){if(!Us(t))throw new Error("Invalid date");var e=new Date(t);return e.setHours(0,0,0,0),e}function kk(t,e){if(!Us(t)||!Us(e))throw new Error("Invalid date received");var n=Sk(t),r=Sk(e);return Vs(n,r)}function $Z(t,e,n,r){for(var i=[],o=0;o<2*e+1;o++){var s=t+e-o,a=!0;n&&(a=Oe(n)<=s),r&&a&&(a=Oe(r)>=s),a&&i.push(s)}return i}var BZ=Cm(function(t){function e(n){var r;Xt(this,e),L(V(r=Qt(this,e,[n])),"renderOptions",function(){var a=r.props.year,l=r.state.yearsList.map(function(c){return G.createElement("div",{className:a===c?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:c,onClick:r.onChange.bind(V(r),c),"aria-selected":a===c?"true":void 0},a===c?G.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",c)}),u=r.props.minDate?Oe(r.props.minDate):null,h=r.props.maxDate?Oe(r.props.maxDate):null;return h&&r.state.yearsList.find(function(c){return c===h})||l.unshift(G.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},G.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),u&&r.state.yearsList.find(function(c){return c===u})||l.push(G.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},G.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),l}),L(V(r),"onChange",function(a){r.props.onChange(a)}),L(V(r),"handleClickOutside",function(){r.props.onCancel()}),L(V(r),"shiftYears",function(a){var l=r.state.yearsList.map(function(u){return u+a});r.setState({yearsList:l})}),L(V(r),"incrementYears",function(){return r.shiftYears(1)}),L(V(r),"decrementYears",function(){return r.shiftYears(-1)});var i=n.yearDropdownItemNumber,o=n.scrollableYearDropdown,s=i||(o?10:5);return r.state={yearsList:$Z(r.props.year,s,r.props.minDate,r.props.maxDate)},r.dropdownRef=q.createRef(),r}return Zt(e,G.Component),Jt(e,[{key:"componentDidMount",value:function(){var n=this.dropdownRef.current;if(n){var r=n.children?Array.from(n.children):null,i=r?r.find(function(o){return o.ariaSelected}):null;n.scrollTop=i?i.offsetTop+(i.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}}},{key:"render",value:function(){var n=Ve({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return G.createElement("div",{className:n,ref:this.dropdownRef},this.renderOptions())}}]),e}()),qZ=function(t){function e(){var n;Xt(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return L(V(n=Qt(this,e,[].concat(i))),"state",{dropdownVisible:!1}),L(V(n),"renderSelectOptions",function(){for(var s=n.props.minDate?Oe(n.props.minDate):1900,a=n.props.maxDate?Oe(n.props.maxDate):2100,l=[],u=s;u<=a;u++)l.push(G.createElement("option",{key:u,value:u},u));return l}),L(V(n),"onSelectChange",function(s){n.onChange(s.target.value)}),L(V(n),"renderSelectMode",function(){return G.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())}),L(V(n),"renderReadView",function(s){return G.createElement("div",{key:"read",style:{visibility:s?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(a){return n.toggleDropdown(a)}},G.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),G.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))}),L(V(n),"renderDropdown",function(){return G.createElement(BZ,{key:"dropdown",year:n.props.year,onChange:n.onChange,onCancel:n.toggleDropdown,minDate:n.props.minDate,maxDate:n.props.maxDate,scrollableYearDropdown:n.props.scrollableYearDropdown,yearDropdownItemNumber:n.props.yearDropdownItemNumber})}),L(V(n),"renderScrollMode",function(){var s=n.state.dropdownVisible,a=[n.renderReadView(!s)];return s&&a.unshift(n.renderDropdown()),a}),L(V(n),"onChange",function(s){n.toggleDropdown(),s!==n.props.year&&n.props.onChange(s)}),L(V(n),"toggleDropdown",function(s){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,s)})}),L(V(n),"handleYearChange",function(s,a){n.onSelect(s,a),n.setOpen()}),L(V(n),"onSelect",function(s,a){n.props.onSelect&&n.props.onSelect(s,a)}),L(V(n),"setOpen",function(){n.props.setOpen&&n.props.setOpen(!0)}),n}return Zt(e,G.Component),Jt(e,[{key:"render",value:function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode()}return G.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)}}]),e}(),HZ=Cm(function(t){function e(){var n;Xt(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return L(V(n=Qt(this,e,[].concat(i))),"isSelectedMonth",function(s){return n.props.month===s}),L(V(n),"renderOptions",function(){return n.props.monthNames.map(function(s,a){return G.createElement("div",{className:n.isSelectedMonth(a)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:s,onClick:n.onChange.bind(V(n),a),"aria-selected":n.isSelectedMonth(a)?"true":void 0},n.isSelectedMonth(a)?G.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",s)})}),L(V(n),"onChange",function(s){return n.props.onChange(s)}),L(V(n),"handleClickOutside",function(){return n.props.onCancel()}),n}return Zt(e,G.Component),Jt(e,[{key:"render",value:function(){return G.createElement("div",{className:"react-datepicker__month-dropdown"},this.renderOptions())}}]),e}()),WZ=function(t){function e(){var n;Xt(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return L(V(n=Qt(this,e,[].concat(i))),"state",{dropdownVisible:!1}),L(V(n),"renderSelectOptions",function(s){return s.map(function(a,l){return G.createElement("option",{key:l,value:l},a)})}),L(V(n),"renderSelectMode",function(s){return G.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(a){return n.onChange(a.target.value)}},n.renderSelectOptions(s))}),L(V(n),"renderReadView",function(s,a){return G.createElement("div",{key:"read",style:{visibility:s?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},G.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),G.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},a[n.props.month]))}),L(V(n),"renderDropdown",function(s){return G.createElement(HZ,{key:"dropdown",month:n.props.month,monthNames:s,onChange:n.onChange,onCancel:n.toggleDropdown})}),L(V(n),"renderScrollMode",function(s){var a=n.state.dropdownVisible,l=[n.renderReadView(!a,s)];return a&&l.unshift(n.renderDropdown(s)),l}),L(V(n),"onChange",function(s){n.toggleDropdown(),s!==n.props.month&&n.props.onChange(s)}),L(V(n),"toggleDropdown",function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})}),n}return Zt(e,G.Component),Jt(e,[{key:"render",value:function(){var n,r=this,i=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return _D(o,r.props.locale)}:function(o){return vw(o,r.props.locale)});switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode(i);break;case"select":n=this.renderSelectMode(i)}return G.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},n)}}]),e}();function zZ(t,e){for(var n=[],r=Co(t),i=Co(e);!Lo(r,i);)n.push(Je(r)),r=$r(r,1);return n}var YZ=Cm(function(t){function e(n){var r;return Xt(this,e),L(V(r=Qt(this,e,[n])),"renderOptions",function(){return r.state.monthYearsList.map(function(i){var o=o_(i),s=ho(r.props.date,i)&&Rr(r.props.date,i);return G.createElement("div",{className:s?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:o,onClick:r.onChange.bind(V(r),o),"aria-selected":s?"true":void 0},s?G.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",mt(i,r.props.dateFormat,r.props.locale))})}),L(V(r),"onChange",function(i){return r.props.onChange(i)}),L(V(r),"handleClickOutside",function(){r.props.onCancel()}),r.state={monthYearsList:zZ(r.props.minDate,r.props.maxDate)},r}return Zt(e,G.Component),Jt(e,[{key:"render",value:function(){var n=Ve({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return G.createElement("div",{className:n},this.renderOptions())}}]),e}()),KZ=function(t){function e(){var n;Xt(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return L(V(n=Qt(this,e,[].concat(i))),"state",{dropdownVisible:!1}),L(V(n),"renderSelectOptions",function(){for(var s=Co(n.props.minDate),a=Co(n.props.maxDate),l=[];!Lo(s,a);){var u=o_(s);l.push(G.createElement("option",{key:u,value:u},mt(s,n.props.dateFormat,n.props.locale))),s=$r(s,1)}return l}),L(V(n),"onSelectChange",function(s){n.onChange(s.target.value)}),L(V(n),"renderSelectMode",function(){return G.createElement("select",{value:o_(Co(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())}),L(V(n),"renderReadView",function(s){var a=mt(n.props.date,n.props.dateFormat,n.props.locale);return G.createElement("div",{key:"read",style:{visibility:s?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:function(l){return n.toggleDropdown(l)}},G.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),G.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},a))}),L(V(n),"renderDropdown",function(){return G.createElement(YZ,{key:"dropdown",date:n.props.date,dateFormat:n.props.dateFormat,onChange:n.onChange,onCancel:n.toggleDropdown,minDate:n.props.minDate,maxDate:n.props.maxDate,scrollableMonthYearDropdown:n.props.scrollableMonthYearDropdown,locale:n.props.locale})}),L(V(n),"renderScrollMode",function(){var s=n.state.dropdownVisible,a=[n.renderReadView(!s)];return s&&a.unshift(n.renderDropdown()),a}),L(V(n),"onChange",function(s){n.toggleDropdown();var a=Je(parseInt(s));ho(n.props.date,a)&&Rr(n.props.date,a)||n.props.onChange(a)}),L(V(n),"toggleDropdown",function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})}),n}return Zt(e,G.Component),Jt(e,[{key:"render",value:function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode()}return G.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)}}]),e}(),GZ=function(t){function e(){var n;Xt(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return L(V(n=Qt(this,e,[].concat(i))),"dayEl",G.createRef()),L(V(n),"handleClick",function(s){!n.isDisabled()&&n.props.onClick&&n.props.onClick(s)}),L(V(n),"handleMouseEnter",function(s){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(s)}),L(V(n),"handleOnKeyDown",function(s){s.key===" "&&(s.preventDefault(),s.key="Enter"),n.props.handleOnKeyDown(s)}),L(V(n),"isSameDay",function(s){return Xe(n.props.day,s)}),L(V(n),"isKeyboardSelected",function(){return!n.props.disabledKeyboardNavigation&&!(n.isSameDay(n.props.selected)||n.isSameWeek(n.props.selected))&&(n.isSameDay(n.props.preSelection)||n.isSameWeek(n.props.preSelection))}),L(V(n),"isDisabled",function(){return Pm(n.props.day,n.props)}),L(V(n),"isExcluded",function(){return _w(n.props.day,n.props)}),L(V(n),"isStartOfWeek",function(){return Xe(n.props.day,Nr(n.props.day,n.props.locale,n.props.calendarStartDay))}),L(V(n),"isSameWeek",function(s){return n.props.showWeekPicker&&Xe(s,Nr(n.props.day,n.props.locale,n.props.calendarStartDay))}),L(V(n),"getHighLightedClass",function(){var s=n.props,a=s.day,l=s.highlightDates;if(!l)return!1;var u=mt(a,"MM.dd.yyyy");return l.get(u)}),L(V(n),"getHolidaysClass",function(){var s=n.props,a=s.day,l=s.holidays;if(!l)return!1;var u=mt(a,"MM.dd.yyyy");return l.has(u)?[l.get(u).className]:void 0}),L(V(n),"isInRange",function(){var s=n.props,a=s.day,l=s.startDate,u=s.endDate;return!(!l||!u)&&xf(a,l,u)}),L(V(n),"isInSelectingRange",function(){var s,a=n.props,l=a.day,u=a.selectsStart,h=a.selectsEnd,c=a.selectsRange,f=a.selectsDisabledDaysInRange,d=a.startDate,g=a.endDate,y=(s=n.props.selectingDate)!==null&&s!==void 0?s:n.props.preSelection;return!(!(u||h||c)||!y||!f&&n.isDisabled())&&(u&&g&&(Vs(y,g)||ds(y,g))?xf(l,y,g):(h&&d&&(Lo(y,d)||ds(y,d))||!(!c||!d||g||!Lo(y,d)&&!ds(y,d)))&&xf(l,d,y))}),L(V(n),"isSelectingRangeStart",function(){var s;if(!n.isInSelectingRange())return!1;var a=n.props,l=a.day,u=a.startDate,h=a.selectsStart,c=(s=n.props.selectingDate)!==null&&s!==void 0?s:n.props.preSelection;return Xe(l,h?c:u)}),L(V(n),"isSelectingRangeEnd",function(){var s;if(!n.isInSelectingRange())return!1;var a=n.props,l=a.day,u=a.endDate,h=a.selectsEnd,c=a.selectsRange,f=(s=n.props.selectingDate)!==null&&s!==void 0?s:n.props.preSelection;return Xe(l,h||c?f:u)}),L(V(n),"isRangeStart",function(){var s=n.props,a=s.day,l=s.startDate,u=s.endDate;return!(!l||!u)&&Xe(l,a)}),L(V(n),"isRangeEnd",function(){var s=n.props,a=s.day,l=s.startDate,u=s.endDate;return!(!l||!u)&&Xe(u,a)}),L(V(n),"isWeekend",function(){var s=aX(n.props.day);return s===0||s===6}),L(V(n),"isAfterMonth",function(){return n.props.month!==void 0&&(n.props.month+1)%12===wn(n.props.day)}),L(V(n),"isBeforeMonth",function(){return n.props.month!==void 0&&(wn(n.props.day)+1)%12===n.props.month}),L(V(n),"isCurrentDay",function(){return n.isSameDay(Je())}),L(V(n),"isSelected",function(){return n.isSameDay(n.props.selected)||n.isSameWeek(n.props.selected)}),L(V(n),"getClassNames",function(s){var a,l=n.props.dayClassName?n.props.dayClassName(s):void 0;return Ve("react-datepicker__day",l,"react-datepicker__day--"+mt(n.props.day,"ddd",a),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass("react-datepicker__day--highlighted"),n.getHolidaysClass())}),L(V(n),"getAriaLabel",function(){var s=n.props,a=s.day,l=s.ariaLabelPrefixWhenEnabled,u=l===void 0?"Choose":l,h=s.ariaLabelPrefixWhenDisabled,c=h===void 0?"Not available":h,f=n.isDisabled()||n.isExcluded()?c:u;return"".concat(f," ").concat(mt(a,"PPPP",n.props.locale))}),L(V(n),"getTitle",function(){var s=n.props,a=s.day,l=s.holidays,u=l===void 0?new Map:l,h=s.excludeDates,c=mt(a,"MM.dd.yyyy"),f=[];return u.has(c)&&f.push.apply(f,Bs(u.get(c).holidayNames)),n.isExcluded()&&f.push(h==null?void 0:h.filter(function(d){return Xe(d.date?d.date:d,a)}).map(function(d){return d.message})),f.join(", ")}),L(V(n),"getTabIndex",function(s,a){var l=s||n.props.selected,u=a||n.props.preSelection;return(!n.props.showWeekPicker||!n.props.showWeekNumber&&n.isStartOfWeek())&&(n.isKeyboardSelected()||n.isSameDay(l)&&Xe(u,l))?0:-1}),L(V(n),"handleFocusDay",function(){var s,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=!1;n.getTabIndex()===0&&!a.isInputFocused&&n.isSameDay(n.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(l=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(l=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement.classList.contains("react-datepicker__day")&&(l=!0),n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()&&(l=!1),n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()&&(l=!1)),l&&((s=n.dayEl.current)===null||s===void 0||s.focus({preventScroll:!0}))}),L(V(n),"renderDayContents",function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(QS(n.props.day),n.props.day):QS(n.props.day)}),L(V(n),"render",function(){return G.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.handleMouseEnter,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&G.createElement("span",{className:"overlay"},n.getTitle()))}),n}return Zt(e,G.Component),Jt(e,[{key:"componentDidMount",value:function(){this.handleFocusDay()}},{key:"componentDidUpdate",value:function(n){this.handleFocusDay(n)}}]),e}(),QZ=function(t){function e(){var n;Xt(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return L(V(n=Qt(this,e,[].concat(i))),"weekNumberEl",G.createRef()),L(V(n),"handleClick",function(s){n.props.onClick&&n.props.onClick(s)}),L(V(n),"handleOnKeyDown",function(s){s.key===" "&&(s.preventDefault(),s.key="Enter"),n.props.handleOnKeyDown(s)}),L(V(n),"isKeyboardSelected",function(){return!n.props.disabledKeyboardNavigation&&!Xe(n.props.date,n.props.selected)&&Xe(n.props.date,n.props.preSelection)}),L(V(n),"getTabIndex",function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||Xe(n.props.date,n.props.selected)&&Xe(n.props.preSelection,n.props.selected))?0:-1}),L(V(n),"handleFocusWeekNumber",function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=!1;n.getTabIndex()===0&&!s.isInputFocused&&Xe(n.props.date,n.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(a=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(a=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(a=!0)),a&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})}),n}return Zt(e,G.Component),Jt(e,[{key:"componentDidMount",value:function(){this.handleFocusWeekNumber()}},{key:"componentDidUpdate",value:function(n){this.handleFocusWeekNumber(n)}},{key:"render",value:function(){var n=this.props,r=n.weekNumber,i=n.ariaLabelPrefix,o=i===void 0?"week ":i,s={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!n.onClick,"react-datepicker__week-number--selected":Xe(this.props.date,this.props.selected),"react-datepicker__week-number--keyboard-selected":this.isKeyboardSelected()};return G.createElement("div",{ref:this.weekNumberEl,className:Ve(s),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)}}],[{key:"defaultProps",get:function(){return{ariaLabelPrefix:"week "}}}]),e}(),XZ=function(t){function e(){var n;Xt(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return L(V(n=Qt(this,e,[].concat(i))),"handleDayClick",function(s,a){n.props.onDayClick&&n.props.onDayClick(s,a)}),L(V(n),"handleDayMouseEnter",function(s){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(s)}),L(V(n),"handleWeekClick",function(s,a,l){if(typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(s,a,l),n.props.showWeekPicker){var u=Nr(s,n.props.locale,n.props.calendarStartDay);n.handleDayClick(u,l)}n.props.shouldCloseOnSelect&&n.props.setOpen(!1)}),L(V(n),"formatWeekNumber",function(s){return n.props.formatWeekNumber?n.props.formatWeekNumber(s):function(a,l){return l&&Ao(l)||Es()&&Ao(Es()),lw(a)}(s)}),L(V(n),"renderDays",function(){var s=Nr(n.props.day,n.props.locale,n.props.calendarStartDay),a=[],l=n.formatWeekNumber(s);if(n.props.showWeekNumber){var u=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(V(n),s,l):void 0;a.push(G.createElement(QZ,{key:"W",weekNumber:l,date:s,onClick:u,selected:n.props.selected,preSelection:n.props.preSelection,ariaLabelPrefix:n.props.ariaLabelPrefix,showWeekPicker:n.props.showWeekPicker,showWeekNumber:n.props.showWeekNumber,disabledKeyboardNavigation:n.props.disabledKeyboardNavigation,handleOnKeyDown:n.props.handleOnKeyDown,isInputFocused:n.props.isInputFocused,containerRef:n.props.containerRef}))}return a.concat([0,1,2,3,4,5,6].map(function(h){var c=Ko(s,h);return G.createElement(GZ,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:c.valueOf(),day:c,month:n.props.month,onClick:n.handleDayClick.bind(V(n),c),onMouseEnter:n.handleDayMouseEnter.bind(V(n),c),minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDates:n.props.includeDates,includeDateIntervals:n.props.includeDateIntervals,highlightDates:n.props.highlightDates,holidays:n.props.holidays,selectingDate:n.props.selectingDate,filterDate:n.props.filterDate,preSelection:n.props.preSelection,selected:n.props.selected,selectsStart:n.props.selectsStart,selectsEnd:n.props.selectsEnd,selectsRange:n.props.selectsRange,showWeekPicker:n.props.showWeekPicker,showWeekNumber:n.props.showWeekNumber,selectsDisabledDaysInRange:n.props.selectsDisabledDaysInRange,startDate:n.props.startDate,endDate:n.props.endDate,dayClassName:n.props.dayClassName,renderDayContents:n.props.renderDayContents,disabledKeyboardNavigation:n.props.disabledKeyboardNavigation,handleOnKeyDown:n.props.handleOnKeyDown,isInputFocused:n.props.isInputFocused,containerRef:n.props.containerRef,inline:n.props.inline,shouldFocusDayInline:n.props.shouldFocusDayInline,monthShowsDuplicateDaysEnd:n.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:n.props.monthShowsDuplicateDaysStart,locale:n.props.locale})}))}),L(V(n),"startOfWeek",function(){return Nr(n.props.day,n.props.locale,n.props.calendarStartDay)}),L(V(n),"isKeyboardSelected",function(){return!n.props.disabledKeyboardNavigation&&!Xe(n.startOfWeek(),n.props.selected)&&Xe(n.startOfWeek(),n.props.preSelection)}),n}return Zt(e,G.Component),Jt(e,[{key:"render",value:function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":Xe(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return G.createElement("div",{className:Ve(n)},this.renderDays())}}],[{key:"defaultProps",get:function(){return{shouldCloseOnSelect:!0}}}]),e}(),SD="two_columns",kD="three_columns",ID="four_columns",ny=L(L(L({},SD,{grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2}),kD,{grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3}),ID,{grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4});function Ik(t,e){return t?ID:e?SD:kD}var JZ=function(t){function e(){var n;Xt(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return L(V(n=Qt(this,e,[].concat(i))),"MONTH_REFS",Bs(Array(12)).map(function(){return G.createRef()})),L(V(n),"QUARTER_REFS",Bs(Array(4)).map(function(){return G.createRef()})),L(V(n),"isDisabled",function(s){return Pm(s,n.props)}),L(V(n),"isExcluded",function(s){return _w(s,n.props)}),L(V(n),"handleDayClick",function(s,a){n.props.onDayClick&&n.props.onDayClick(s,a,n.props.orderInDisplay)}),L(V(n),"handleDayMouseEnter",function(s){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(s)}),L(V(n),"handleMouseLeave",function(){n.props.onMouseLeave&&n.props.onMouseLeave()}),L(V(n),"isRangeStartMonth",function(s){var a=n.props,l=a.day,u=a.startDate,h=a.endDate;return!(!u||!h)&&Rr(Rn(l,s),u)}),L(V(n),"isRangeStartQuarter",function(s){var a=n.props,l=a.day,u=a.startDate,h=a.endDate;return!(!u||!h)&&rp(da(l,s),u)}),L(V(n),"isRangeEndMonth",function(s){var a=n.props,l=a.day,u=a.startDate,h=a.endDate;return!(!u||!h)&&Rr(Rn(l,s),h)}),L(V(n),"isRangeEndQuarter",function(s){var a=n.props,l=a.day,u=a.startDate,h=a.endDate;return!(!u||!h)&&rp(da(l,s),h)}),L(V(n),"isInSelectingRangeMonth",function(s){var a,l=n.props,u=l.day,h=l.selectsStart,c=l.selectsEnd,f=l.selectsRange,d=l.startDate,g=l.endDate,y=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return!(!(h||c||f)||!y)&&(h&&g?Zg(y,g,s,u):(c&&d||!(!f||!d||g))&&Zg(d,y,s,u))}),L(V(n),"isSelectingMonthRangeStart",function(s){var a;if(!n.isInSelectingRangeMonth(s))return!1;var l=n.props,u=l.day,h=l.startDate,c=l.selectsStart,f=Rn(u,s),d=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return Rr(f,c?d:h)}),L(V(n),"isSelectingMonthRangeEnd",function(s){var a;if(!n.isInSelectingRangeMonth(s))return!1;var l=n.props,u=l.day,h=l.endDate,c=l.selectsEnd,f=l.selectsRange,d=Rn(u,s),g=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return Rr(d,c||f?g:h)}),L(V(n),"isInSelectingRangeQuarter",function(s){var a,l=n.props,u=l.day,h=l.selectsStart,c=l.selectsEnd,f=l.selectsRange,d=l.startDate,g=l.endDate,y=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return!(!(h||c||f)||!y)&&(h&&g?ty(y,g,s,u):(c&&d||!(!f||!d||g))&&ty(d,y,s,u))}),L(V(n),"isWeekInMonth",function(s){var a=n.props.day,l=Ko(s,6);return Rr(s,a)||Rr(l,a)}),L(V(n),"isCurrentMonth",function(s,a){return Oe(s)===Oe(Je())&&a===wn(Je())}),L(V(n),"isCurrentQuarter",function(s,a){return Oe(s)===Oe(Je())&&a===xa(Je())}),L(V(n),"isSelectedMonth",function(s,a,l){return wn(l)===a&&Oe(s)===Oe(l)}),L(V(n),"isSelectedQuarter",function(s,a,l){return xa(s)===a&&Oe(s)===Oe(l)}),L(V(n),"renderWeeks",function(){for(var s=[],a=n.props.fixedHeight,l=0,u=!1,h=Nr(Co(n.props.day),n.props.locale,n.props.calendarStartDay);s.push(G.createElement(XZ,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,chooseDayAriaLabelPrefix:n.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:n.props.disabledDayAriaLabelPrefix,key:l,day:h,month:wn(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,onWeekSelect:n.props.onWeekSelect,formatWeekNumber:n.props.formatWeekNumber,locale:n.props.locale,minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDates:n.props.includeDates,includeDateIntervals:n.props.includeDateIntervals,inline:n.props.inline,shouldFocusDayInline:n.props.shouldFocusDayInline,highlightDates:n.props.highlightDates,holidays:n.props.holidays,selectingDate:n.props.selectingDate,filterDate:n.props.filterDate,preSelection:n.props.preSelection,selected:n.props.selected,selectsStart:n.props.selectsStart,selectsEnd:n.props.selectsEnd,selectsRange:n.props.selectsRange,selectsDisabledDaysInRange:n.props.selectsDisabledDaysInRange,showWeekNumber:n.props.showWeekNumbers,showWeekPicker:n.props.showWeekPicker,startDate:n.props.startDate,endDate:n.props.endDate,dayClassName:n.props.dayClassName,setOpen:n.props.setOpen,shouldCloseOnSelect:n.props.shouldCloseOnSelect,disabledKeyboardNavigation:n.props.disabledKeyboardNavigation,renderDayContents:n.props.renderDayContents,handleOnKeyDown:n.props.handleOnKeyDown,isInputFocused:n.props.isInputFocused,containerRef:n.props.containerRef,calendarStartDay:n.props.calendarStartDay,monthShowsDuplicateDaysEnd:n.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:n.props.monthShowsDuplicateDaysStart})),!u;){l++,h=Kd(h,1);var c=a&&l>=6,f=!a&&!n.isWeekInMonth(h);if(c||f){if(!n.props.peekNextMonth)break;u=!0}}return s}),L(V(n),"onMonthClick",function(s,a){n.handleDayClick(Co(Rn(n.props.day,a)),s)}),L(V(n),"onMonthMouseEnter",function(s){n.handleDayMouseEnter(Co(Rn(n.props.day,s)))}),L(V(n),"handleMonthNavigation",function(s,a){n.isDisabled(a)||n.isExcluded(a)||(n.props.setPreSelection(a),n.MONTH_REFS[s].current&&n.MONTH_REFS[s].current.focus())}),L(V(n),"onMonthKeyDown",function(s,a){var l=n.props,u=l.selected,h=l.preSelection,c=l.disabledKeyboardNavigation,f=l.showTwoColumnMonthYearPicker,d=l.showFourColumnMonthYearPicker,g=l.setPreSelection,y=s.key;if(y!=="Tab"&&s.preventDefault(),!c){var w=Ik(d,f),m=ny[w].verticalNavigationOffset,p=ny[w].grid;switch(y){case"Enter":n.onMonthClick(s,a),g(u);break;case"ArrowRight":n.handleMonthNavigation(a===11?0:a+1,$r(h,1));break;case"ArrowLeft":n.handleMonthNavigation(a===0?11:a-1,vl(h,1));break;case"ArrowUp":n.handleMonthNavigation(p[0].includes(a)?a+12-m:a-m,vl(h,m));break;case"ArrowDown":n.handleMonthNavigation(p[p.length-1].includes(a)?a-12+m:a+m,$r(h,m))}}}),L(V(n),"onQuarterClick",function(s,a){n.handleDayClick(fk(da(n.props.day,a)),s)}),L(V(n),"onQuarterMouseEnter",function(s){n.handleDayMouseEnter(fk(da(n.props.day,s)))}),L(V(n),"handleQuarterNavigation",function(s,a){n.isDisabled(a)||n.isExcluded(a)||(n.props.setPreSelection(a),n.QUARTER_REFS[s-1].current&&n.QUARTER_REFS[s-1].current.focus())}),L(V(n),"onQuarterKeyDown",function(s,a){var l=s.key;if(!n.props.disabledKeyboardNavigation)switch(l){case"Enter":n.onQuarterClick(s,a),n.props.setPreSelection(n.props.selected);break;case"ArrowRight":n.handleQuarterNavigation(a===4?1:a+1,Xx(n.props.preSelection,1));break;case"ArrowLeft":n.handleQuarterNavigation(a===1?4:a-1,sX(n.props.preSelection,1))}}),L(V(n),"getMonthClassNames",function(s){var a=n.props,l=a.day,u=a.startDate,h=a.endDate,c=a.selected,f=a.minDate,d=a.maxDate,g=a.preSelection,y=a.monthClassName,w=a.excludeDates,m=a.includeDates,p=y?y(Rn(l,s)):void 0,_=Rn(l,s);return Ve("react-datepicker__month-text","react-datepicker__month-".concat(s),p,{"react-datepicker__month-text--disabled":(f||d||w||m)&&wD(_,n.props),"react-datepicker__month-text--selected":n.isSelectedMonth(l,s,c),"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&wn(g)===s,"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(s),"react-datepicker__month-text--in-range":Zg(u,h,s,l),"react-datepicker__month-text--range-start":n.isRangeStartMonth(s),"react-datepicker__month-text--range-end":n.isRangeEndMonth(s),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(s),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(s),"react-datepicker__month-text--today":n.isCurrentMonth(l,s)})}),L(V(n),"getTabIndex",function(s){var a=wn(n.props.preSelection);return n.props.disabledKeyboardNavigation||s!==a?"-1":"0"}),L(V(n),"getQuarterTabIndex",function(s){var a=xa(n.props.preSelection);return n.props.disabledKeyboardNavigation||s!==a?"-1":"0"}),L(V(n),"getAriaLabel",function(s){var a=n.props,l=a.chooseDayAriaLabelPrefix,u=l===void 0?"Choose":l,h=a.disabledDayAriaLabelPrefix,c=h===void 0?"Not available":h,f=a.day,d=Rn(f,s),g=n.isDisabled(d)||n.isExcluded(d)?c:u;return"".concat(g," ").concat(mt(d,"MMMM yyyy"))}),L(V(n),"getQuarterClassNames",function(s){var a=n.props,l=a.day,u=a.startDate,h=a.endDate,c=a.selected,f=a.minDate,d=a.maxDate,g=a.preSelection,y=a.disabledKeyboardNavigation;return Ve("react-datepicker__quarter-text","react-datepicker__quarter-".concat(s),{"react-datepicker__quarter-text--disabled":(f||d)&&jZ(da(l,s),n.props),"react-datepicker__quarter-text--selected":n.isSelectedQuarter(l,s,c),"react-datepicker__quarter-text--keyboard-selected":!y&&xa(g)===s,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(s),"react-datepicker__quarter-text--in-range":ty(u,h,s,l),"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(s),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(s)})}),L(V(n),"getMonthContent",function(s){var a=n.props,l=a.showFullMonthYearPicker,u=a.renderMonthContent,h=a.locale,c=a.day,f=_D(s,h),d=vw(s,h);return u?u(s,f,d,c):l?d:f}),L(V(n),"getQuarterContent",function(s){var a=n.props,l=a.renderQuarterContent,u=function(h,c){return mt(da(Je(),h),"QQQ",c)}(s,a.locale);return l?l(s,u):u}),L(V(n),"renderMonths",function(){var s=n.props,a=s.showTwoColumnMonthYearPicker,l=s.showFourColumnMonthYearPicker,u=s.day,h=s.selected;return ny[Ik(l,a)].grid.map(function(c,f){return G.createElement("div",{className:"react-datepicker__month-wrapper",key:f},c.map(function(d,g){return G.createElement("div",{ref:n.MONTH_REFS[d],key:g,onClick:function(y){n.onMonthClick(y,d)},onKeyDown:function(y){n.onMonthKeyDown(y,d)},onMouseEnter:function(){return n.onMonthMouseEnter(d)},tabIndex:n.getTabIndex(d),className:n.getMonthClassNames(d),role:"option","aria-label":n.getAriaLabel(d),"aria-current":n.isCurrentMonth(u,d)?"date":void 0,"aria-selected":n.isSelectedMonth(u,d,h)},n.getMonthContent(d))}))})}),L(V(n),"renderQuarters",function(){var s=n.props,a=s.day,l=s.selected;return G.createElement("div",{className:"react-datepicker__quarter-wrapper"},[1,2,3,4].map(function(u,h){return G.createElement("div",{key:h,ref:n.QUARTER_REFS[h],role:"option",onClick:function(c){n.onQuarterClick(c,u)},onKeyDown:function(c){n.onQuarterKeyDown(c,u)},onMouseEnter:function(){return n.onQuarterMouseEnter(u)},className:n.getQuarterClassNames(u),"aria-selected":n.isSelectedQuarter(a,u,l),tabIndex:n.getQuarterTabIndex(u),"aria-current":n.isCurrentQuarter(a,u)?"date":void 0},n.getQuarterContent(u))}))}),L(V(n),"getClassNames",function(){var s=n.props,a=s.selectingDate,l=s.selectsStart,u=s.selectsEnd,h=s.showMonthYearPicker,c=s.showQuarterYearPicker,f=s.showWeekPicker;return Ve("react-datepicker__month",{"react-datepicker__month--selecting-range":a&&(l||u)},{"react-datepicker__monthPicker":h},{"react-datepicker__quarterPicker":c},{"react-datepicker__weekPicker":f})}),n}return Zt(e,G.Component),Jt(e,[{key:"render",value:function(){var n=this.props,r=n.showMonthYearPicker,i=n.showQuarterYearPicker,o=n.day,s=n.ariaLabelPrefix,a=s===void 0?"month ":s;return G.createElement("div",{className:this.getClassNames(),onMouseLeave:this.handleMouseLeave,"aria-label":"".concat(a," ").concat(mt(o,"yyyy-MM")),role:"listbox"},r?this.renderMonths():i?this.renderQuarters():this.renderWeeks())}}]),e}(),CD=function(t){function e(){var n;Xt(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return L(V(n=Qt(this,e,[].concat(i))),"state",{height:null}),L(V(n),"scrollToTheSelectedTime",function(){requestAnimationFrame(function(){n.list&&(n.list.scrollTop=n.centerLi&&e.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-n.header.clientHeight:n.list.clientHeight,n.centerLi))})}),L(V(n),"handleClick",function(s){(n.props.minTime||n.props.maxTime)&&gk(s,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&mk(s,n.props)||n.props.onChange(s)}),L(V(n),"isSelectedTime",function(s){return n.props.selected&&(a=n.props.selected,l=s,bk(a).getTime()===bk(l).getTime());var a,l}),L(V(n),"isDisabledTime",function(s){return(n.props.minTime||n.props.maxTime)&&gk(s,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&mk(s,n.props)}),L(V(n),"liClasses",function(s){var a=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(s):void 0];return n.isSelectedTime(s)&&a.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(s)&&a.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(60*ci(s)+ui(s))%n.props.intervals!=0&&a.push("react-datepicker__time-list-item--injected"),a.join(" ")}),L(V(n),"handleOnKeyDown",function(s,a){s.key===" "&&(s.preventDefault(),s.key="Enter"),s.key!=="ArrowUp"&&s.key!=="ArrowLeft"||!s.target.previousSibling||(s.preventDefault(),s.target.previousSibling.focus()),s.key!=="ArrowDown"&&s.key!=="ArrowRight"||!s.target.nextSibling||(s.preventDefault(),s.target.nextSibling.focus()),s.key==="Enter"&&n.handleClick(a),n.props.handleOnKeyDown(s)}),L(V(n),"renderTimes",function(){for(var s=[],a=n.props.format?n.props.format:"p",l=n.props.intervals,u=n.props.selected||n.props.openToDate||Je(),h=li(u),c=n.props.injectTimes&&n.props.injectTimes.sort(function(p,_){return p-_}),f=60*function(p){var _=new Date(p.getFullYear(),p.getMonth(),p.getDate()),v=new Date(p.getFullYear(),p.getMonth(),p.getDate(),24);return Math.round((+v-+_)/36e5)}(u),d=f/l,g=0;g<d;g++){var y=i_(h,g*l);if(s.push(y),c){var w=VZ(h,y,g,l,c);s=s.concat(w)}}var m=s.reduce(function(p,_){return _.getTime()<=u.getTime()?_:p},s[0]);return s.map(function(p,_){return G.createElement("li",{key:_,onClick:n.handleClick.bind(V(n),p),className:n.liClasses(p),ref:function(v){p===m&&(n.centerLi=v)},onKeyDown:function(v){n.handleOnKeyDown(v,p)},tabIndex:p===m?0:-1,role:"option","aria-selected":n.isSelectedTime(p)?"true":void 0,"aria-disabled":n.isDisabledTime(p)?"true":void 0},mt(p,a,n.props.locale))})}),n}return Zt(e,G.Component),Jt(e,[{key:"componentDidMount",value:function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})}},{key:"render",value:function(){var n=this,r=this.state.height;return G.createElement("div",{className:"react-datepicker__time-container ".concat(this.props.todayButton?"react-datepicker__time-container--with-today-button":"")},G.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(this.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(i){n.header=i}},G.createElement("div",{className:"react-datepicker-time__header"},this.props.timeCaption)),G.createElement("div",{className:"react-datepicker__time"},G.createElement("div",{className:"react-datepicker__time-box"},G.createElement("ul",{className:"react-datepicker__time-list",ref:function(i){n.list=i},style:r?{height:r}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))}}],[{key:"defaultProps",get:function(){return{intervals:30,onTimeChange:function(){},todayButton:null,timeCaption:"Time"}}}]),e}();L(CD,"calcCenterPosition",function(t,e){return e.offsetTop-(t/2-e.clientHeight/2)});var ZZ=function(t){function e(n){var r;return Xt(this,e),L(V(r=Qt(this,e,[n])),"YEAR_REFS",Bs(Array(r.props.yearItemNumber)).map(function(){return G.createRef()})),L(V(r),"isDisabled",function(i){return Pm(i,r.props)}),L(V(r),"isExcluded",function(i){return _w(i,r.props)}),L(V(r),"selectingDate",function(){var i;return(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection}),L(V(r),"updateFocusOnPaginate",function(i){var o=(function(){this.YEAR_REFS[i].current.focus()}).bind(V(r));window.requestAnimationFrame(o)}),L(V(r),"handleYearClick",function(i,o){r.props.onDayClick&&r.props.onDayClick(i,o)}),L(V(r),"handleYearNavigation",function(i,o){var s=r.props,a=s.date,l=s.yearItemNumber,u=Da(a,l).startPeriod;r.isDisabled(o)||r.isExcluded(o)||(r.props.setPreSelection(o),i-u==-1?r.updateFocusOnPaginate(l-1):i-u===l?r.updateFocusOnPaginate(0):r.YEAR_REFS[i-u].current.focus())}),L(V(r),"isSameDay",function(i,o){return Xe(i,o)}),L(V(r),"isCurrentYear",function(i){return i===Oe(Je())}),L(V(r),"isRangeStart",function(i){return r.props.startDate&&r.props.endDate&&ho(wi(Je(),i),r.props.startDate)}),L(V(r),"isRangeEnd",function(i){return r.props.startDate&&r.props.endDate&&ho(wi(Je(),i),r.props.endDate)}),L(V(r),"isInRange",function(i){return ey(i,r.props.startDate,r.props.endDate)}),L(V(r),"isInSelectingRange",function(i){var o=r.props,s=o.selectsStart,a=o.selectsEnd,l=o.selectsRange,u=o.startDate,h=o.endDate;return!(!(s||a||l)||!r.selectingDate())&&(s&&h?ey(i,r.selectingDate(),h):(a&&u||!(!l||!u||h))&&ey(i,u,r.selectingDate()))}),L(V(r),"isSelectingRangeStart",function(i){if(!r.isInSelectingRange(i))return!1;var o=r.props,s=o.startDate,a=o.selectsStart,l=wi(Je(),i);return ho(l,a?r.selectingDate():s)}),L(V(r),"isSelectingRangeEnd",function(i){if(!r.isInSelectingRange(i))return!1;var o=r.props,s=o.endDate,a=o.selectsEnd,l=o.selectsRange,u=wi(Je(),i);return ho(u,a||l?r.selectingDate():s)}),L(V(r),"isKeyboardSelected",function(i){var o=Ru(wi(r.props.date,i));return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!Xe(o,Ru(r.props.selected))&&Xe(o,Ru(r.props.preSelection))}),L(V(r),"onYearClick",function(i,o){var s=r.props.date;r.handleYearClick(Ru(wi(s,o)),i)}),L(V(r),"onYearKeyDown",function(i,o){var s=i.key;if(!r.props.disabledKeyboardNavigation)switch(s){case"Enter":r.onYearClick(i,o),r.props.setPreSelection(r.props.selected);break;case"ArrowRight":r.handleYearNavigation(o+1,yl(r.props.preSelection,1));break;case"ArrowLeft":r.handleYearNavigation(o-1,Vc(r.props.preSelection,1))}}),L(V(r),"getYearClassNames",function(i){var o=r.props,s=o.minDate,a=o.maxDate,l=o.selected,u=o.excludeDates,h=o.includeDates,c=o.filterDate;return Ve("react-datepicker__year-text",{"react-datepicker__year-text--selected":i===Oe(l),"react-datepicker__year-text--disabled":(s||a||u||h||c)&&ED(i,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(i),"react-datepicker__year-text--range-start":r.isRangeStart(i),"react-datepicker__year-text--range-end":r.isRangeEnd(i),"react-datepicker__year-text--in-range":r.isInRange(i),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(i),"react-datepicker__year-text--today":r.isCurrentYear(i)})}),L(V(r),"getYearTabIndex",function(i){return r.props.disabledKeyboardNavigation?"-1":i===Oe(r.props.preSelection)?"0":"-1"}),L(V(r),"getYearContainerClassNames",function(){var i=r.props,o=i.selectingDate,s=i.selectsStart,a=i.selectsEnd,l=i.selectsRange;return Ve("react-datepicker__year",{"react-datepicker__year--selecting-range":o&&(s||a||l)})}),L(V(r),"getYearContent",function(i){return r.props.renderYearContent?r.props.renderYearContent(i):i}),r}return Zt(e,G.Component),Jt(e,[{key:"render",value:function(){for(var n=this,r=[],i=this.props,o=i.date,s=i.yearItemNumber,a=i.onYearMouseEnter,l=i.onYearMouseLeave,u=Da(o,s),h=u.startPeriod,c=u.endPeriod,f=function(g){r.push(G.createElement("div",{ref:n.YEAR_REFS[g-h],onClick:function(y){n.onYearClick(y,g)},onKeyDown:function(y){n.onYearKeyDown(y,g)},tabIndex:n.getYearTabIndex(g),className:n.getYearClassNames(g),onMouseEnter:function(y){return a(y,g)},onMouseLeave:function(y){return l(y,g)},key:g,"aria-current":n.isCurrentYear(g)?"date":void 0},n.getYearContent(g)))},d=h;d<=c;d++)f(d);return G.createElement("div",{className:this.getYearContainerClassNames()},G.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.clearSelectingDate},r))}}]),e}(),eee=function(t){function e(n){var r;return Xt(this,e),L(V(r=Qt(this,e,[n])),"onTimeChange",function(i){r.setState({time:i});var o=r.props.date,s=o instanceof Date&&!isNaN(o)?o:new Date;s.setHours(i.split(":")[0]),s.setMinutes(i.split(":")[1]),r.props.onChange(s)}),L(V(r),"renderTimeInput",function(){var i=r.state.time,o=r.props,s=o.date,a=o.timeString,l=o.customTimeInput;return l?G.cloneElement(l,{date:s,value:i,onChange:r.onTimeChange}):G.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",required:!0,value:i,onChange:function(u){r.onTimeChange(u.target.value||a)}})}),r.state={time:r.props.timeString},r}return Zt(e,G.Component),Jt(e,[{key:"render",value:function(){return G.createElement("div",{className:"react-datepicker__input-time-container"},G.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),G.createElement("div",{className:"react-datepicker-time__input-container"},G.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))}}],[{key:"getDerivedStateFromProps",value:function(n,r){return n.timeString!==r.time?{time:n.timeString}:null}}]),e}();function tee(t){var e=t.className,n=t.children;return G.createElement("div",{className:e},n)}var nee=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],ree=function(t){function e(n){var r;return Xt(this,e),L(V(r=Qt(this,e,[n])),"handleClickOutside",function(i){r.props.onClickOutside(i)}),L(V(r),"setClickOutsideRef",function(){return r.containerRef.current}),L(V(r),"handleDropdownFocus",function(i){(function(){var o=((arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).className||"").split(/\s+/);return nee.some(function(s){return o.indexOf(s)>=0})})(i.target)&&r.props.onDropdownFocus()}),L(V(r),"getDateInView",function(){var i=r.props,o=i.preSelection,s=i.selected,a=i.openToDate,l=TD(r.props),u=bD(r.props),h=Je(),c=a||s||o;return c||(l&&Vs(h,l)?l:u&&Lo(h,u)?u:h)}),L(V(r),"increaseMonth",function(){r.setState(function(i){var o=i.date;return{date:$r(o,1)}},function(){return r.handleMonthChange(r.state.date)})}),L(V(r),"decreaseMonth",function(){r.setState(function(i){var o=i.date;return{date:vl(o,1)}},function(){return r.handleMonthChange(r.state.date)})}),L(V(r),"handleDayClick",function(i,o,s){r.props.onSelect(i,o,s),r.props.setPreSelection&&r.props.setPreSelection(i)}),L(V(r),"handleDayMouseEnter",function(i){r.setState({selectingDate:i}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(i)}),L(V(r),"handleMonthMouseLeave",function(){r.setState({selectingDate:null}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()}),L(V(r),"handleYearMouseEnter",function(i,o){r.setState({selectingDate:wi(Je(),o)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(i,o)}),L(V(r),"handleYearMouseLeave",function(i,o){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(i,o)}),L(V(r),"handleYearChange",function(i){r.props.onYearChange&&(r.props.onYearChange(i),r.setState({isRenderAriaLiveMessage:!0})),r.props.adjustDateOnChange&&(r.props.onSelect&&r.props.onSelect(i),r.props.setOpen&&r.props.setOpen(!0)),r.props.setPreSelection&&r.props.setPreSelection(i)}),L(V(r),"handleMonthChange",function(i){r.handleCustomMonthChange(i),r.props.adjustDateOnChange&&(r.props.onSelect&&r.props.onSelect(i),r.props.setOpen&&r.props.setOpen(!0)),r.props.setPreSelection&&r.props.setPreSelection(i)}),L(V(r),"handleCustomMonthChange",function(i){r.props.onMonthChange&&(r.props.onMonthChange(i),r.setState({isRenderAriaLiveMessage:!0}))}),L(V(r),"handleMonthYearChange",function(i){r.handleYearChange(i),r.handleMonthChange(i)}),L(V(r),"changeYear",function(i){r.setState(function(o){var s=o.date;return{date:wi(s,i)}},function(){return r.handleYearChange(r.state.date)})}),L(V(r),"changeMonth",function(i){r.setState(function(o){var s=o.date;return{date:Rn(s,i)}},function(){return r.handleMonthChange(r.state.date)})}),L(V(r),"changeMonthYear",function(i){r.setState(function(o){var s=o.date;return{date:wi(Rn(s,wn(i)),Oe(i))}},function(){return r.handleMonthYearChange(r.state.date)})}),L(V(r),"header",function(){var i=Nr(arguments.length>0&&arguments[0]!==void 0?arguments[0]:r.state.date,r.props.locale,r.props.calendarStartDay),o=[];return r.props.showWeekNumbers&&o.push(G.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),o.concat([0,1,2,3,4,5,6].map(function(s){var a=Ko(i,s),l=r.formatWeekday(a,r.props.locale),u=r.props.weekDayClassName?r.props.weekDayClassName(a):void 0;return G.createElement("div",{key:s,className:Ve("react-datepicker__day-name",u)},l)}))}),L(V(r),"formatWeekday",function(i,o){return r.props.formatWeekDay?function(s,a,l){return a(mt(s,"EEEE",l))}(i,r.props.formatWeekDay,o):r.props.useWeekdaysShort?function(s,a){return mt(s,"EEE",a)}(i,o):function(s,a){return mt(s,"EEEEEE",a)}(i,o)}),L(V(r),"decreaseYear",function(){r.setState(function(i){var o=i.date;return{date:Vc(o,r.props.showYearPicker?r.props.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})}),L(V(r),"clearSelectingDate",function(){r.setState({selectingDate:null})}),L(V(r),"renderPreviousButton",function(){if(!r.props.renderCustomHeader){var i;switch(!0){case r.props.showMonthYearPicker:i=_k(r.state.date,r.props);break;case r.props.showYearPicker:i=function(w){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=m.minDate,_=m.yearItemNumber,v=_===void 0?Qu:_,E=Da(Ru(Vc(w,v)),v).endPeriod,I=p&&Oe(p);return I&&I>E||!1}(r.state.date,r.props);break;default:i=yk(r.state.date,r.props)}if((r.props.forceShowMonthNavigation||r.props.showDisabledMonthNavigation||!i)&&!r.props.showTimeSelectOnly){var o=["react-datepicker__navigation","react-datepicker__navigation--previous"],s=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(s=r.decreaseYear),i&&r.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--previous--disabled"),s=null);var a=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,l=r.props,u=l.previousMonthButtonLabel,h=l.previousYearButtonLabel,c=r.props,f=c.previousMonthAriaLabel,d=f===void 0?typeof u=="string"?u:"Previous Month":f,g=c.previousYearAriaLabel,y=g===void 0?typeof h=="string"?h:"Previous Year":g;return G.createElement("button",{type:"button",className:o.join(" "),onClick:s,onKeyDown:r.props.handleOnKeyDown,"aria-label":a?y:d},G.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"].join(" ")},a?r.props.previousYearButtonLabel:r.props.previousMonthButtonLabel))}}}),L(V(r),"increaseYear",function(){r.setState(function(i){var o=i.date;return{date:yl(o,r.props.showYearPicker?r.props.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})}),L(V(r),"renderNextButton",function(){if(!r.props.renderCustomHeader){var i;switch(!0){case r.props.showMonthYearPicker:i=wk(r.state.date,r.props);break;case r.props.showYearPicker:i=function(w){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=m.maxDate,_=m.yearItemNumber,v=_===void 0?Qu:_,E=Da(yl(w,v),v).startPeriod,I=p&&Oe(p);return I&&I<E||!1}(r.state.date,r.props);break;default:i=vk(r.state.date,r.props)}if((r.props.forceShowMonthNavigation||r.props.showDisabledMonthNavigation||!i)&&!r.props.showTimeSelectOnly){var o=["react-datepicker__navigation","react-datepicker__navigation--next"];r.props.showTimeSelect&&o.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&o.push("react-datepicker__navigation--next--with-today-button");var s=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(s=r.increaseYear),i&&r.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--next--disabled"),s=null);var a=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,l=r.props,u=l.nextMonthButtonLabel,h=l.nextYearButtonLabel,c=r.props,f=c.nextMonthAriaLabel,d=f===void 0?typeof u=="string"?u:"Next Month":f,g=c.nextYearAriaLabel,y=g===void 0?typeof h=="string"?h:"Next Year":g;return G.createElement("button",{type:"button",className:o.join(" "),onClick:s,onKeyDown:r.props.handleOnKeyDown,"aria-label":a?y:d},G.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"].join(" ")},a?r.props.nextYearButtonLabel:r.props.nextMonthButtonLabel))}}}),L(V(r),"renderCurrentMonth",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r.state.date,o=["react-datepicker__current-month"];return r.props.showYearDropdown&&o.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&o.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&o.push("react-datepicker__current-month--hasMonthYearDropdown"),G.createElement("div",{className:o.join(" ")},mt(i,r.props.dateFormat,r.props.locale))}),L(V(r),"renderYearDropdown",function(){var i=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(r.props.showYearDropdown&&!i)return G.createElement(qZ,{adjustDateOnChange:r.props.adjustDateOnChange,date:r.state.date,onSelect:r.props.onSelect,setOpen:r.props.setOpen,dropdownMode:r.props.dropdownMode,onChange:r.changeYear,minDate:r.props.minDate,maxDate:r.props.maxDate,year:Oe(r.state.date),scrollableYearDropdown:r.props.scrollableYearDropdown,yearDropdownItemNumber:r.props.yearDropdownItemNumber})}),L(V(r),"renderMonthDropdown",function(){var i=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(r.props.showMonthDropdown&&!i)return G.createElement(WZ,{dropdownMode:r.props.dropdownMode,locale:r.props.locale,onChange:r.changeMonth,month:wn(r.state.date),useShortMonthInDropdown:r.props.useShortMonthInDropdown})}),L(V(r),"renderMonthYearDropdown",function(){var i=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(r.props.showMonthYearDropdown&&!i)return G.createElement(KZ,{dropdownMode:r.props.dropdownMode,locale:r.props.locale,dateFormat:r.props.dateFormat,onChange:r.changeMonthYear,minDate:r.props.minDate,maxDate:r.props.maxDate,date:r.state.date,scrollableMonthYearDropdown:r.props.scrollableMonthYearDropdown})}),L(V(r),"handleTodayButtonClick",function(i){r.props.onSelect(dk(),i),r.props.setPreSelection&&r.props.setPreSelection(dk())}),L(V(r),"renderTodayButton",function(){if(r.props.todayButton&&!r.props.showTimeSelectOnly)return G.createElement("div",{className:"react-datepicker__today-button",onClick:function(i){return r.handleTodayButtonClick(i)}},r.props.todayButton)}),L(V(r),"renderDefaultHeader",function(i){var o=i.monthDate,s=i.i;return G.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(o),G.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(s!==0),r.renderMonthYearDropdown(s!==0),r.renderYearDropdown(s!==0)),G.createElement("div",{className:"react-datepicker__day-names"},r.header(o)))}),L(V(r),"renderCustomHeader",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=i.monthDate,s=i.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var a=yk(r.state.date,r.props),l=vk(r.state.date,r.props),u=_k(r.state.date,r.props),h=wk(r.state.date,r.props),c=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return G.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},r.props.renderCustomHeader(Ti(Ti({},r.state),{},{customHeaderCount:s,monthDate:o,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:a,nextMonthButtonDisabled:l,prevYearButtonDisabled:u,nextYearButtonDisabled:h})),c&&G.createElement("div",{className:"react-datepicker__day-names"},r.header(o)))}),L(V(r),"renderYearHeader",function(){var i=r.state.date,o=r.props,s=o.showYearPicker,a=Da(i,o.yearItemNumber),l=a.startPeriod,u=a.endPeriod;return G.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},s?"".concat(l," - ").concat(u):Oe(i))}),L(V(r),"renderHeader",function(i){switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(i);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(i);default:return r.renderDefaultHeader(i)}}),L(V(r),"renderMonths",function(){var i;if(!r.props.showTimeSelectOnly&&!r.props.showYearPicker){for(var o=[],s=r.props.showPreviousMonths?r.props.monthsShown-1:0,a=vl(r.state.date,s),l=(i=r.props.monthSelectedIn)!==null&&i!==void 0?i:s,u=0;u<r.props.monthsShown;++u){var h=$r(a,u-l+s),c="month-".concat(u),f=u<r.props.monthsShown-1,d=u>0;o.push(G.createElement("div",{key:c,ref:function(g){r.monthContainer=g},className:"react-datepicker__month-container"},r.renderHeader({monthDate:h,i:u}),G.createElement(JZ,{chooseDayAriaLabelPrefix:r.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:r.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:r.props.weekAriaLabelPrefix,ariaLabelPrefix:r.props.monthAriaLabelPrefix,onChange:r.changeMonthYear,day:h,dayClassName:r.props.dayClassName,calendarStartDay:r.props.calendarStartDay,monthClassName:r.props.monthClassName,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,onWeekSelect:r.props.onWeekSelect,orderInDisplay:u,formatWeekNumber:r.props.formatWeekNumber,locale:r.props.locale,minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,highlightDates:r.props.highlightDates,holidays:r.props.holidays,selectingDate:r.state.selectingDate,includeDates:r.props.includeDates,includeDateIntervals:r.props.includeDateIntervals,inline:r.props.inline,shouldFocusDayInline:r.props.shouldFocusDayInline,fixedHeight:r.props.fixedHeight,filterDate:r.props.filterDate,preSelection:r.props.preSelection,setPreSelection:r.props.setPreSelection,selected:r.props.selected,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,selectsRange:r.props.selectsRange,selectsDisabledDaysInRange:r.props.selectsDisabledDaysInRange,showWeekNumbers:r.props.showWeekNumbers,startDate:r.props.startDate,endDate:r.props.endDate,peekNextMonth:r.props.peekNextMonth,setOpen:r.props.setOpen,shouldCloseOnSelect:r.props.shouldCloseOnSelect,renderDayContents:r.props.renderDayContents,renderMonthContent:r.props.renderMonthContent,renderQuarterContent:r.props.renderQuarterContent,renderYearContent:r.props.renderYearContent,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation,showMonthYearPicker:r.props.showMonthYearPicker,showFullMonthYearPicker:r.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:r.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:r.props.showFourColumnMonthYearPicker,showYearPicker:r.props.showYearPicker,showQuarterYearPicker:r.props.showQuarterYearPicker,showWeekPicker:r.props.showWeekPicker,isInputFocused:r.props.isInputFocused,containerRef:r.containerRef,monthShowsDuplicateDaysEnd:f,monthShowsDuplicateDaysStart:d})))}return o}}),L(V(r),"renderYears",function(){if(!r.props.showTimeSelectOnly)return r.props.showYearPicker?G.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader(),G.createElement(ZZ,qc({onDayClick:r.handleDayClick,selectingDate:r.state.selectingDate,clearSelectingDate:r.clearSelectingDate,date:r.state.date},r.props,{onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave}))):void 0}),L(V(r),"renderTimeSection",function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return G.createElement(CD,{selected:r.props.selected,openToDate:r.props.openToDate,onChange:r.props.onTimeChange,timeClassName:r.props.timeClassName,format:r.props.timeFormat,includeTimes:r.props.includeTimes,intervals:r.props.timeIntervals,minTime:r.props.minTime,maxTime:r.props.maxTime,excludeTimes:r.props.excludeTimes,filterTime:r.props.filterTime,timeCaption:r.props.timeCaption,todayButton:r.props.todayButton,showMonthDropdown:r.props.showMonthDropdown,showMonthYearDropdown:r.props.showMonthYearDropdown,showYearDropdown:r.props.showYearDropdown,withPortal:r.props.withPortal,monthRef:r.state.monthContainer,injectTimes:r.props.injectTimes,locale:r.props.locale,handleOnKeyDown:r.props.handleOnKeyDown,showTimeSelectOnly:r.props.showTimeSelectOnly})}),L(V(r),"renderInputTimeSection",function(){var i=new Date(r.props.selected),o=Zi(i)&&r.props.selected?"".concat(Tk(i.getHours()),":").concat(Tk(i.getMinutes())):"";if(r.props.showTimeInput)return G.createElement(eee,{date:i,timeString:o,timeInputLabel:r.props.timeInputLabel,onChange:r.props.onTimeChange,customTimeInput:r.props.customTimeInput})}),L(V(r),"renderAriaLiveRegion",function(){var i,o=Da(r.state.date,r.props.yearItemNumber),s=o.startPeriod,a=o.endPeriod;return i=r.props.showYearPicker?"".concat(s," - ").concat(a):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Oe(r.state.date):"".concat(vw(wn(r.state.date),r.props.locale)," ").concat(Oe(r.state.date)),G.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&i)}),L(V(r),"renderChildren",function(){if(r.props.children)return G.createElement("div",{className:"react-datepicker__children-container"},r.props.children)}),r.containerRef=G.createRef(),r.state={date:r.getDateInView(),selectingDate:null,monthContainer:null,isRenderAriaLiveMessage:!1},r}return Zt(e,G.Component),Jt(e,[{key:"componentDidMount",value:function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=void n.setState({monthContainer:n.monthContainer}))}},{key:"componentDidUpdate",value:function(n){var r=this;if(!this.props.preSelection||Xe(this.props.preSelection,n.preSelection)&&this.props.monthSelectedIn===n.monthSelectedIn)this.props.openToDate&&!Xe(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate});else{var i=!Rr(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&r.handleCustomMonthChange(r.state.date)})}}},{key:"render",value:function(){var n=this.props.container||tee;return G.createElement("div",{style:{display:"contents"},ref:this.containerRef},G.createElement(n,{className:Ve("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly})},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))}}],[{key:"defaultProps",get:function(){return{onDropdownFocus:function(){},monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",customTimeInput:null,yearItemNumber:Qu}}}]),e}(),iee=function(t){var e=t.icon,n=t.className,r=n===void 0?"":n,i=t.onClick,o="react-datepicker__calendar-icon";return G.isValidElement(e)?G.cloneElement(e,{className:"".concat(e.props.className||""," ").concat(o," ").concat(r),onClick:function(s){typeof e.props.onClick=="function"&&e.props.onClick(s),typeof i=="function"&&i(s)}}):typeof e=="string"?G.createElement("i",{className:"".concat(o," ").concat(e," ").concat(r),"aria-hidden":"true",onClick:i}):G.createElement("svg",{className:"".concat(o," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},G.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},AD=function(t){function e(n){var r;return Xt(this,e),(r=Qt(this,e,[n])).el=document.createElement("div"),r}return Zt(e,G.Component),Jt(e,[{key:"componentDidMount",value:function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){this.portalRoot.removeChild(this.el)}},{key:"render",value:function(){return hL.createPortal(this.props.children,this.el)}}]),e}(),oee=function(t){return!t.disabled&&t.tabIndex!==-1},RD=function(t){function e(n){var r;return Xt(this,e),L(V(r=Qt(this,e,[n])),"getTabChildren",function(){return Array.prototype.slice.call(r.tabLoopRef.current.querySelectorAll("[tabindex], a, button, input, select, textarea"),1,-1).filter(oee)}),L(V(r),"handleFocusStart",function(){var i=r.getTabChildren();i&&i.length>1&&i[i.length-1].focus()}),L(V(r),"handleFocusEnd",function(){var i=r.getTabChildren();i&&i.length>1&&i[0].focus()}),r.tabLoopRef=G.createRef(),r}return Zt(e,G.Component),Jt(e,[{key:"render",value:function(){return this.props.enableTabLoop?G.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},G.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:"0",onFocus:this.handleFocusStart}),this.props.children,G.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:"0",onFocus:this.handleFocusEnd})):this.props.children}}],[{key:"defaultProps",get:function(){return{enableTabLoop:!0}}}]),e}(),Ck,see=(Ck=function(t){function e(){return Xt(this,e),Qt(this,e,arguments)}return Zt(e,G.Component),Jt(e,[{key:"render",value:function(){var n,r=this.props,i=r.className,o=r.wrapperClassName,s=r.hidePopper,a=r.popperComponent,l=r.targetComponent,u=r.enableTabLoop,h=r.popperOnKeyDown,c=r.portalId,f=r.portalHost,d=r.popperProps,g=r.showArrow;if(!s){var y=Ve("react-datepicker-popper",i);n=G.createElement(RD,{enableTabLoop:u},G.createElement("div",{ref:d.refs.setFloating,style:d.floatingStyles,className:y,"data-placement":d.placement,onKeyDown:h},a,g&&G.createElement(RZ,{ref:d.arrowRef,context:d.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(n=G.createElement(this.props.popperContainer,{},n)),c&&!s&&(n=G.createElement(AD,{portalId:c,portalHost:f},n));var w=Ve("react-datepicker-wrapper",o);return G.createElement(G.Fragment,null,G.createElement("div",{ref:d.refs.setReference,className:w},l),n)}}],[{key:"defaultProps",get:function(){return{hidePopper:!0}}}]),e}(),function(t){var e=Ti(Ti({},t),{},{popperModifiers:t.popperModifiers||[],popperProps:t.popperProps||{},hidePopper:typeof t.hidePopper!="boolean"||t.hidePopper}),n=G.useRef(),r=MZ(Ti({open:!e.hidePopper,whileElementsMounted:vZ,placement:e.popperPlacement,middleware:[_Z({padding:15}),nZ(10),EZ({element:n})].concat(Bs(e.popperModifiers))},e.popperProps));return G.createElement(Ck,qc({},e,{popperProps:Ti(Ti({},r),{},{arrowRef:n})}))}),Ak="react-datepicker-ignore-onclickoutside",aee=Cm(ree),ry="Date input not valid.",lee=function(t){function e(n){var r;return Xt(this,e),L(V(r=Qt(this,e,[n])),"getPreSelection",function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Je()}),L(V(r),"modifyHolidays",function(){var i;return(i=r.props.holidays)===null||i===void 0?void 0:i.reduce(function(o,s){var a=new Date(s.date);return jc(a)?[].concat(Bs(o),[Ti(Ti({},s),{},{date:a})]):o},[])}),L(V(r),"calcInitialState",function(){var i,o=r.getPreSelection(),s=TD(r.props),a=bD(r.props),l=s&&Vs(o,li(s))?s:a&&Lo(o,a_(a))?a:o;return{open:r.props.startOpen||!1,preventFocus:!1,preSelection:(i=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&i!==void 0?i:l,highlightDates:Ek(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1}}),L(V(r),"clearPreventFocusTimeout",function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)}),L(V(r),"setFocus",function(){r.input&&r.input.focus&&r.input.focus({preventScroll:!0})}),L(V(r),"setBlur",function(){r.input&&r.input.blur&&r.input.blur(),r.cancelFocusInput()}),L(V(r),"setOpen",function(i){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];r.setState({open:i,preSelection:i&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:iy},function(){i||r.setState(function(s){return{focused:!!o&&s.focused}},function(){!o&&r.setBlur(),r.setState({inputValue:null})})})}),L(V(r),"inputOk",function(){return Us(r.state.preSelection)}),L(V(r),"isCalendarOpen",function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open}),L(V(r),"handleFocus",function(i){r.state.preventFocus||(r.props.onFocus(i),r.props.preventOpenOnFocus||r.props.readOnly||r.setOpen(!0)),r.setState({focused:!0})}),L(V(r),"sendFocusBackToInput",function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})}),L(V(r),"cancelFocusInput",function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=null}),L(V(r),"deferFocusInput",function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)}),L(V(r),"handleDropdownFocus",function(){r.cancelFocusInput()}),L(V(r),"handleBlur",function(i){(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&r.props.onBlur(i),r.setState({focused:!1})}),L(V(r),"handleCalendarClickOutside",function(i){r.props.inline||r.setOpen(!1),r.props.onClickOutside(i),r.props.withPortal&&i.preventDefault()}),L(V(r),"handleChange",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];var a=o[0];if(!r.props.onChangeRaw||(r.props.onChangeRaw.apply(V(r),o),typeof a.isDefaultPrevented=="function"&&!a.isDefaultPrevented())){r.setState({inputValue:a.target.value,lastPreSelectChange:uee});var l,u,h,c,f,d,g,y,w=(l=a.target.value,u=r.props.dateFormat,h=r.props.locale,c=r.props.strictParsing,f=r.props.minDate,d=null,g=Ao(h)||Ao(Es()),y=!0,Array.isArray(u)?(u.forEach(function(m){var p=Kg(l,m,new Date,{locale:g,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});c&&(y=Zi(p,f)&&l===mt(p,m,h)),Zi(p,f)&&y&&(d=p)}),d):(d=Kg(l,u,new Date,{locale:g,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),c?y=Zi(d)&&l===mt(d,u,h):Zi(d)||(u=u.match(FZ).map(function(m){var p=m[0];if(p==="p"||p==="P"){var _=Yd[p];return g?_(m,g.formatLong):p}return m}).join(""),l.length>0&&(d=Kg(l,u.slice(0,l.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),Zi(d)||(d=new Date(l))),Zi(d)&&y?d:null));r.props.showTimeSelectOnly&&r.props.selected&&w&&!Xe(w,r.props.selected)&&(w=LZ(r.props.selected,{hours:ci(w),minutes:ui(w),seconds:GS(w)})),!w&&a.target.value||(r.props.showWeekPicker&&(w=Nr(w,r.props.locale,r.props.calendarStartDay)),r.setSelected(w,a,!0))}}),L(V(r),"handleSelect",function(i,o,s){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(o),r.props.showWeekPicker&&(i=Nr(i,r.props.locale,r.props.calendarStartDay)),r.setSelected(i,o,!1,s),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(i);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var a=r.props,l=a.startDate,u=a.endDate;!l||u||kk(i,l)||r.setOpen(!1)}}),L(V(r),"setSelected",function(i,o,s,a){var l=i;if(r.props.showYearPicker){if(l!==null&&ED(Oe(l),r.props))return}else if(r.props.showMonthYearPicker){if(l!==null&&wD(l,r.props))return}else if(l!==null&&Pm(l,r.props))return;var u=r.props,h=u.onChange,c=u.selectsRange,f=u.startDate,d=u.endDate;if(!ds(r.props.selected,l)||r.props.allowSameDay||c)if(l!==null&&(!r.props.selected||s&&(r.props.showTimeSelect||r.props.showTimeSelectOnly||r.props.showTimeInput)||(l=hk(l,{hour:ci(r.props.selected),minute:ui(r.props.selected),second:GS(r.props.selected)})),r.props.inline||r.setState({preSelection:l}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:a})),c){var g=f&&!d,y=f&&d;!f&&!d?h([l,null],o):g&&(kk(l,f)?h([l,null],o):h([f,l],o)),y&&h([l,null],o)}else h(l,o);s||(r.props.onSelect(l,o),r.setState({inputValue:null}))}),L(V(r),"setPreSelection",function(i){var o=r.props.minDate!==void 0,s=r.props.maxDate!==void 0,a=!0;if(i){r.props.showWeekPicker&&(i=Nr(i,r.props.locale,r.props.calendarStartDay));var l=li(i);if(o&&s)a=xf(i,r.props.minDate,r.props.maxDate);else if(o){var u=li(r.props.minDate);a=Lo(i,u)||ds(l,u)}else if(s){var h=a_(r.props.maxDate);a=Vs(i,h)||ds(l,h)}}a&&r.setState({preSelection:i})}),L(V(r),"toggleCalendar",function(){r.setOpen(!r.state.open)}),L(V(r),"handleTimeChange",function(i){var o=r.props.selected?r.props.selected:r.getPreSelection(),s=r.props.selected?i:hk(o,{hour:ci(i),minute:ui(i)});r.setState({preSelection:s}),r.props.onChange(s),r.props.shouldCloseOnSelect&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}),L(V(r),"onInputClick",function(){r.props.disabled||r.props.readOnly||r.setOpen(!0),r.props.onInputClick()}),L(V(r),"onInputKeyDown",function(i){r.props.onKeyDown(i);var o=i.key;if(r.state.open||r.props.inline||r.props.preventOpenOnFocus){if(r.state.open){if(o==="ArrowDown"||o==="ArrowUp"){i.preventDefault();var s=r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',a=r.calendar.componentNode&&r.calendar.componentNode.querySelector(s);return void(a&&a.focus({preventScroll:!0}))}var l=Je(r.state.preSelection);o==="Enter"?(i.preventDefault(),r.inputOk()&&r.state.lastPreSelectChange===iy?(r.handleSelect(l,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(l)):r.setOpen(!1)):o==="Escape"?(i.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1)):o==="Tab"&&r.setOpen(!1),r.inputOk()||r.props.onInputError({code:1,msg:ry})}}else o!=="ArrowDown"&&o!=="ArrowUp"&&o!=="Enter"||r.onInputClick()}),L(V(r),"onPortalKeyDown",function(i){i.key==="Escape"&&(i.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))}),L(V(r),"onDayKeyDown",function(i){r.props.onKeyDown(i);var o=i.key,s=i.shiftKey,a=Je(r.state.preSelection);if(o==="Enter")i.preventDefault(),r.handleSelect(a,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(a);else if(o==="Escape")i.preventDefault(),r.setOpen(!1),r.inputOk()||r.props.onInputError({code:1,msg:ry});else if(!r.props.disabledKeyboardNavigation){var l;switch(o){case"ArrowLeft":l=r.props.showWeekPicker?KS(a,1):oX(a,1);break;case"ArrowRight":l=r.props.showWeekPicker?Kd(a,1):Ko(a,1);break;case"ArrowUp":l=KS(a,1);break;case"ArrowDown":l=Kd(a,1);break;case"PageUp":l=s?Vc(a,1):vl(a,1);break;case"PageDown":l=s?yl(a,1):$r(a,1);break;case"Home":l=Nr(a,r.props.locale,r.props.calendarStartDay);break;case"End":l=cX(a);break;default:l=null}if(!l)return void(r.props.onInputError&&r.props.onInputError({code:1,msg:ry}));if(i.preventDefault(),r.setState({lastPreSelectChange:iy}),r.props.adjustDateOnChange&&r.setSelected(l),r.setPreSelection(l),r.props.inline){var u=wn(a),h=wn(l),c=Oe(a),f=Oe(l);u!==h||c!==f?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}}),L(V(r),"onPopperKeyDown",function(i){i.key==="Escape"&&(i.preventDefault(),r.sendFocusBackToInput())}),L(V(r),"onClearClick",function(i){i&&i.preventDefault&&i.preventDefault(),r.sendFocusBackToInput(),r.props.selectsRange?r.props.onChange([null,null],i):r.props.onChange(null,i),r.setState({inputValue:null})}),L(V(r),"clear",function(){r.onClearClick()}),L(V(r),"onScroll",function(i){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?i.target!==document&&i.target!==document.documentElement&&i.target!==document.body||r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(i)&&r.setOpen(!1)}),L(V(r),"renderCalendar",function(){return r.props.inline||r.isCalendarOpen()?G.createElement(aee,{ref:function(i){r.calendar=i},locale:r.props.locale,calendarStartDay:r.props.calendarStartDay,chooseDayAriaLabelPrefix:r.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:r.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:r.props.weekAriaLabelPrefix,monthAriaLabelPrefix:r.props.monthAriaLabelPrefix,adjustDateOnChange:r.props.adjustDateOnChange,setOpen:r.setOpen,shouldCloseOnSelect:r.props.shouldCloseOnSelect,dateFormat:r.props.dateFormatCalendar,useWeekdaysShort:r.props.useWeekdaysShort,formatWeekDay:r.props.formatWeekDay,dropdownMode:r.props.dropdownMode,selected:r.props.selected,preSelection:r.state.preSelection,onSelect:r.handleSelect,onWeekSelect:r.props.onWeekSelect,openToDate:r.props.openToDate,minDate:r.props.minDate,maxDate:r.props.maxDate,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,selectsRange:r.props.selectsRange,startDate:r.props.startDate,endDate:r.props.endDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,filterDate:r.props.filterDate,onClickOutside:r.handleCalendarClickOutside,formatWeekNumber:r.props.formatWeekNumber,highlightDates:r.state.highlightDates,holidays:UZ(r.modifyHolidays()),includeDates:r.props.includeDates,includeDateIntervals:r.props.includeDateIntervals,includeTimes:r.props.includeTimes,injectTimes:r.props.injectTimes,inline:r.props.inline,shouldFocusDayInline:r.state.shouldFocusDayInline,peekNextMonth:r.props.peekNextMonth,showMonthDropdown:r.props.showMonthDropdown,showPreviousMonths:r.props.showPreviousMonths,useShortMonthInDropdown:r.props.useShortMonthInDropdown,showMonthYearDropdown:r.props.showMonthYearDropdown,showWeekNumbers:r.props.showWeekNumbers,showYearDropdown:r.props.showYearDropdown,withPortal:r.props.withPortal,forceShowMonthNavigation:r.props.forceShowMonthNavigation,showDisabledMonthNavigation:r.props.showDisabledMonthNavigation,scrollableYearDropdown:r.props.scrollableYearDropdown,scrollableMonthYearDropdown:r.props.scrollableMonthYearDropdown,todayButton:r.props.todayButton,weekLabel:r.props.weekLabel,outsideClickIgnoreClass:Ak,fixedHeight:r.props.fixedHeight,monthsShown:r.props.monthsShown,monthSelectedIn:r.state.monthSelectedIn,onDropdownFocus:r.handleDropdownFocus,onMonthChange:r.props.onMonthChange,onYearChange:r.props.onYearChange,dayClassName:r.props.dayClassName,weekDayClassName:r.props.weekDayClassName,monthClassName:r.props.monthClassName,timeClassName:r.props.timeClassName,showDateSelect:r.props.showDateSelect,showTimeSelect:r.props.showTimeSelect,showTimeSelectOnly:r.props.showTimeSelectOnly,onTimeChange:r.handleTimeChange,timeFormat:r.props.timeFormat,timeIntervals:r.props.timeIntervals,minTime:r.props.minTime,maxTime:r.props.maxTime,excludeTimes:r.props.excludeTimes,filterTime:r.props.filterTime,timeCaption:r.props.timeCaption,className:r.props.calendarClassName,container:r.props.calendarContainer,yearItemNumber:r.props.yearItemNumber,yearDropdownItemNumber:r.props.yearDropdownItemNumber,previousMonthAriaLabel:r.props.previousMonthAriaLabel,previousMonthButtonLabel:r.props.previousMonthButtonLabel,nextMonthAriaLabel:r.props.nextMonthAriaLabel,nextMonthButtonLabel:r.props.nextMonthButtonLabel,previousYearAriaLabel:r.props.previousYearAriaLabel,previousYearButtonLabel:r.props.previousYearButtonLabel,nextYearAriaLabel:r.props.nextYearAriaLabel,nextYearButtonLabel:r.props.nextYearButtonLabel,timeInputLabel:r.props.timeInputLabel,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation,renderCustomHeader:r.props.renderCustomHeader,popperProps:r.props.popperProps,renderDayContents:r.props.renderDayContents,renderMonthContent:r.props.renderMonthContent,renderQuarterContent:r.props.renderQuarterContent,renderYearContent:r.props.renderYearContent,onDayMouseEnter:r.props.onDayMouseEnter,onMonthMouseLeave:r.props.onMonthMouseLeave,onYearMouseEnter:r.props.onYearMouseEnter,onYearMouseLeave:r.props.onYearMouseLeave,selectsDisabledDaysInRange:r.props.selectsDisabledDaysInRange,showTimeInput:r.props.showTimeInput,showMonthYearPicker:r.props.showMonthYearPicker,showFullMonthYearPicker:r.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:r.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:r.props.showFourColumnMonthYearPicker,showYearPicker:r.props.showYearPicker,showQuarterYearPicker:r.props.showQuarterYearPicker,showWeekPicker:r.props.showWeekPicker,excludeScrollbar:r.props.excludeScrollbar,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,isInputFocused:r.state.focused,customTimeInput:r.props.customTimeInput,setPreSelection:r.setPreSelection},r.props.children):null}),L(V(r),"renderAriaLiveRegion",function(){var i,o=r.props,s=o.dateFormat,a=o.locale,l=r.props.showTimeInput||r.props.showTimeSelect?"PPPPp":"PPPP";return i=r.props.selectsRange?"Selected start date: ".concat(Hr(r.props.startDate,{dateFormat:l,locale:a}),". ").concat(r.props.endDate?"End date: "+Hr(r.props.endDate,{dateFormat:l,locale:a}):""):r.props.showTimeSelectOnly?"Selected time: ".concat(Hr(r.props.selected,{dateFormat:s,locale:a})):r.props.showYearPicker?"Selected year: ".concat(Hr(r.props.selected,{dateFormat:"yyyy",locale:a})):r.props.showMonthYearPicker?"Selected month: ".concat(Hr(r.props.selected,{dateFormat:"MMMM yyyy",locale:a})):r.props.showQuarterYearPicker?"Selected quarter: ".concat(Hr(r.props.selected,{dateFormat:"yyyy, QQQ",locale:a})):"Selected date: ".concat(Hr(r.props.selected,{dateFormat:l,locale:a})),G.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},i)}),L(V(r),"renderDateInput",function(){var i,o=Ve(r.props.className,L({},Ak,r.state.open)),s=r.props.customInput||G.createElement("input",{type:"text"}),a=r.props.customInputRef||"ref",l=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?function(u,h,c){if(!u)return"";var f=Hr(u,c),d=h?Hr(h,c):"";return"".concat(f," - ").concat(d)}(r.props.startDate,r.props.endDate,r.props):Hr(r.props.selected,r.props);return G.cloneElement(s,(L(L(L(L(L(L(L(L(L(L(i={},a,function(u){r.input=u}),"value",l),"onBlur",r.handleBlur),"onChange",r.handleChange),"onClick",r.onInputClick),"onFocus",r.handleFocus),"onKeyDown",r.onInputKeyDown),"id",r.props.id),"name",r.props.name),"form",r.props.form),L(L(L(L(L(L(L(L(L(L(i,"autoFocus",r.props.autoFocus),"placeholder",r.props.placeholderText),"disabled",r.props.disabled),"autoComplete",r.props.autoComplete),"className",Ve(s.props.className,o)),"title",r.props.title),"readOnly",r.props.readOnly),"required",r.props.required),"tabIndex",r.props.tabIndex),"aria-describedby",r.props.ariaDescribedBy),L(L(L(i,"aria-invalid",r.props.ariaInvalid),"aria-labelledby",r.props.ariaLabelledBy),"aria-required",r.props.ariaRequired)))}),L(V(r),"renderClearButton",function(){var i=r.props,o=i.isClearable,s=i.disabled,a=i.selected,l=i.startDate,u=i.endDate,h=i.clearButtonTitle,c=i.clearButtonClassName,f=c===void 0?"":c,d=i.ariaLabelClose,g=d===void 0?"Close":d;return!o||a==null&&l==null&&u==null?null:G.createElement("button",{type:"button",className:Ve("react-datepicker__close-icon",f,{"react-datepicker__close-icon--disabled":s}),disabled:s,"aria-label":g,onClick:r.onClearClick,title:h,tabIndex:-1})}),r.state=r.calcInitialState(),r.preventFocusTimeout=null,r}return Zt(e,G.Component),Jt(e,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll,!0)}},{key:"componentDidUpdate",value:function(n,r){var i,o;n.inline&&(i=n.selected,o=this.props.selected,i&&o?wn(i)!==wn(o)||Oe(i)!==Oe(o):i!==o)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:Ek(this.props.highlightDates)}),r.focused||ds(n.selected,this.props.selected)||this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&this.props.onCalendarOpen(),r.open===!0&&this.state.open===!1&&this.props.onCalendarClose())}},{key:"componentWillUnmount",value:function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0)}},{key:"renderInputContainer",value:function(){var n=this.props,r=n.showIcon,i=n.icon,o=n.calendarIconClassname,s=n.toggleCalendarOnIconClick,a=this.state.open;return G.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&G.createElement(iee,qc({icon:i,className:"".concat(o," ").concat(a&&"react-datepicker-ignore-onclickoutside")},s?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())}},{key:"render",value:function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var r=this.state.open?G.createElement(RD,{enableTabLoop:this.props.enableTabLoop},G.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(r=G.createElement(AD,{portalId:this.props.portalId,portalHost:this.props.portalHost},r)),G.createElement("div",null,this.renderInputContainer(),r)}return G.createElement(see,{className:this.props.popperClassName,wrapperClassName:this.props.wrapperClassName,hidePopper:!this.isCalendarOpen(),portalId:this.props.portalId,portalHost:this.props.portalHost,popperModifiers:this.props.popperModifiers,targetComponent:this.renderInputContainer(),popperContainer:this.props.popperContainer,popperComponent:n,popperPlacement:this.props.popperPlacement,popperProps:this.props.popperProps,popperOnKeyDown:this.onPopperKeyDown,enableTabLoop:this.props.enableTabLoop,showArrow:this.props.showPopperArrow})}}],[{key:"defaultProps",get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",onChange:function(){},disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",onFocus:function(){},onBlur:function(){},onKeyDown:function(){},onInputClick:function(){},onSelect:function(){},onClickOutside:function(){},onMonthChange:function(){},onCalendarOpen:function(){},onCalendarClose:function(){},preventOpenOnFocus:!1,onYearChange:function(){},onInputError:function(){},monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Qu,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1}}}]),e}(),uee="input",iy="navigate";const cee=()=>{const[t,e]=q.useState(""),[n,r]=q.useState(new Date),[i,o]=q.useState(""),s=async a=>{a.preventDefault();try{await Ml(sr(ut,"agenda"),{judul:t,tanggal:n,isi:i,createdAt:mP()}),e(""),r(new Date),o(""),console.log("Agenda reminder added successfully!")}catch(l){console.error("Error adding agenda reminder:",l)}};return N.jsx(N.Fragment,{children:N.jsxs(ze,{onSubmit:s,className:"mx-5",children:[N.jsx("h2",{children:"Buat Agenda"}),N.jsx("hr",{className:"text-dark"}),N.jsxs(ze.Group,{children:[N.jsx(ze.Label,{children:"Judul:"}),N.jsx(ze.Control,{type:"text",value:t,onChange:a=>e(a.target.value)})]}),N.jsxs(ze.Group,{className:"my-5",children:[" ",N.jsx(ze.Label,{children:"Deskripsi:"})," ",N.jsx(ze.Control,{type:"text",value:i,onChange:a=>o(a.target.value)})]}),N.jsxs(ze.Group,{className:"my-5",children:[N.jsx(ze.Label,{children:"Tanggal:"})," ",N.jsx(lee,{selected:n,onChange:a=>r(a),className:"compact-datepicker"})]}),N.jsx(Zr,{type:"submit",onChange:s,children:"Tambahkan Agenda"})]})})},hee=()=>{const[t,e]=q.useState([]);q.useEffect(()=>{(async()=>{try{const o=(await Xs(sr(ut,"agenda"))).docs.map(s=>({id:s.id,...s.data()}));e(o)}catch(i){console.error("Error fetching documents:",i)}})()},[]);const n=async r=>{try{if(console.log("Deleting document with ID:",r),!r){console.error("Invalid documentId:",r);return}const i=pr(ut,"agenda",r);await Ns(i),e(o=>o.filter(s=>s.id!==r)),console.log("Document deleted successfully:",r)}catch(i){console.error("Error deleting document:",i)}};return N.jsxs("div",{className:"document-list-container",children:[N.jsx("h2",{children:"JADWAL AGENDA"}),N.jsx("ul",{className:"document-list",children:t.map(r=>N.jsx("li",{className:"document-card",children:N.jsxs("div",{className:"document-card-content",children:[N.jsx("h3",{children:r.judul}),N.jsx("p",{children:r.isi}),N.jsx("button",{onClick:()=>n(r.id),children:"Delete"})]})},r.id))})]})},fee=()=>N.jsxs(N.Fragment,{children:[" ",N.jsx(ea,{fluid:!0,className:"bg-light min-vh-100",children:N.jsxs($i,{children:[N.jsx(un,{md:"3",className:"bg-white min-vh-100",children:N.jsx(ta,{})}),N.jsxs(un,{className:"py-5",md:"9",children:[N.jsx(cee,{}),N.jsx(hee,{})]})]})})]}),dee=()=>{const[t,e]=q.useState(null),[n,r]=q.useState(""),[i,o]=q.useState(""),[s,a]=q.useState(null),[l,u]=q.useState([]);q.useEffect(()=>{(async()=>{try{const g=(await Xs(sr(ut,"prestasi"))).docs.map(y=>y.data().imageUrl);console.log("Fetched URLs: ",g),u(g)}catch(d){console.error("Error fetching image URLs: ",d)}})()},[]);const h=f=>{const d=f.target.files[0];e(d);const g=new FileReader;g.onloadend=()=>{a(g.result)},g.readAsDataURL(d)},c=async f=>{f.preventDefault();try{const d=dl(Ds,`images/${t.name}`),g=N1(d,t);g.on("state_changed",y=>{const w=y.bytesTransferred/y.totalBytes*100;console.log("Upload is "+w+"% done")},y=>{console.error("Error during upload: ",y)},async()=>{const y=await fm(g.snapshot.ref);console.log("Image URL:",y);const w=await Ml(sr(ut,"prestasi"),{title:i,description:n,imageUrl:y});console.log("Document written with ID: ",w.id),e(null),r(""),o(""),a(null),u(m=>[...m,y])})}catch(d){console.error("Error uploading image and creating document: ",d)}};return N.jsx("div",{children:N.jsxs(ze,{className:"mx-5",onSubmit:c,children:[N.jsx("h2",{children:"Buat Postingan Prestasi"}),N.jsx("hr",{className:"text-dark"}),N.jsxs(ze.Group,{className:"my-5",children:[" ",N.jsx(ze.Control,{type:"text",placeholder:"Title",value:i,onChange:f=>o(f.target.value)})]}),N.jsx(ze.Group,{className:"my-5",children:N.jsx("textarea",{placeholder:"Description",value:n,onChange:f=>r(f.target.value)})}),N.jsxs(ze.Group,{className:"my-5",children:[N.jsx(ze.Control,{type:"file",onChange:h}),s&&N.jsx("img",{src:s,alt:"Preview",style:{maxWidth:"200px"}})]}),N.jsx("button",{type:"submit",children:"Upload"})]})})},pee=()=>{const[t,e]=q.useState([]);q.useEffect(()=>{(async()=>{try{const o=(await Xs(sr(ut,"prestasi"))).docs.map(s=>({id:s.id,title:s.data().title,description:s.data().description,imageUrl:s.data().imageUrl}));e(o)}catch(i){console.error("Error fetching prestasi list: ",i)}})()},[]);const n=async r=>{try{if(console.log("Deleting document with ID:",r),!r){console.error("Invalid documentId:",r);return}const i=pr(ut,"agenda",r);await Ns(i),setDocuments(o=>o.filter(s=>s.id!==r)),console.log("Document deleted successfully:",r)}catch(i){console.error("Error deleting document:",i)}};return N.jsxs("div",{className:"document-list-container my-5",children:[N.jsx("h2",{children:"List of Prestasi"}),N.jsx("div",{className:"d-flex",children:t.map(r=>N.jsxs("div",{className:"document-card",children:[N.jsx("img",{src:r.imageUrl,alt:r.title,className:"card-image"}),N.jsx("h3",{children:r.title}),N.jsx("p",{children:r.description}),N.jsx("button",{onClick:()=>n(r.id),children:"Delete"})]},r.id))})]})},mee=()=>N.jsxs(N.Fragment,{children:[" ",N.jsx(ea,{fluid:!0,className:"bg-light min-vh-100",children:N.jsxs($i,{children:[N.jsx(un,{md:"3",className:"bg-white min-vh-100",children:N.jsx(ta,{})}),N.jsxs(un,{className:"py-5",md:"9",children:[N.jsx(dee,{}),N.jsx(pee,{})]})]})})]}),gee=()=>{const[t,e]=q.useState(null),[n,r]=q.useState(""),[i,o]=q.useState(!1),s=u=>{const h=u.target.files[0];e(h);const c=new FileReader;c.onloadend=()=>{r(c.result)},c.readAsDataURL(h)},a=async()=>{try{const u=dl(Ds,`images/${t.name}`),h=N1(u,t);await h;const c=await fm(h.snapshot.ref),f=await Ml(sr(ut,"foto_carousel"),{Gambar1:c});console.log("Document written with ID: ",f.id)}catch(u){console.error("Error uploading image: ",u)}},l=async()=>{try{o(!0);const h=(await Xs(sr(ut,"foto_carousel"))).docs[0];await Ns(pr(ut,"foto_carousel",h.id));const c=dl(Ds,`images/${t.name}`);await MP(c),e(null),r("")}catch(u){console.error("Error deleting image: ",u)}finally{o(!1)}};return N.jsxs(ze,{className:"m-5",children:[N.jsx("h2",{children:"Buat Postingan Foto"}),N.jsx("hr",{className:"text-dark"}),N.jsxs(ze.Group,{className:"my-5",children:[N.jsx(ze.Control,{type:"file",onChange:s}),n&&N.jsx("img",{src:n,alt:"Preview",style:{maxWidth:"200px"}})]}),N.jsx(ze.Group,{className:"my-5",children:N.jsx(Zr,{variant:"primary",onClick:a,children:"Upload"})}),N.jsx(ze.Group,{className:"my-5",children:N.jsx(Zr,{variant:"success",onClick:l,disabled:!n||i,children:"Delete"})})]})},yee=()=>N.jsx(ea,{fluid:!0,className:"bg-light min-vh-100",children:N.jsxs($i,{children:[N.jsx(un,{md:"3",className:"bg-white min-vh-100",children:N.jsx(ta,{})}),N.jsx(un,{className:"py-5",md:"auto",children:N.jsx(gee,{})})]})}),vee=()=>{const{albumId:t}=QC(),[e,n]=q.useState(null);return q.useEffect(()=>{console.log("Album ID:",t),(async()=>{try{const i=await Af(pr(ut,"album_foto",t));if(i.exists()){const o=i.data();console.log("Fetched Album Data:",o),n(o)}else console.error("Album not found")}catch(i){console.error("Error fetching album:",i)}})()},[t]),e?N.jsxs("div",{children:[N.jsx("h2",{children:e.albumName}),e.imageUrls&&e.imageUrls.length>0?N.jsx("div",{children:N.jsx("ul",{children:e.imageUrls.map((r,i)=>N.jsx("li",{children:N.jsx("img",{src:r,alt:`album-image-${i}`})},i))})}):N.jsx("p",{children:"No images found in the album."})]}):N.jsx("p",{children:"Loading..."})};function _ee(){return N.jsx(N.Fragment,{children:N.jsx("div",{children:N.jsx(a4,{children:N.jsxs(e4,{children:[N.jsx(Sr,{path:"/",exact:!0,element:N.jsx(nQ,{})}),N.jsx(Sr,{path:"/login",element:N.jsx(A$,{})}),N.jsx(Sr,{path:"/agenda",element:N.jsx(fee,{})}),N.jsx(Sr,{path:"/posts",element:N.jsx(iQ,{})}),N.jsx(Sr,{path:"/galeri",element:N.jsx(aQ,{})}),N.jsx(Sr,{path:"/prestasi",element:N.jsx(mee,{})}),N.jsx(Sr,{path:"/carousel",element:N.jsx(yee,{})}),N.jsx(Sr,{path:"/artikel",exact:!0,element:N.jsx(Bx,{})}),N.jsx(Sr,{path:"/document/:id",element:N.jsx(lQ,{})})," ",N.jsx(Sr,{path:"/albums/:albumId",element:N.jsx(vee,{})})]})})})})}oy.createRoot(document.getElementById("root")).render(N.jsx(G.StrictMode,{children:N.jsx(_ee,{})}));
